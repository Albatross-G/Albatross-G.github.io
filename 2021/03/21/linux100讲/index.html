<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="linux100讲"><meta name="keywords" content=""><meta name="author" content="George"><meta name="copyright" content="George"><title>linux100讲 | A.</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.6.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.6.1"><link rel="dns-prefetch" href="https://cdn.staticfile.org"><link rel="dns-prefetch" href="https://cdn.bootcss.com"><link rel="dns-prefetch" href="https://creativecommons.org"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 4.2.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#如何使用命令"><span class="toc-number">1.</span> <span class="toc-text">如何使用命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件相关命令"><span class="toc-number">2.</span> <span class="toc-text">文件相关命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ls"><span class="toc-number">2.1.</span> <span class="toc-text">ls</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cd"><span class="toc-number">2.2.</span> <span class="toc-text">cd</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mkdir"><span class="toc-number">2.3.</span> <span class="toc-text">mkdir</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#rm"><span class="toc-number">2.4.</span> <span class="toc-text">rm</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cp"><span class="toc-number">2.5.</span> <span class="toc-text">cp</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mv"><span class="toc-number">2.6.</span> <span class="toc-text">mv</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#wc"><span class="toc-number">2.7.</span> <span class="toc-text">wc</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#解压缩"><span class="toc-number">3.</span> <span class="toc-text">解压缩</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Vim"><span class="toc-number">4.</span> <span class="toc-text">Vim</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#正常模式"><span class="toc-number">4.1.</span> <span class="toc-text">正常模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#移动"><span class="toc-number">4.1.1.</span> <span class="toc-text">移动</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#复制粘贴"><span class="toc-number">4.1.2.</span> <span class="toc-text">复制粘贴</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#撤销"><span class="toc-number">4.1.3.</span> <span class="toc-text">撤销</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#插入模式"><span class="toc-number">4.2.</span> <span class="toc-text">插入模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#末行模式"><span class="toc-number">4.3.</span> <span class="toc-text">末行模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#查找"><span class="toc-number">4.3.1.</span> <span class="toc-text">查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#替换"><span class="toc-number">4.3.2.</span> <span class="toc-text">替换</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#可视模式"><span class="toc-number">4.4.</span> <span class="toc-text">可视模式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#用户管理"><span class="toc-number">5.</span> <span class="toc-text">用户管理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#su-sudo"><span class="toc-number">6.</span> <span class="toc-text">su&#x2F;sudo</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#文件权限"><span class="toc-number">7.</span> <span class="toc-text">文件权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#特殊权限"><span class="toc-number">7.1.</span> <span class="toc-text">特殊权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#给指定用户赋予指定权限"><span class="toc-number">7.2.</span> <span class="toc-text">给指定用户赋予指定权限</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#网络"><span class="toc-number">8.</span> <span class="toc-text">网络</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#修改配置"><span class="toc-number">8.1.</span> <span class="toc-text">修改配置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#故障排除"><span class="toc-number">8.2.</span> <span class="toc-text">故障排除</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#网络管理"><span class="toc-number">8.3.</span> <span class="toc-text">网络管理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#软件包"><span class="toc-number">9.</span> <span class="toc-text">软件包</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#centos"><span class="toc-number">9.1.</span> <span class="toc-text">centos</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#rpm"><span class="toc-number">9.1.1.</span> <span class="toc-text">rpm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#源代码编译安装"><span class="toc-number">9.1.2.</span> <span class="toc-text">源代码编译安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yum"><span class="toc-number">9.1.3.</span> <span class="toc-text">yum</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ubuntu"><span class="toc-number">9.2.</span> <span class="toc-text">ubuntu</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#grub文件"><span class="toc-number">10.</span> <span class="toc-text">grub文件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#内核引导"><span class="toc-number">10.1.</span> <span class="toc-text">内核引导</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改root密码"><span class="toc-number">10.2.</span> <span class="toc-text">修改root密码</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#进程管理"><span class="toc-number">11.</span> <span class="toc-text">进程管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#进程的前后台"><span class="toc-number">11.1.</span> <span class="toc-text">进程的前后台</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#杀死进程"><span class="toc-number">11.2.</span> <span class="toc-text">杀死进程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#nuhup和-amp"><span class="toc-number">11.3.</span> <span class="toc-text">nuhup和&amp;</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#screen"><span class="toc-number">11.4.</span> <span class="toc-text">screen</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#系统日志"><span class="toc-number">12.</span> <span class="toc-text">系统日志</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#systemctl"><span class="toc-number">13.</span> <span class="toc-text">systemctl</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SElinux"><span class="toc-number">14.</span> <span class="toc-text">SElinux</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#内存与磁盘管理"><span class="toc-number">15.</span> <span class="toc-text">内存与磁盘管理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#查看内存"><span class="toc-number">15.1.</span> <span class="toc-text">查看内存</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看磁盘"><span class="toc-number">15.2.</span> <span class="toc-text">查看磁盘</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#i节点"><span class="toc-number">15.3.</span> <span class="toc-text">i节点</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#链接"><span class="toc-number">15.4.</span> <span class="toc-text">链接</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#硬链接"><span class="toc-number">15.4.1.</span> <span class="toc-text">硬链接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#软链接"><span class="toc-number">15.4.2.</span> <span class="toc-text">软链接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#磁盘分区"><span class="toc-number">15.5.</span> <span class="toc-text">磁盘分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#用户磁盘配额"><span class="toc-number">15.6.</span> <span class="toc-text">用户磁盘配额</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#交换分区"><span class="toc-number">15.7.</span> <span class="toc-text">交换分区</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#RAID"><span class="toc-number">15.8.</span> <span class="toc-text">RAID</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#逻辑卷LVM"><span class="toc-number">15.9.</span> <span class="toc-text">逻辑卷LVM</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#查看系统综合状态"><span class="toc-number">15.10.</span> <span class="toc-text">查看系统综合状态</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#shell编程"><span class="toc-number">16.</span> <span class="toc-text">shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#重定向"><span class="toc-number">16.1.</span> <span class="toc-text">重定向</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#EOF用法："><span class="toc-number">16.1.1.</span> <span class="toc-text">EOF用法：</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#变量"><span class="toc-number">16.2.</span> <span class="toc-text">变量</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#awk"><span class="toc-number">17.</span> <span class="toc-text">awk</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">George</div><div class="author-info__description text-center">Here recording my growth of technology and hope you can gain something here.</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">98</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">Tags</span><span class="pull-right">18</span></a><a class="author-info-articles__categories article-meta" href="/categories"><span class="pull-left">Categories</span><span class="pull-right">19</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://Albatross-G.github.io/img/a1.png)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">A.</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a><a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span></div><div id="post-info"><div id="post-title">linux100讲</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2021-03-21</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><h2 id="如何使用命令"><a href="#如何使用命令" class="headerlink" title="如何使用命令"></a>如何使用命令</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man passwd</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">man 5 passwd		&#x2F;&#x2F;passwd文件的作用</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls --help			&#x2F;&#x2F;简略教程</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">info ls 			&#x2F;&#x2F;稍微详细的教程</span><br></pre></td></tr></table></figure>



<h2 id="文件相关命令"><a href="#文件相关命令" class="headerlink" title="文件相关命令"></a>文件相关命令</h2><h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/1.png" alt="1"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ls -lh			&#x2F;&#x2F;以M为单位显示文件大小</span><br></pre></td></tr></table></figure>







<h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd -			&#x2F;&#x2F;回到之前目录</span><br></pre></td></tr></table></figure>



<h3 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p a&#x2F;b&#x2F;c&#x2F;c&#x2F;d			&#x2F;&#x2F;创建新的目录下的目录</span><br></pre></td></tr></table></figure>



<h3 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm -r			&#x2F;&#x2F;递归删除</span><br></pre></td></tr></table></figure>



<h3 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -a	f1 f2	&#x2F;&#x2F;保留权限和时间</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -r	&#x2F;&#x2F;复制目录</span><br></pre></td></tr></table></figure>



<h3 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv a -t b			&#x2F;&#x2F;把目录a移动到目录b</span><br></pre></td></tr></table></figure>

<p>注意：<code>mv -t a b</code>会移动反</p>
<h3 id="wc"><a href="#wc" class="headerlink" title="wc"></a>wc</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wc -w filename			&#x2F;&#x2F;查看文件有关信息（word数）</span><br></pre></td></tr></table></figure>







<h2 id="解压缩"><a href="#解压缩" class="headerlink" title="解压缩"></a>解压缩</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar zcf etc-backup.tar.gz &#x2F;etc			&#x2F;&#x2F;以gzip形式压缩【压缩快，但压缩能力稍弱】</span><br><span class="line">tar jcf etc-backup.tar.bz2 &#x2F;etc		&#x2F;&#x2F;以bzip2形式压缩【压缩慢，但压缩能力强】</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">tar zxf etc-backup.tar.gz -C &#x2F;root		&#x2F;&#x2F;以gzip形式解压并输出到&#x2F;root目录</span><br><span class="line">tar jxf etc-backup.tar.bz2 -C &#x2F;root		&#x2F;&#x2F;以bzip2形式解压并输出到&#x2F;root目录</span><br></pre></td></tr></table></figure>

<blockquote>
<p>.tar.gz有时缩写为.tgz</p>
</blockquote>
<h2 id="Vim"><a href="#Vim" class="headerlink" title="Vim"></a>Vim</h2><h3 id="正常模式"><a href="#正常模式" class="headerlink" title="正常模式"></a>正常模式</h3><h4 id="移动"><a href="#移动" class="headerlink" title="移动"></a>移动</h4><p>上【k】下【j】左【h】右【l】</p>
<p><code>:set nu</code>   显示行号</p>
<p>n然后shift+g：移动到n行</p>
<p>g：移动到第一行</p>
<p>shift+g：移动到最后一行</p>
<p>^:移动到行首</p>
<p>$:移动到行末</p>
<h4 id="复制粘贴"><a href="#复制粘贴" class="headerlink" title="复制粘贴"></a>复制粘贴</h4><p>y：复制</p>
<p>yy：复制整行</p>
<p>nyy：复制从当前行开始的n行</p>
<p>y$：从当前位置复制到行尾</p>
<p>dd：剪切</p>
<p>d$：从当前位置剪切到行尾</p>
<h4 id="撤销"><a href="#撤销" class="headerlink" title="撤销"></a>撤销</h4><p>撤销：u</p>
<p>取消撤销：Ctrl + r</p>
<h3 id="插入模式"><a href="#插入模式" class="headerlink" title="插入模式"></a>插入模式</h3><p>进入：</p>
<p>i：正常进入</p>
<p>I：进入本行开头</p>
<p>a：进入后一字符</p>
<p>A：进入该行结尾</p>
<p>o：在该行下另起一行</p>
<p>O：进改行上另起一行</p>
<h3 id="末行模式"><a href="#末行模式" class="headerlink" title="末行模式"></a>末行模式</h3><p><code>:w filename</code>    保存文件为filename</p>
<p>:! + 系统命令    vim编辑时想查看系统命令</p>
<h4 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h4><p>/abc    查找文档中的abc【之后按回车之后：n跳到后一个字符；N跳到前一个字符】</p>
<h4 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h4><p>:s/a/b    在该行把第一个a替换为b</p>
<p>:s/a/b/g    在该行把所有a替换为b</p>
<p>:%s/a/b    在每一行里把第一个a替换为b</p>
<p>:%s/a/b/g    将文档里所有a替换为b</p>
<p>:3,5s/a/b    在第3行到第5行之间将a替换为b</p>
<p><code>:set nu</code>   显示行号</p>
<p><code>:set nonu</code>不显示行号</p>
<h3 id="可视模式"><a href="#可视模式" class="headerlink" title="可视模式"></a>可视模式</h3><p>v：可视</p>
<p>Ctrl + v：可视块</p>
<p>shift + v：可视行</p>
<h2 id="用户管理"><a href="#用户管理" class="headerlink" title="用户管理"></a>用户管理</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/2.png" alt="2"></p>
<p><img src="/2021/03/21/linux100%E8%AE%B2/3.png" alt="3"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod&#x2F;useradd -g group1 user1</span><br></pre></td></tr></table></figure>







<h2 id="su-sudo"><a href="#su-sudo" class="headerlink" title="su/sudo"></a>su/sudo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su - username</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo 以其他用户身份执行命令</span><br><span class="line">sudo &#x2F;sbin&#x2F;shutdown -c</span><br></pre></td></tr></table></figure>

<blockquote>
<p>怎么知道<code>shutdown -c</code>在sbin目录下？</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">which shutdown -c			&#x2F;&#x2F;which:locate a command</span><br></pre></td></tr></table></figure>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visudo		设置使用sudo的用户</span><br></pre></td></tr></table></figure>





<h2 id="文件权限"><a href="#文件权限" class="headerlink" title="文件权限"></a>文件权限</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/4.png" alt="4"></p>
<blockquote>
<p>权限：</p>
<p>r-4，w-2，x-1</p>
<p>属主，属组，其他人</p>
</blockquote>
<p><img src="/2021/03/21/linux100%E8%AE%B2/5.png" alt="5"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chown user1 文件或目录</span><br><span class="line">chown user1 group1 文件或目录</span><br><span class="line">chgrp group1 文件或目录</span><br></pre></td></tr></table></figure>



<h3 id="特殊权限"><a href="#特殊权限" class="headerlink" title="特殊权限"></a>特殊权限</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/6.png" alt="6"></p>
<p>SUID：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod o+s &#x2F;tmp或</span><br><span class="line">chmod 4777 &#x2F;tmp</span><br></pre></td></tr></table></figure>

<p>SGID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod g+s &#x2F;tmp或</span><br><span class="line">chmod 2777 &#x2F;tmp</span><br></pre></td></tr></table></figure>

<p>SBIT</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod o+t &#x2F;tmp或者</span><br><span class="line">chmod 1777 &#x2F;tmp</span><br></pre></td></tr></table></figure>





<blockquote>
<p> SUID：置于 u 的 x 位，原位置有执行权限，就置为 s，没有了为 S .<br> SGID：置于 g 的 x 位，原位置有执行权限，就置为 s，没有了为 S .<br> STICKY：粘滞位，置于 o 的 x 位，原位置有执行权限，就置为 t ，否则为T .</p>
</blockquote>
<h3 id="给指定用户赋予指定权限"><a href="#给指定用户赋予指定权限" class="headerlink" title="给指定用户赋予指定权限"></a>给指定用户赋予指定权限</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">getfacl file		&#x2F;&#x2F;查看文件权限</span><br><span class="line">setfacl -m u:user1:rw file		&#x2F;&#x2F;给user1用户增加对file文件的rw权限</span><br><span class="line">setfacl -x g:group1:w file		&#x2F;&#x2F;给group1组减少对file文件的w权限</span><br></pre></td></tr></table></figure>







<h2 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/7.png" alt="7"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mii-tool etho			&#x2F;&#x2F;查看网卡物理连接状态</span><br><span class="line">route -n				&#x2F;&#x2F;查看网关</span><br></pre></td></tr></table></figure>



<h3 id="修改配置"><a href="#修改配置" class="headerlink" title="修改配置"></a>修改配置</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ifconfig eth0[接口] 192.168.33.123[修改的ip地址] netmask 255.255.255.0[设置的子网掩码]</span><br><span class="line">ifup eth0			&#x2F;&#x2F;打开接口</span><br><span class="line">ifdown eth0</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">route add&#x2F;del default[destination] gw 192.168.33.1[配置的网关]</span><br><span class="line">route add -host 10.0.0.1 gw 10.211.55.1			&#x2F;&#x2F;访问10.0.0.1时通过网关10.211.55.1</span><br><span class="line">route add -net 192.168.0.0 netmask 255.255.255.0 gw 10.211.55.2			&#x2F;&#x2F;设置网段的明细路由</span><br></pre></td></tr></table></figure>

<p><img src="/2021/03/21/linux100%E8%AE%B2/8.png" alt="8"></p>
<h3 id="故障排除"><a href="#故障排除" class="headerlink" title="故障排除"></a>故障排除</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ping des</span><br><span class="line">traceroute -w 1 des		&#x2F;&#x2F;最多等1分钟</span><br><span class="line">mtr			&#x2F;&#x2F;详细一点的traceroute</span><br><span class="line">nslookup 域名			&#x2F;&#x2F;域名转换为ip地址</span><br><span class="line">telnet 域名 80[端口号]		&#x2F;&#x2F;查看与域名对应的端口号能否通信</span><br><span class="line">tcpdump	-i any[网卡] -n[解析成ip] host 10.0.0.1 and port 80 -w &#x2F;0ath[保存的路径]</span><br><span class="line">netstat -ntpl</span><br><span class="line">ss -ntpl</span><br></pre></td></tr></table></figure>





<h3 id="网络管理"><a href="#网络管理" class="headerlink" title="网络管理"></a>网络管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service networking restart&#x2F;stop&#x2F;status</span><br><span class="line">vim &#x2F;etc&#x2F;network&#x2F;interfaces</span><br></pre></td></tr></table></figure>

<blockquote>
<p>主机名：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl	set-hostname	AGsite</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;hosts</span><br></pre></td></tr></table></figure>


</blockquote>
<h2 id="软件包"><a href="#软件包" class="headerlink" title="软件包"></a>软件包</h2><h3 id="centos"><a href="#centos" class="headerlink" title="centos"></a>centos</h3><h4 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm	-q			&#x2F;&#x2F;查询软件包</span><br><span class="line">rpm	-i			&#x2F;&#x2F;安装软件包</span><br><span class="line">rpm -e			&#x2F;&#x2F;卸载软件包</span><br></pre></td></tr></table></figure>



<h4 id="源代码编译安装"><a href="#源代码编译安装" class="headerlink" title="源代码编译安装"></a>源代码编译安装</h4><p><img src="/2021/03/21/linux100%E8%AE%B2/9.png" alt="9"></p>
<p>有时会需要安装依赖包，即</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install openssl-devel			&#x2F;&#x2F;-devel表示依赖包</span><br></pre></td></tr></table></figure>



<h4 id="yum"><a href="#yum" class="headerlink" title="yum"></a>yum</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install</span><br></pre></td></tr></table></figure>



<blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">uname	-r			&#x2F;&#x2F;查看内核版本</span><br><span class="line">lscpu				&#x2F;&#x2F;查看CPU</span><br></pre></td></tr></table></figure>
</blockquote>
<h3 id="ubuntu"><a href="#ubuntu" class="headerlink" title="ubuntu"></a>ubuntu</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get install</span><br></pre></td></tr></table></figure>





<h2 id="grub文件"><a href="#grub文件" class="headerlink" title="grub文件"></a>grub文件</h2><h3 id="内核引导"><a href="#内核引导" class="headerlink" title="内核引导"></a>内核引导</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vim &#x2F;etc&#x2F;default&#x2F;grub</span><br><span class="line">grep ^menu &#x2F;boot&#x2F;grub&#x2F;grub.cfg			&#x2F;&#x2F;查看有哪些内核版本</span><br><span class="line">grub-editenv list						&#x2F;&#x2F;查看当前默认内核启动版本</span><br><span class="line">grub-set-defaut 0						&#x2F;&#x2F;设置默认内核为之前【grep】的第一个</span><br></pre></td></tr></table></figure>



<h3 id="修改root密码"><a href="#修改root密码" class="headerlink" title="修改root密码"></a>修改root密码</h3><p>在选择内核界面选择需要的内核并点击e。</p>
<ol>
<li>kali：在quiet后面加<code>init=/bin/bash</code></li>
<li>centos：在quiet后面加single【centos之后好像就要加别的东西了】</li>
</ol>
<h2 id="进程管理"><a href="#进程管理" class="headerlink" title="进程管理"></a>进程管理</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ps	-ef</span><br><span class="line">ps	-eLf	&#x2F;&#x2F;可查看线程信息</span><br><span class="line"></span><br><span class="line">pstree</span><br><span class="line">top</span><br></pre></td></tr></table></figure>



<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nice -n 10 .&#x2F;a.sh【需要先停止a.sh】	&#x2F;&#x2F;调节进程优先级【-20~19,数字越小优先级越高】</span><br><span class="line">renice -n 10 1920【进程号】	【不需要停止进程】</span><br></pre></td></tr></table></figure>



<h3 id="进程的前后台"><a href="#进程的前后台" class="headerlink" title="进程的前后台"></a>进程的前后台</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;a.sh &amp;		&#x2F;&#x2F;进程后台运行</span><br><span class="line"></span><br><span class="line">jobs			&#x2F;&#x2F;查看运行中的程序</span><br><span class="line">Ctrl+z			&#x2F;&#x2F;将前台运行的文件放入后台并挂起</span><br><span class="line">fg 1			&#x2F;&#x2F;将后台程序调到前台【1是jobs显示的作业号】</span><br><span class="line">bd 1</span><br></pre></td></tr></table></figure>



<h3 id="杀死进程"><a href="#杀死进程" class="headerlink" title="杀死进程"></a>杀死进程</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill -9 PID</span><br></pre></td></tr></table></figure>







<h3 id="nuhup和-amp"><a href="#nuhup和-amp" class="headerlink" title="nuhup和&amp;"></a>nuhup和&amp;</h3><blockquote>
<p>SIGINT：（signal interrupt）一般Ctrl+c引起</p>
<p>SIGHUP：（signal hang up）一般关掉终端时引起</p>
<p>当我们运行后台程序&amp;的时候，如果要停止需要SIGNUP信号，即关掉该Session（终端）【Ctrl+c无效】</p>
<p>当我们运行Nohup程序时，如果要停止需要SIGNINT信号，即Ctrl+c【关掉后端无效】</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nohup .&#x2F;a.sh AG</span><br></pre></td></tr></table></figure>





<h3 id="screen"><a href="#screen" class="headerlink" title="screen"></a>screen</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">screen -S ag		&#x2F;&#x2F;创建一个新会话</span><br><span class="line">screen -ls			&#x2F;&#x2F;查看已经创建的会话</span><br><span class="line">Ctrl+a+d			&#x2F;&#x2F;暂时离开当前session【前台运行bash时这样退出，恢复之后bash依然在运行】</span><br><span class="line">screen -r ag		&#x2F;&#x2F;恢复ag会话</span><br><span class="line">exit				&#x2F;&#x2F;退出当前会话【detached】</span><br><span class="line"></span><br><span class="line">screen -X -S ag quit			&#x2F;&#x2F;删除会话ag</span><br><span class="line">kill -9 会话ID					&#x2F;&#x2F;删除会话</span><br></pre></td></tr></table></figure>





<h2 id="系统日志"><a href="#系统日志" class="headerlink" title="系统日志"></a>系统日志</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cd &#x2F;var&#x2F;log</span><br><span class="line"></span><br><span class="line">tail -f messages		&#x2F;&#x2F;系统日志</span><br><span class="line">tail -f</span><br></pre></td></tr></table></figure>







<h2 id="systemctl"><a href="#systemctl" class="headerlink" title="systemctl"></a>systemctl</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/10.png" alt="10"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">systemctl get-default		&#x2F;&#x2F;查看当前级别</span><br><span class="line">systemctl set-default 【级别】	&#x2F;&#x2F;设置重启之后的级别</span><br><span class="line">【查看对应级别：   cd &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system    ls -l runlevel*.target 】</span><br><span class="line"></span><br><span class="line">0		关机</span><br><span class="line">1		字符界面</span><br><span class="line">2-4		多用户模式</span><br><span class="line">5		图形界面</span><br><span class="line">6		重启</span><br></pre></td></tr></table></figure>





<h2 id="SElinux"><a href="#SElinux" class="headerlink" title="SElinux"></a>SElinux</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/11.png" alt="11"></p>
<h2 id="内存与磁盘管理"><a href="#内存与磁盘管理" class="headerlink" title="内存与磁盘管理"></a>内存与磁盘管理</h2><h3 id="查看内存"><a href="#查看内存" class="headerlink" title="查看内存"></a>查看内存</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">free</span><br><span class="line">free -m		&#x2F;&#x2F;以M为单位</span><br><span class="line"></span><br><span class="line">top</span><br></pre></td></tr></table></figure>



<h3 id="查看磁盘"><a href="#查看磁盘" class="headerlink" title="查看磁盘"></a>查看磁盘</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l	&#x2F;&#x2F;查看磁盘信息</span><br><span class="line">parted -l	&#x2F;&#x2F;查看磁盘信息</span><br><span class="line"></span><br><span class="line">df -h		&#x2F;&#x2F;查看磁盘挂载点</span><br><span class="line">du 【文件名】	&#x2F;&#x2F;查看文件真实大小【即去除空洞大小】</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>创建带有空洞的文件：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dd if&#x3D;&#x2F;dev&#x2F;zero【输入文件】 bs&#x3D;4M【复制的每一块的大小】 count&#x3D;10【一共复制几块】 seek&#x3D;20【创建带空洞文件的参数：输出文件中跳过20块开始复制】 of&#x3D;afile【输出文件】</span><br></pre></td></tr></table></figure>

<p><img src="/2021/03/21/linux100%E8%AE%B2/12.png" alt="12"></p>
</blockquote>
<h3 id="i节点"><a href="#i节点" class="headerlink" title="i节点"></a>i节点</h3><p>每个文件都有一个i节点，具体可以通过<code>ls -i</code>查看，有些操作会改变i节点的值【vim file(创建时，会产生.file.swp)】，有些不会【echo &gt; file】</p>
<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><h4 id="硬链接"><a href="#硬链接" class="headerlink" title="硬链接"></a>硬链接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln afile【本来就有的文件】 bfile			</span><br><span class="line">&#x2F;&#x2F;该操作能将bfile指向和afile一样的i节点，对bfile和afile的操作都相当于对该i节点进行操作</span><br></pre></td></tr></table></figure>

<p>不可以跨文件系统</p>
<h4 id="软链接"><a href="#软链接" class="headerlink" title="软链接"></a>软链接</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s afile bfile		&#x2F;&#x2F;i节点会改变，相当于创建了一个新文件【bfile -&gt; afile】</span><br></pre></td></tr></table></figure>

<p>可以跨文件系统</p>
<h3 id="磁盘分区"><a href="#磁盘分区" class="headerlink" title="磁盘分区"></a>磁盘分区</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fdisk -l			&#x2F;&#x2F;查看分区</span><br><span class="line">fdisk &#x2F;dev&#x2F;sdb		&#x2F;&#x2F;进入分区帮助</span><br><span class="line">parted &#x2F;dev&#x2F;sdb		&#x2F;&#x2F;大于2T的磁盘分区</span><br><span class="line"></span><br><span class="line">mkfs.ext4 &#x2F;dev&#x2F;sdb1					&#x2F;&#x2F;格式化分区sdb1为ext4格式</span><br><span class="line">mount &#x2F;dev&#x2F;sdb1 &#x2F;mnt&#x2F;sdb1			&#x2F;&#x2F;临时挂载</span><br><span class="line">mount								&#x2F;&#x2F;查看临时挂载</span><br><span class="line"></span><br><span class="line">vim &#x2F;etc&#x2F;fstab   写入：</span><br><span class="line">&#x2F;dev&#x2F;sdb1 &#x2F;mnt&#x2F;sdb1 ext4【分区类型】 defaults【默认可读可写】 0 0</span><br></pre></td></tr></table></figure>





<h3 id="用户磁盘配额"><a href="#用户磁盘配额" class="headerlink" title="用户磁盘配额"></a>用户磁盘配额</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/13.png" alt="13"></p>
<h3 id="交换分区"><a href="#交换分区" class="headerlink" title="交换分区"></a>交换分区</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/14.png" alt="14"></p>
<p>文件直接swap分区法：</p>
<p>永久修改：<code>vim /etc/fstab</code>，写入</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;swapfile【创建的空文件】 swap【挂载到swap交换分区上】 swap【分区类型】 defaults【默认可读可写】 0 0</span><br></pre></td></tr></table></figure>





<h3 id="RAID"><a href="#RAID" class="headerlink" title="RAID"></a>RAID</h3><p><img src="/2021/03/21/linux100%E8%AE%B2/15.png" alt="15"></p>
<h3 id="逻辑卷LVM"><a href="#逻辑卷LVM" class="headerlink" title="逻辑卷LVM"></a>逻辑卷LVM</h3><p>未完待续</p>
<h3 id="查看系统综合状态"><a href="#查看系统综合状态" class="headerlink" title="查看系统综合状态"></a>查看系统综合状态</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sar -u【查看CPU状态】 1【每1秒采样1次】 10【一共采样10次1】</span><br><span class="line"></span><br><span class="line">iftop	&#x2F;&#x2F;查看网络状态</span><br></pre></td></tr></table></figure>











<h2 id="shell编程"><a href="#shell编程" class="headerlink" title="shell编程"></a>shell编程</h2><p><img src="/2021/03/21/linux100%E8%AE%B2/16.png" alt="16"></p>
<p>格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!&#x2F;bin&#x2F;bash</span><br><span class="line">#该脚本作用</span><br><span class="line"></span><br><span class="line">#内容</span><br></pre></td></tr></table></figure>

<p>写完后加执行权限</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x file</span><br></pre></td></tr></table></figure>

<p>几种执行方式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">bash file.sh		&#x2F;&#x2F;不要x权限，不改变当前目录</span><br><span class="line">.&#x2F;file.sh			&#x2F;&#x2F;要x权限，不改变当前目录</span><br><span class="line">source .&#x2F;file.sh	&#x2F;&#x2F;不要x权限,改变当前目录</span><br><span class="line">. .&#x2F;file.sh			&#x2F;&#x2F;不要x权限,改变当前目录</span><br></pre></td></tr></table></figure>





<h3 id="重定向"><a href="#重定向" class="headerlink" title="重定向"></a>重定向</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">read val &lt; 1.txt</span><br><span class="line">echo $val 				&#x2F;&#x2F;1.txt内容</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;输出重定向</span><br><span class="line">echo 12 &gt; 1.txt		&#x2F;&#x2F;删除原来内容，改成12</span><br><span class="line">echo 12 &gt;&gt; 1.txt	&#x2F;&#x2F;在1.txt后追加12</span><br><span class="line">echo 12 2&gt; 1.txt	&#x2F;&#x2F;如果报错，将报错内容写到1.txt</span><br><span class="line">echo 12 &amp;&gt; 1.txt	&#x2F;&#x2F;基本信息和报错信息都写入到1.txt</span><br></pre></td></tr></table></figure>

<blockquote>
<h4 id="EOF用法："><a href="#EOF用法：" class="headerlink" title="EOF用法："></a>EOF用法：</h4><p>EOF一般会配合cat能够多行文本输出.<br>其用法如下:<br>&lt;&lt;EOF     //开始<br>….<br>EOF      //结束</p>
<p>举例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat &gt; 2.sh &lt;&lt;EOF</span><br><span class="line">hello</span><br><span class="line">123</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<p>作用是将hello\n123写入到2.sh</p>
</blockquote>
<h3 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h3><ol>
<li><p>赋值时等号两边不能出现空格</p>
</li>
<li><pre><code>将命令结果赋值
letc=$(ls -l /etc)
或
letc=`ls -l /etc`
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">3. 字符串赋值时带空格用单引号或者双引号</span><br></pre></td></tr></table></figure>
str=&quot;hello world&quot;
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4. 变量引用</span><br></pre></td></tr></table></figure>
echo ${val}
echo $val
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">5. 删除变量赋值</span><br></pre></td></tr></table></figure>
unset val
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 环境变量</span><br></pre></td></tr></table></figure>
env            //查看环境变量
</code></pre></li>
</ol>
<p>$USER        //查看当前用户<br>$PATH        //查看环境路径</p>
<p>$?            //上一条命令正常执行显示0，报错显示1<br>$$            //显示当前进程PID<br>$0            //显示当前进程名称<br>$1            //第一个参数</p>
<p>$*/$@        //代表所有位置的参数<br>$#            //代表参数的个数</p>
<p>pos=${1-_}        //如果第一个参数有值，则取值；如果为空值则取下划线。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&gt; 我们可以增加环境路径</span><br><span class="line">&gt;</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>PATH=$PATH:/root</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">这样在任何路径都可以执行&#x2F;root目录下的1.sh</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">**环境变量配置文件执行顺序：**</span><br><span class="line"></span><br><span class="line">![17](linux100讲&#x2F;17.png) </span><br></pre></td></tr></table></figure>
<p>source /etc/bashrc            //更新环境变量</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 数组</span><br><span class="line"></span><br><span class="line">![18](linux100讲&#x2F;18.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 引号</span><br><span class="line"></span><br><span class="line">单引号【完全引用】：里面是什么就显示什么</span><br><span class="line"></span><br><span class="line">双引号【不完全引用】：如果里面有$变量，会显示变量的值</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![19](linux100讲&#x2F;19.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 运算符</span><br><span class="line"></span><br><span class="line">#### 算数运算符</span><br></pre></td></tr></table></figure>
<p>expr 4 + 5            //expr不支持浮点数<br>n1=<code>expr 4 + 5</code>        //等号两边不能有空格</p>
<p>let “变量名=变量值”<br>(( a=10 ))</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 括号</span><br><span class="line"></span><br><span class="line">![20](linux100讲&#x2F;20.png)</span><br></pre></td></tr></table></figure>
<p>[ 5 -gt 4 ]<br>[[ 5 &gt; 4 ]]<br>//echo $?  可测试上述表达式为真还是为急假</p>
<p>{}<br>echo {0..9}            输出0-9<br>cp -v filename{,.bak}<br>//相当于<br>cp -v filename filename.bak</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### test</span><br></pre></td></tr></table></figure>
<p>判断/etc/passwd是否为文件<br>test -f /etc/passwd<br>[ -f /etc/passwd ]<br>//echo $? 为0为真，为非0为假</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### if-elif-else</span><br></pre></td></tr></table></figure>
<p>if [[ 5 &gt; 4 ]] ; then<br>    echo “yes”<br>elif [ $UID = 1 ] ; then<br>    echo “root”<br>else<br>    echo “no”<br>fi</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### if嵌套</span><br></pre></td></tr></table></figure>
<p>if [ $UID = 1 ] ; then<br>    echo “root”<br>    if [ -x /tmp/1.sh ] ; then<br>        bash /tmp/1.sh<br>    fi<br>else<br>    echo “switch root”<br>fi</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### case</span><br></pre></td></tr></table></figure>
<p>case “$1” in<br>    “start”|”START”)        //注意！：”start|START”)不可以！！！会被当成一个输入参数<br>    echo $0 start<br>    ;;</p>
<pre><code>&quot;stop&quot;|&quot;STOP&quot;)
echo $0 stop
;;

*)
echo $0 error
;;</code></pre><p>esac</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### for</span><br><span class="line"></span><br><span class="line">#### shell风格的for</span><br></pre></td></tr></table></figure>
<p>#将该目录下所有mp3文件改成mp4<br>for $filename in <code>ls *.mp3</code><br>    do<br>        mv $filename $(basename $filename .mp3).mp4<br>    done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### C语言风格的for</span><br></pre></td></tr></table></figure>
<p>for (( i=0 ; i&lt;10 ; i++ ))<br>    do<br>        echo print $i<br>    done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### while</span><br></pre></td></tr></table></figure>
<p>a=0<br>while [ $a -lt 10 ]<br>do<br>    echo $a<br>    ((a++))<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">#### while死循环</span><br></pre></td></tr></table></figure>
<p>while :<br>do<br>    echo forever<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### until【与while相反】</span><br></pre></td></tr></table></figure>
<p>a=0<br>until [ $a -gt 10 ]        //为假时执行【直到a&gt;10才结束】<br>do<br>    echo $a<br>    ((a++))<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### break和continue</span><br></pre></td></tr></table></figure>
<p>for i in {0..9}<br>do<br>    if [[ $i = 5 ]] ; then<br>        break/continue<br>    fi<br>    echo $i<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 参数的处理</span><br></pre></td></tr></table></figure>
<p>#for处理：</p>
<p>for i in $*<br>do<br>    $i ####<br>done</p>
<p>#while处理</p>
<p>while [ $# -ge 1 ]<br>do<br>    $1 #####<br>shift                    //shift代表把参数左移,这样每次循环$1都代表一个不同的参数<br>done</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; shift代表把参数左移,这样每次循环$1都代表一个不同的参数</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 自定义函数</span><br></pre></td></tr></table></figure>
<p>checkpid(){<br>    local i            //声明函数内的局部变量<br>    for i in $*; do<br>        [ -d “/proc/$i” ] &amp;&amp; return 0        //如果&amp;&amp;前成立，则执行&amp;&amp;后内容<br>    done<br>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## 正则表达式及文本搜索</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![21](linux100讲&#x2F;21.png)</span><br></pre></td></tr></table></figure>
<p>grep [正则] 搜索的文件<br>find 搜索的目录 -type [d/f]  -name/-regex [正则] -a/c/mtime [时间    ]</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&gt; find在使用-name和-regex时有区别：</span><br><span class="line">&gt;</span><br><span class="line">&gt; 比如匹配pass开头的内容</span><br><span class="line">&gt;</span><br><span class="line">&gt; find -name pass*</span><br><span class="line">&gt;</span><br><span class="line">&gt; find -regex pass.*</span><br><span class="line"></span><br><span class="line">[find命令的高级用法-exec](https:&#x2F;&#x2F;blog.csdn.net&#x2F;qq_42019406&#x2F;article&#x2F;details&#x2F;102469554)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#### 常见命令</span><br></pre></td></tr></table></figure>
<p>find *txt -exec rm -v {} ;</p>
<p>grep pass /root/anaconda-ks.cfg | cut -d “ “ -f 1            //找到的字符以” “分割并找出第一部分</p>
<p>cut -d “:” -f7 /etc/passwd | sort | uniq -c</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">## sed</span><br><span class="line"></span><br><span class="line">![22](linux100讲&#x2F;22.png)</span><br><span class="line"></span><br><span class="line">![23](linux100讲&#x2F;23.png)</span><br></pre></td></tr></table></figure>
<p>-e            //多次匹配<br>-i            //ji==将结果写入到原文件<br>-r            //扩展正则表达式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">1. &#x2F;仅作为分隔符，如果匹配的内容含有&#x2F;，则可将&#x2F;换为！等</span><br></pre></td></tr></table></figure>
<p>   sed ‘s!/!123!’ file            //将file里的/换为123<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. sed对多行文件进行处理时，只会匹配修改每一行第一个匹配到的</span><br><span class="line"></span><br><span class="line">3.</span><br></pre></td></tr></table></figure><br>   sed -e ‘s/old1/new1/‘ -e ‘s/old2/new2’ filename<br>   相当于<br>   sed -e ‘s/old1/new1/;s/old2/new2/‘<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">4.</span><br></pre></td></tr></table></figure><br>   file: axxxb bwa</p>
<p>   sed -r ‘s/(a.<em>b)|(b.</em>a)/\2:\1/‘<br>   输出：<br>   bwa:axxxb<br>   <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line">### 标志位</span><br></pre></td></tr></table></figure><br>sed ‘s/old/new/g’ file                    //全局替换<br>sed ‘s/old/new/n’ file                    //只替换匹配到的第n个<br>sed ‘s/old/new/p’ file                    //匹配成功的打印两次<br>sed  -n ‘s/old/new/p’ file                //只打印匹配成功的【-n指取消默认输出】<br>sed  -n ‘s/old/new/w 1.txt’ file        //把匹配成功的行输出到1.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 寻址</span><br></pre></td></tr></table></figure>
<p>sed ‘m,ns/old/new/‘ file            //在m行到n行之间匹配【$可以代表最后一行】<br>sed ‘/正则表达式/s/old/new/‘ file    //正则表达式匹配到的行进行替换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 删除</span><br></pre></td></tr></table></figure>
<p>sed ‘/匹配内容/d’ file            //删除匹配内容所在行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 修改</span><br></pre></td></tr></table></figure>
<p>sed ‘/匹配内容/i xxx’ file            //在匹配到的行号的前一行插入xxx<br>sed ‘/匹配内容/a xxx’ file            //在匹配到的行号的后一行插入xxx<br>sed ‘/匹配内容/c xxx’ file            //将匹配到的行号替换为xxx</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 退出</span><br></pre></td></tr></table></figure>
<p>sed 10q file             //读取完前十行就退出</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 多行模式</span><br><span class="line"></span><br><span class="line">![24](linux100讲&#x2F;24.png)</span><br></pre></td></tr></table></figure>
<p>sed ‘N;s/\n//;s/hello bash/hello sed\n/;P;D’ b.txt</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>before:<br>hell<br>o bash hel<br>lo bash</p>
<p>after:<br>hello sed<br>hello sed</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### 保持空间</span><br><span class="line"></span><br><span class="line">![25](linux100讲&#x2F;25.png)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">![26](linux100讲&#x2F;26.png)</span><br><span class="line"></span><br><span class="line">保持空间刚开始存储的是\n</span><br></pre></td></tr></table></figure>
<p>sed -n ‘1!G;h;$p’</p>
<p>```</p>
<h2 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h2></div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">Author: </span><span class="post-copyright-info"><a href="mailto:undefined">George</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">Link: </span><span class="post-copyright-info"><a href="http://yoursite.com/2021/03/21/linux100%E8%AE%B2/">http://yoursite.com/2021/03/21/linux100%E8%AE%B2/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">Copyright Notice: </span><span class="post-copyright-info">All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank" rel="noopener">CC BY-NC-SA 4.0</a> unless stating additionally.</span></div></div><div class="post-meta__tag-list"></div><div class="addthis_inline_share_toolbox pull-right"></div><script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=undefined" async></script><nav id="pagination"><div class="prev-post pull-left"><a href="/2021/04/08/%E6%B8%97%E9%80%8F%E9%9D%B6%E6%9C%BA%E6%80%BB%E7%BB%93/"><i class="fa fa-chevron-left">  </i><span>渗透靶机总结</span></a></div><div class="next-post pull-right"><a href="/2021/03/17/%E6%80%BB%E7%BB%93/"><span>总结</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://Albatross-G.github.io/img/a1.png)"><div class="layout" id="footer"><div class="copyright">&copy;2013 - 2021 By George</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io" target="_blank" rel="noopener"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody" target="_blank" rel="noopener"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file-o"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.6.1"></script><script src="/js/fancybox.js?version=1.6.1"></script><script src="/js/sidebar.js?version=1.6.1"></script><script src="/js/copy.js?version=1.6.1"></script><script src="/js/fireworks.js?version=1.6.1"></script><script src="/js/transition.js?version=1.6.1"></script><script src="/js/scroll.js?version=1.6.1"></script><script src="/js/head.js?version=1.6.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" target="_blank" rel="noopener" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"jsonPath":"/live2dw/assets/hijiki.model.json"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true}});</script></body></html>